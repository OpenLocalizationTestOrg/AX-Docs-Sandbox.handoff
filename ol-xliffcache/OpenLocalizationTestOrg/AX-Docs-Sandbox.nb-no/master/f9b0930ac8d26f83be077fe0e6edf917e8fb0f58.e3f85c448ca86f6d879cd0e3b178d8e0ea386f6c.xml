{"content":"---\n# required metadata\n\ntitle: Demand forecasting setup\ndescription: This topic describes the setup tasks that you must perform to prepare for demand forecasting.  \nauthor: YuyuScheller\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-applications\nms.technology: \n\n# optional metadata\n\nms.search.form: ReqDemPlanDefaultAlgorithmParameters, ReqDemPlanForecastParameters\n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: 2094\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 72653\nms.assetid: c5fa4b09-512d-4349-ac51-cc13da69a160\nms.search.region: global\nms.search.industry: Manufacturing\nms.author: roxanad\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Demand forecasting setup\n\n[!include[banner](../includes/banner.md)]\n\n\nThis topic describes the setup tasks that you must perform to prepare for demand forecasting.  \n\nThe setup tasks include setting up the following data and parameters.\n\n## Item allocation key\nA demand forecast is calculated for an item and its dimensions only if the item is part of an item allocation key. This rule is enforced to group large numbers of items, so that demand forecasts can be created more quickly. The item allocation key percentage is ignored when demand forecasts are generated. Forecasts are created based on historical data only. \n\nAn item and its dimensions must be part of only one item allocation key if the item allocation key is used during forecast creation. \n\nTo add a stock keeping unit (SKU) to an item allocation key, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Item allocation keys**. Use the **Assign items** page to assign an item to an allocation key.\n\n## Intercompany planning groups\nDemand forecasting generates cross-company forecasts. In Microsoft Dynamics 365 for Operations, companies that are planned together are grouped into one intercompany planning group. To specify, per company, which item allocation keys should be considered for demand forecasting, associate an item allocation key with the intercompany planning group member by going to **Master planning** &gt; **Setup** &gt; **Intercompany planning groups**. \n\nBy default, if no item allocation keys are assigned to intercompany planning group members, a demand forecast is calculated for all items that are assigned to all item allocation keys from all Dynamics 365 for Operations companies. Additional filtering options for companies and item allocation keys are available on the **Generate statistical baseline forecast** page. \n\nReview the number of items that are forecasted. Unnecessary items might cause increased costs when you use Microsoft Azure Machine Learning.\n\n## Demand forecasting parameters\nTo set up demand forecasting parameters, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting parameters**. Because demand forecasting runs cross-company, the setup is global. In other words, the setup applies to all companies. \n\nDemand forecasting generates the forecast in quantities. Therefore, the unit of measure that the quantity should be expressed in must be specified in the **Demand forecast unit** field. The unit of measure must be unique, to help guarantee that the aggregation and percentage distribution make sense. For more information about aggregation and percentage distribution, see [Make manual adjustments to the baseline forecast](manual-adjustments-baseline-forecast.md). For every unit of measure that is used for SKUs that are included in demand forecasting, make sure that there is a conversion rule for the unit of measure and the general forecasting unit of measure. When forecast generation is run, the list of items that don't have a unit of measure conversion is logged, so that you can easily correct the setup. \n\nDemand forecasting can be used to forecast both dependent and independent demand. For example, if only the **Sales order** check box is selected, and if all the items that are considered for demand forecasting are items that are sold, the system calculates independent demand. However, critical subcomponents can be added to item allocation keys and included in demand forecasting. In this case, if the **Production line** check box is selected, a dependent forecast is calculated. \n\nThere are two methods for creating a baseline forecast in Dynamics 365 for Operations. You can use forecasting models on top of historical data, or you can just copy over the historical data to the forecast. The **Forecast generation strategy** field lets you select between these two methods. To use forecast models, select **Azure Machine Learning**. \n\nBy clicking **Forecast dimensions** in the left pane of the **Demand forecasting parameters** page, you can also select the set of forecast dimensions to use when the demand forecast is generated. A forecast dimension indicates the level of detail that the forecast is defined for. Company, site, and item allocation key are mandatory forecast dimensions, but you can also generate forecasts at the warehouse, inventory status, customer group, customer account, country/region, state, and item plus all item dimension levels. \n\nAt any point, you can add forecast dimensions to the list of dimensions that are used for demand forecasting. You can also remove forecast dimensions from the list. However, manual adjustments are lost if you add or remove a forecast dimension. \n\nNot all items behave in the same manner from a demand forecasting perspective. Similar items can be grouped in one item allocation key, and parameters such as transaction types and forecast method settings can be set per item allocation key. Click **Item allocation keys** in the left pane of the **Demand forecasting parameters** page. \n\nTo generate the forecast, Dynamics 365 for Operations uses a Machine Learning web service. To connect to the service, you must provide Dynamics 365 for Operations the following information if you sign in to Microsoft Azure Machine Learning Studio:\n\n-   Web service application programming interface (API) key\n-   Web service endpoint URL\n-   Azure storage account name\n-   Azure storage account key\n\n**Note:** The Azure storage account name and key are required only if you use a custom storage account. If you deploy the on-premises version, you must have a custom storage account on Azure, so that the Machine Learning service can access the historical data. \n\nTo create demand predictions, you can deploy your own service by using Machine Learning Studio or the Dynamics 365 for Operations demand forecasting experiments. Instructions for deploying the Dynamics 365 for Operations demand forecasting experiments as a web service are available Dynamics 365 for Operations. On the **Demand forecasting parameters** page, click the **Azure Machine Learning** tab.\n\n## Settings for the Dynamics 365 for Operations demand forecasting machine learning service\nTo view the parameters that can be configured for the Dynamics 365 for Operations demand forecasting service, go to **Master Planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Forecasting algorithm parameters**. The **Forecasting algorithm parameters** page shows the default values for the parameters. You can overwrite these parameters on the **Demand forecasting parameters** page. Use the **General** tab to overwrite the parameters globally, or use the **Item allocation keys** tab to overwrite the parameters per item allocation key. Parameters that are overwritten for an item allocation key affect only the forecast of items that are associated with that item allocation key.\n\nSee also\n--------\n\n[Introduction to demand forecasting](introduction-demand-forecasting.md)\n\n[Generating a statistical baseline forecast](generate-statistical-baseline-forecast.md)\n\n[Making manual adjustments to the baseline forecast](manual-adjustments-baseline-forecast.md)\n\n\n\n","nodes":[{"pos":[32,56],"content":"Demand forecasting setup","needQuote":true,"needEscape":true,"nodes":[{"content":"Demand forecasting setup","pos":[0,24]}]},{"pos":[70,163],"content":"This topic describes the setup tasks that you must perform to prepare for demand forecasting.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes the setup tasks that you must perform to prepare for demand forecasting.","pos":[0,93]}]},{"pos":[759,783],"content":"Demand forecasting setup","linkify":"Demand forecasting setup","nodes":[{"content":"Demand forecasting setup","pos":[0,24]}]},{"content":"This topic describes the setup tasks that you must perform to prepare for demand forecasting.","pos":[829,922]},{"content":"The setup tasks include setting up the following data and parameters.","pos":[926,995]},{"pos":[1000,1019],"content":"Item allocation key","linkify":"Item allocation key","nodes":[{"content":"Item allocation key","pos":[0,19]}]},{"content":"A demand forecast is calculated for an item and its dimensions only if the item is part of an item allocation key.","pos":[1020,1134]},{"content":"This rule is enforced to group large numbers of items, so that demand forecasts can be created more quickly.","pos":[1135,1243]},{"content":"The item allocation key percentage is ignored when demand forecasts are generated.","pos":[1244,1326]},{"content":"Forecasts are created based on historical data only.","pos":[1327,1379]},{"content":"An item and its dimensions must be part of only one item allocation key if the item allocation key is used during forecast creation.","pos":[1382,1514]},{"content":"To add a stock keeping unit (SKU) to an item allocation key, go to <bpt id=\"p1\">**</bpt>Master planning<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Demand forecasting<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Item allocation keys<ept id=\"p4\">**</ept>.","pos":[1517,1677],"source":"To add a stock keeping unit (SKU) to an item allocation key, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Item allocation keys**."},{"content":"Use the <bpt id=\"p1\">**</bpt>Assign items<ept id=\"p1\">**</ept> page to assign an item to an allocation key.","pos":[1678,1747],"source":" Use the **Assign items** page to assign an item to an allocation key."},{"pos":[1752,1780],"content":"Intercompany planning groups","linkify":"Intercompany planning groups","nodes":[{"content":"Intercompany planning groups","pos":[0,28]}]},{"content":"Demand forecasting generates cross-company forecasts.","pos":[1781,1834]},{"content":"In Microsoft Dynamics 365 for Operations, companies that are planned together are grouped into one intercompany planning group.","pos":[1835,1962]},{"content":"To specify, per company, which item allocation keys should be considered for demand forecasting, associate an item allocation key with the intercompany planning group member by going to <bpt id=\"p1\">**</bpt>Master planning<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Intercompany planning groups<ept id=\"p3\">**</ept>.","pos":[1963,2222],"source":" To specify, per company, which item allocation keys should be considered for demand forecasting, associate an item allocation key with the intercompany planning group member by going to **Master planning** &gt; **Setup** &gt; **Intercompany planning groups**."},{"content":"By default, if no item allocation keys are assigned to intercompany planning group members, a demand forecast is calculated for all items that are assigned to all item allocation keys from all Dynamics 365 for Operations companies.","pos":[2225,2456]},{"content":"Additional filtering options for companies and item allocation keys are available on the <bpt id=\"p1\">**</bpt>Generate statistical baseline forecast<ept id=\"p1\">**</ept> page.","pos":[2457,2594],"source":" Additional filtering options for companies and item allocation keys are available on the **Generate statistical baseline forecast** page."},{"content":"Review the number of items that are forecasted.","pos":[2597,2644]},{"content":"Unnecessary items might cause increased costs when you use Microsoft Azure Machine Learning.","pos":[2645,2737]},{"pos":[2742,2771],"content":"Demand forecasting parameters","linkify":"Demand forecasting parameters","nodes":[{"content":"Demand forecasting parameters","pos":[0,29]}]},{"content":"To set up demand forecasting parameters, go to <bpt id=\"p1\">**</bpt>Master planning<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Demand forecasting parameters<ept id=\"p3\">**</ept>.","pos":[2772,2893],"source":"To set up demand forecasting parameters, go to **Master planning** &gt; **Setup** &gt; **Demand forecasting parameters**."},{"content":"Because demand forecasting runs cross-company, the setup is global.","pos":[2894,2961]},{"content":"In other words, the setup applies to all companies.","pos":[2962,3013]},{"content":"Demand forecasting generates the forecast in quantities.","pos":[3016,3072]},{"content":"Therefore, the unit of measure that the quantity should be expressed in must be specified in the <bpt id=\"p1\">**</bpt>Demand forecast unit<ept id=\"p1\">**</ept> field.","pos":[3073,3201],"source":" Therefore, the unit of measure that the quantity should be expressed in must be specified in the **Demand forecast unit** field."},{"content":"The unit of measure must be unique, to help guarantee that the aggregation and percentage distribution make sense.","pos":[3202,3316]},{"content":"For more information about aggregation and percentage distribution, see <bpt id=\"p1\">[</bpt>Make manual adjustments to the baseline forecast<ept id=\"p1\">](manual-adjustments-baseline-forecast.md)</ept>.","pos":[3317,3481],"source":" For more information about aggregation and percentage distribution, see [Make manual adjustments to the baseline forecast](manual-adjustments-baseline-forecast.md)."},{"content":"For every unit of measure that is used for SKUs that are included in demand forecasting, make sure that there is a conversion rule for the unit of measure and the general forecasting unit of measure.","pos":[3482,3681]},{"content":"When forecast generation is run, the list of items that don't have a unit of measure conversion is logged, so that you can easily correct the setup.","pos":[3682,3830]},{"content":"Demand forecasting can be used to forecast both dependent and independent demand.","pos":[3833,3914]},{"content":"For example, if only the <bpt id=\"p1\">**</bpt>Sales order<ept id=\"p1\">**</ept> check box is selected, and if all the items that are considered for demand forecasting are items that are sold, the system calculates independent demand.","pos":[3915,4109],"source":" For example, if only the **Sales order** check box is selected, and if all the items that are considered for demand forecasting are items that are sold, the system calculates independent demand."},{"content":"However, critical subcomponents can be added to item allocation keys and included in demand forecasting.","pos":[4110,4214]},{"content":"In this case, if the <bpt id=\"p1\">**</bpt>Production line<ept id=\"p1\">**</ept> check box is selected, a dependent forecast is calculated.","pos":[4215,4314],"source":" In this case, if the **Production line** check box is selected, a dependent forecast is calculated."},{"content":"There are two methods for creating a baseline forecast in Dynamics 365 for Operations.","pos":[4317,4403]},{"content":"You can use forecasting models on top of historical data, or you can just copy over the historical data to the forecast.","pos":[4404,4524]},{"content":"The <bpt id=\"p1\">**</bpt>Forecast generation strategy<ept id=\"p1\">**</ept> field lets you select between these two methods.","pos":[4525,4610],"source":" The **Forecast generation strategy** field lets you select between these two methods."},{"content":"To use forecast models, select <bpt id=\"p1\">**</bpt>Azure Machine Learning<ept id=\"p1\">**</ept>.","pos":[4611,4669],"source":" To use forecast models, select **Azure Machine Learning**."},{"content":"By clicking <bpt id=\"p1\">**</bpt>Forecast dimensions<ept id=\"p1\">**</ept> in the left pane of the <bpt id=\"p2\">**</bpt>Demand forecasting parameters<ept id=\"p2\">**</ept> page, you can also select the set of forecast dimensions to use when the demand forecast is generated.","pos":[4672,4868],"source":"By clicking **Forecast dimensions** in the left pane of the **Demand forecasting parameters** page, you can also select the set of forecast dimensions to use when the demand forecast is generated."},{"content":"A forecast dimension indicates the level of detail that the forecast is defined for.","pos":[4869,4953]},{"content":"Company, site, and item allocation key are mandatory forecast dimensions, but you can also generate forecasts at the warehouse, inventory status, customer group, customer account, country/region, state, and item plus all item dimension levels.","pos":[4954,5197]},{"content":"At any point, you can add forecast dimensions to the list of dimensions that are used for demand forecasting.","pos":[5200,5309]},{"content":"You can also remove forecast dimensions from the list.","pos":[5310,5364]},{"content":"However, manual adjustments are lost if you add or remove a forecast dimension.","pos":[5365,5444]},{"content":"Not all items behave in the same manner from a demand forecasting perspective.","pos":[5447,5525]},{"content":"Similar items can be grouped in one item allocation key, and parameters such as transaction types and forecast method settings can be set per item allocation key.","pos":[5526,5688]},{"content":"Click <bpt id=\"p1\">**</bpt>Item allocation keys<ept id=\"p1\">**</ept> in the left pane of the <bpt id=\"p2\">**</bpt>Demand forecasting parameters<ept id=\"p2\">**</ept> page.","pos":[5689,5783],"source":" Click **Item allocation keys** in the left pane of the **Demand forecasting parameters** page."},{"content":"To generate the forecast, Dynamics 365 for Operations uses a Machine Learning web service.","pos":[5786,5876]},{"content":"To connect to the service, you must provide Dynamics 365 for Operations the following information if you sign in to Microsoft Azure Machine Learning Studio:","pos":[5877,6033]},{"content":"Web service application programming interface (API) key","pos":[6039,6094]},{"content":"Web service endpoint URL","pos":[6099,6123]},{"content":"Azure storage account name","pos":[6128,6154]},{"content":"Azure storage account key","pos":[6159,6184]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The Azure storage account name and key are required only if you use a custom storage account.","pos":[6186,6289],"source":"**Note:** The Azure storage account name and key are required only if you use a custom storage account."},{"content":"If you deploy the on-premises version, you must have a custom storage account on Azure, so that the Machine Learning service can access the historical data.","pos":[6290,6446]},{"content":"To create demand predictions, you can deploy your own service by using Machine Learning Studio or the Dynamics 365 for Operations demand forecasting experiments.","pos":[6449,6610]},{"content":"Instructions for deploying the Dynamics 365 for Operations demand forecasting experiments as a web service are available Dynamics 365 for Operations.","pos":[6611,6760]},{"content":"On the <bpt id=\"p1\">**</bpt>Demand forecasting parameters<ept id=\"p1\">**</ept> page, click the <bpt id=\"p2\">**</bpt>Azure Machine Learning<ept id=\"p2\">**</ept> tab.","pos":[6761,6849],"source":" On the **Demand forecasting parameters** page, click the **Azure Machine Learning** tab."},{"pos":[6854,6942],"content":"Settings for the Dynamics 365 for Operations demand forecasting machine learning service","linkify":"Settings for the Dynamics 365 for Operations demand forecasting machine learning service","nodes":[{"content":"Settings for the Dynamics 365 for Operations demand forecasting machine learning service","pos":[0,88]}]},{"content":"To view the parameters that can be configured for the Dynamics 365 for Operations demand forecasting service, go to <bpt id=\"p1\">**</bpt>Master Planning<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Demand forecasting<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Forecasting algorithm parameters<ept id=\"p4\">**</ept>.","pos":[6943,7164],"source":"To view the parameters that can be configured for the Dynamics 365 for Operations demand forecasting service, go to **Master Planning** &gt; **Setup** &gt; **Demand forecasting** &gt; **Forecasting algorithm parameters**."},{"content":"The <bpt id=\"p1\">**</bpt>Forecasting algorithm parameters<ept id=\"p1\">**</ept> page shows the default values for the parameters.","pos":[7165,7255],"source":" The **Forecasting algorithm parameters** page shows the default values for the parameters."},{"content":"You can overwrite these parameters on the <bpt id=\"p1\">**</bpt>Demand forecasting parameters<ept id=\"p1\">**</ept> page.","pos":[7256,7337],"source":" You can overwrite these parameters on the **Demand forecasting parameters** page."},{"content":"Use the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> tab to overwrite the parameters globally, or use the <bpt id=\"p2\">**</bpt>Item allocation keys<ept id=\"p2\">**</ept> tab to overwrite the parameters per item allocation key.","pos":[7338,7492],"source":" Use the **General** tab to overwrite the parameters globally, or use the **Item allocation keys** tab to overwrite the parameters per item allocation key."},{"content":"Parameters that are overwritten for an item allocation key affect only the forecast of items that are associated with that item allocation key.","pos":[7493,7636]},{"pos":[7638,7646],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7657,7729],"content":"<bpt id=\"p1\">[</bpt>Introduction to demand forecasting<ept id=\"p1\">](introduction-demand-forecasting.md)</ept>","source":"[Introduction to demand forecasting](introduction-demand-forecasting.md)"},{"pos":[7731,7818],"content":"<bpt id=\"p1\">[</bpt>Generating a statistical baseline forecast<ept id=\"p1\">](generate-statistical-baseline-forecast.md)</ept>","source":"[Generating a statistical baseline forecast](generate-statistical-baseline-forecast.md)"},{"pos":[7820,7913],"content":"<bpt id=\"p1\">[</bpt>Making manual adjustments to the baseline forecast<ept id=\"p1\">](manual-adjustments-baseline-forecast.md)</ept>","source":"[Making manual adjustments to the baseline forecast](manual-adjustments-baseline-forecast.md)"}]}