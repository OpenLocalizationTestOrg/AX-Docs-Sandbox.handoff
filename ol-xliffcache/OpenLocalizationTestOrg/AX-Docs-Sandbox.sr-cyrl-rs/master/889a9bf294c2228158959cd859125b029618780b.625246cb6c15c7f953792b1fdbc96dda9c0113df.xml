{"nodes":[{"pos":[32,103],"content":"Set up the advanced bank reconciliation import process | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Set up the advanced bank reconciliation import process | Microsoft Docs","pos":[0,71]}]},{"pos":[117,369],"content":"The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Microsoft Dynamics AX. This article explains how to set up the import functionality for your bank statements.","needQuote":true,"needEscape":true,"nodes":[{"content":"The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Microsoft Dynamics AX. This article explains how to set up the import functionality for your bank statements.","pos":[0,252],"nodes":[{"content":"The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Microsoft Dynamics AX.","pos":[0,165]},{"content":"This article explains how to set up the import functionality for your bank statements.","pos":[166,252]}]}]},{"pos":[792,846],"content":"Set up the advanced bank reconciliation import process","linkify":"Set up the advanced bank reconciliation import process","nodes":[{"content":"Set up the advanced bank reconciliation import process","pos":[0,54]}]},{"content":"The setup for bank statement import varies, depending on the format of your electronic bank statement.","pos":[848,950]},{"content":"Microsoft Dynamics AX supports three bank statement formats out of the box: ISO20022, MT940, and BAI2.","pos":[951,1053]},{"pos":[1058,1070],"content":"Sample files","linkify":"Sample files","nodes":[{"content":"Sample files","pos":[0,12]}]},{"content":"For all three formats, you must have files that translate the electronic bank statement from the original format to a format that Dynamics AX can use.","pos":[1071,1221]},{"content":"You can find the required resource files under the <bpt id=\"p1\">**</bpt>Resources<ept id=\"p1\">**</ept> node in Application Explorer in Microsoft Visual Studio.","pos":[1222,1343],"source":" You can find the required resource files under the **Resources** node in Application Explorer in Microsoft Visual Studio."},{"content":"After you find the files, copy them to a single known location, so that you can more easily upload them during the setup process.","pos":[1344,1473]},{"content":"Resource name","pos":[1477,1490]},{"content":"File name","pos":[1535,1544]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>BAI2CSV<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>BAI2XML<ph id=\"ph4\">\\_</ph>xslt","pos":[1675,1717],"source":"BankStmtImport\\_BAI2CSV\\_to\\_BAI2XML\\_xslt"},{"content":"BAI2CSV-to-BAI2XML.xslt","pos":[1733,1756]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>BAI2XML<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>Reconciliation<ph id=\"ph4\">\\_</ph>xslt","pos":[1774,1823],"source":"BankStmtImport\\_BAI2XML\\_to\\_Reconciliation\\_xslt"},{"content":"BAI2XML-to-Reconciliation.xslt","pos":[1832,1862]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>BankReconciliation<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>Composite<ph id=\"ph4\">\\_</ph>xslt","pos":[1873,1928],"source":"BankStmtImport\\_BankReconciliation\\_to\\_Composite\\_xslt"},{"content":"BankReconciliation-to-Composite.xslt","pos":[1931,1967]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>ISO20022XML<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>Reconciliation<ph id=\"ph4\">\\_</ph>xslt","pos":[1972,2025],"source":"BankStmtImport\\_ISO20022XML\\_to\\_Reconciliation\\_xslt"},{"content":"ISO20022XML-to-Reconciliation.xslt","pos":[2030,2064]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>MT940TXT<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>MT940XML<ph id=\"ph4\">\\_</ph>xslt","pos":[2071,2115],"source":"BankStmtImport\\_MT940TXT\\_to\\_MT940XML\\_xslt"},{"content":"MT940TXT-to-MT940XML.xslt","pos":[2129,2154]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>MT940XML<ph id=\"ph2\">\\_</ph>to<ph id=\"ph3\">\\_</ph>Reconciliation<ph id=\"ph4\">\\_</ph>xslt","pos":[2170,2220],"source":"BankStmtImport\\_MT940XML\\_to\\_Reconciliation\\_xslt"},{"content":"MT940XML-to-Reconciliation.xslt","pos":[2228,2259]},{"content":"BankStmtImport<ph id=\"ph1\">\\_</ph>SampleBankCompositeEntity<ph id=\"ph2\">\\_</ph>xml","pos":[2269,2315],"source":"BankStmtImport\\_SampleBankCompositeEntity\\_xml"},{"content":"SampleBankCompositeEntity.xml","pos":[2327,2356]},{"pos":[2370,2426],"content":"Examples of bank statement formats and technical layouts","linkify":"Examples of bank statement formats and technical layouts","nodes":[{"content":"Examples of bank statement formats and technical layouts","pos":[0,56]}]},{"content":"Below are examples of the advanced bank reconciliation import file technical layout definitions and three related bank statement example files:","pos":[2427,2570]},{"content":"Technical layout","pos":[2574,2590]},{"content":"Bank statement example file","pos":[2690,2717]},{"pos":[3038,3096],"content":"<bpt id=\"p1\">[</bpt>DynamicsAXMT940Layout<ept id=\"p1\">](media/DynamicsAXMT940Layout1.xlsx)</ept>","source":"[DynamicsAXMT940Layout](media/DynamicsAXMT940Layout1.xlsx)"},{"pos":[3105,3161],"content":"<bpt id=\"p1\">[</bpt>MT940StatementExample<ept id=\"p1\">](media/MT940StatementExample.pdf)</ept>","source":"[MT940StatementExample](media/MT940StatementExample.pdf)"},{"pos":[3172,3236],"content":"<bpt id=\"p1\">[</bpt>DynamicsAXISO20022Layout<ept id=\"p1\">](media/DynamicsAXISO20022Layout1.xlsx)</ept>","source":"[DynamicsAXISO20022Layout](media/DynamicsAXISO20022Layout1.xlsx)"},{"pos":[3239,3301],"content":"<bpt id=\"p1\">[</bpt>ISO20022StatementExample<ept id=\"p1\">](media/ISO20022StatementExample.pdf)</ept>","source":"[ISO20022StatementExample](media/ISO20022StatementExample.pdf)"},{"pos":[3306,3362],"content":"<bpt id=\"p1\">[</bpt>DynamicsAXBAI2Layout<ept id=\"p1\">](media/DynamicsAXBAI2Layout1.xlsx)</ept>","source":"[DynamicsAXBAI2Layout](media/DynamicsAXBAI2Layout1.xlsx)"},{"pos":[3373,3427],"content":"<bpt id=\"p1\">[</bpt>BAI2StatementExample<ept id=\"p1\">](media/BAI2StatementExample.pdf)</ept>","source":"[BAI2StatementExample](media/BAI2StatementExample.pdf)"},{"pos":[3445,3490],"content":"Set up the import of ISO20022 bank statements","linkify":"Set up the import of ISO20022 bank statements","nodes":[{"content":"Set up the import of ISO20022 bank statements","pos":[0,45]}]},{"content":"First, you must define the bank statement format processing group for ISO20022 bank statements by using the data entity framework.","pos":[3491,3621]},{"pos":[3627,3673],"content":"Go to <bpt id=\"p1\">**</bpt>Workspaces<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data management<ept id=\"p2\">**</ept>.","source":"Go to **Workspaces** &gt; **Data management**."},{"pos":[3678,3695],"content":"Click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>.","source":"Click **Import**."},{"pos":[3700,3750],"content":"Enter a name for the format, such as <bpt id=\"p1\">**</bpt>ISO20022<ept id=\"p1\">**</ept>.","source":"Enter a name for the format, such as **ISO20022**."},{"pos":[3755,3811],"content":"Set the <bpt id=\"p1\">**</bpt>Source data format<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>XML-Element<ept id=\"p2\">**</ept>.","source":"Set the **Source data format** field to **XML-Element**."},{"pos":[3816,3869],"content":"Set the <bpt id=\"p1\">**</bpt>Entity name<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Bank statements<ept id=\"p2\">**</ept>.","source":"Set the **Entity name** field to **Bank statements**."},{"pos":[3874,4012],"content":"To upload the import files, click <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept>, and then browse to select the <bpt id=\"p2\">**</bpt>SampleBankCompositeEntity.xml<ept id=\"p2\">**</ept> file that you saved earlier.","source":"To upload the import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier."},{"pos":[4017,4137],"content":"After the Bank statements entity is uploaded and the mapping is completed, click the <bpt id=\"p1\">**</bpt>View map<ept id=\"p1\">**</ept> action for the entity.","source":"After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity."},{"content":"The Bank statements entity is a composite entity that consists of four separate entities.","pos":[4142,4231]},{"content":"In the list, select <bpt id=\"p1\">**</bpt>BankStatementDocumentEntity<ept id=\"p1\">**</ept>, and then click the <bpt id=\"p2\">**</bpt>View map<ept id=\"p2\">**</ept> action.","pos":[4232,4324],"source":" In the list, select **BankStatementDocumentEntity**, and then click the **View map** action."},{"pos":[4329,4375],"content":"On the <bpt id=\"p1\">**</bpt>Transformations<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>.","source":"On the **Transformations** tab, click **New**."},{"content":"For sequence number 1, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>ISO20022XML-to-Reconciliation.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","pos":[4380,4508],"source":"For sequence number 1, click **Upload file**, and select the **ISO20022XML-to-Reconciliation.xslt** file that you saved earlier."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Dynamics AX transformation files are built for the standard format.","pos":[4509,4586],"source":"**Note:** Dynamics AX transformation files are built for the standard format."},{"content":"Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.","pos":[4587,4717]},{"content":"For details about the expected format for ISO20022, see <bpt id=\"p1\">[</bpt>Dynamics AX ISO20022 Layout<ept id=\"p1\">](media/DynamicsAXISO20022Layout1.xlsx)</ept>.","pos":[4718,4842],"source":" For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](media/DynamicsAXISO20022Layout1.xlsx)."},{"pos":[4847,4861],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[4866,4996],"content":"For sequence number 2, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>BankReconciliation-to-Composite.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","source":"For sequence number 2, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier."},{"pos":[5001,5028],"content":"Click <bpt id=\"p1\">**</bpt>Apply transforms<ept id=\"p1\">**</ept>.","source":"Click **Apply transforms**."},{"content":"After the format processing group is set up, the next step is to define the bank statement format rules for ISO20022 bank statements.","pos":[5030,5163]},{"pos":[5169,5294],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Advanced bank reconciliation setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Bank statement format<ept id=\"p4\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**."},{"pos":[5299,5313],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[5318,5367],"content":"Specify a statement format, such as <bpt id=\"p1\">**</bpt>ISO20022<ept id=\"p1\">**</ept>.","source":"Specify a statement format, such as **ISO20022**."},{"content":"Enter a name for the format.","pos":[5372,5400]},{"pos":[5405,5500],"content":"Set the <bpt id=\"p1\">**</bpt>Processing group<ept id=\"p1\">**</ept> field to the group that you defined earlier, such as <bpt id=\"p2\">**</bpt>ISO20022<ept id=\"p2\">**</ept>.","source":"Set the **Processing group** field to the group that you defined earlier, such as **ISO20022**."},{"pos":[5505,5539],"content":"Select the <bpt id=\"p1\">**</bpt>XML file<ept id=\"p1\">**</ept> check box.","source":"Select the **XML file** check box."},{"content":"The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.","pos":[5541,5646]},{"pos":[5652,5710],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Bank accounts<ept id=\"p2\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Bank accounts**."},{"content":"Select the bank account, and open it to view the details.","pos":[5715,5772]},{"pos":[5777,5867],"content":"On the <bpt id=\"p1\">**</bpt>Reconciliation<ept id=\"p1\">**</ept> tab, set the <bpt id=\"p2\">**</bpt>Advanced bank reconciliation<ept id=\"p2\">**</ept> option to <bpt id=\"p3\">**</bpt>Yes<ept id=\"p3\">**</ept>.","source":"On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**."},{"pos":[5872,5968],"content":"Set the <bpt id=\"p1\">**</bpt>Statement format<ept id=\"p1\">**</ept> field to the format that you created earlier, such as <bpt id=\"p2\">**</bpt>ISO20022<ept id=\"p2\">**</ept>.","source":"Set the **Statement format** field to the format that you created earlier, such as **ISO20022**."},{"pos":[5973,6015],"content":"Set up the import of MT940 bank statements","linkify":"Set up the import of MT940 bank statements","nodes":[{"content":"Set up the import of MT940 bank statements","pos":[0,42]}]},{"content":"First, you must define the bank statement format processing group for MT940 bank statements by using the data entity framework.","pos":[6016,6143]},{"pos":[6149,6195],"content":"Go to <bpt id=\"p1\">**</bpt>Workspaces<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data management<ept id=\"p2\">**</ept>.","source":"Go to **Workspaces** &gt; **Data management**."},{"pos":[6200,6217],"content":"Click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>.","source":"Click **Import**."},{"pos":[6222,6269],"content":"Enter a name for the format, such as <bpt id=\"p1\">**</bpt>MT940<ept id=\"p1\">**</ept>.","source":"Enter a name for the format, such as **MT940**."},{"pos":[6274,6330],"content":"Set the <bpt id=\"p1\">**</bpt>Source data format<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>XML-Element<ept id=\"p2\">**</ept>.","source":"Set the **Source data format** field to **XML-Element**."},{"pos":[6335,6388],"content":"Set the <bpt id=\"p1\">**</bpt>Entity name<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Bank statements<ept id=\"p2\">**</ept>.","source":"Set the **Entity name** field to **Bank statements**."},{"pos":[6393,6527],"content":"To upload import files, click <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept>, and then browse to select the <bpt id=\"p2\">**</bpt>SampleBankCompositeEntity.xml<ept id=\"p2\">**</ept> file that you saved earlier.","source":"To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier."},{"pos":[6532,6652],"content":"After the Bank statements entity is uploaded and the mapping is completed, click the <bpt id=\"p1\">**</bpt>View map<ept id=\"p1\">**</ept> action for the entity.","source":"After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity."},{"content":"The Bank statements entity is a composite entity that consists of four separate entities.","pos":[6657,6746]},{"content":"In the list, select <bpt id=\"p1\">**</bpt>BankStatementDocumentEntity<ept id=\"p1\">**</ept>, and then click the <bpt id=\"p2\">**</bpt>View map<ept id=\"p2\">**</ept> action.","pos":[6747,6839],"source":" In the list, select **BankStatementDocumentEntity**, and then click the **View map** action."},{"pos":[6844,6890],"content":"On the <bpt id=\"p1\">**</bpt>Transformations<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>.","source":"On the **Transformations** tab, click **New**."},{"pos":[6895,7014],"content":"For sequence number 1, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>MT940TXT-to-MT940XML.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","source":"For sequence number 1, click **Upload file**, and select the **MT940TXT-to-MT940XML.xslt** file that you saved earlier."},{"pos":[7019,7033],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"content":"For sequence number 2, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>MT940XML-to-Reconciliation.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","pos":[7038,7163],"source":"For sequence number 2, click **Upload file**, and select the **MT940XML-to-Reconciliation.xslt** file that you saved earlier."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Dynamics AX transformation files are built for the standard format.","pos":[7164,7241],"source":"**Note:** Dynamics AX transformation files are built for the standard format."},{"content":"Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.","pos":[7242,7372]},{"content":"For details about the expected format for MT940, see <bpt id=\"p1\">[</bpt>Dynamics AX MT940 Layout<ept id=\"p1\">](media/DynamicsAXMT940Layout1.xlsx)</ept>","pos":[7373,7487],"source":" For details about the expected format for MT940, see [Dynamics AX MT940 Layout](media/DynamicsAXMT940Layout1.xlsx)"},{"pos":[7492,7506],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[7511,7641],"content":"For sequence number 3, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>BankReconciliation-to-Composite.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","source":"For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier."},{"pos":[7646,7673],"content":"Click <bpt id=\"p1\">**</bpt>Apply transforms<ept id=\"p1\">**</ept>.","source":"Click **Apply transforms**."},{"content":"After the format processing group is set up, the next step is to define the bank statement format rules for MT940 bank statements.","pos":[7675,7805]},{"pos":[7811,7936],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Advanced bank reconciliation setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Bank statement format<ept id=\"p4\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**."},{"pos":[7941,7955],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[7960,8006],"content":"Specify a statement format, such as <bpt id=\"p1\">**</bpt>MT940<ept id=\"p1\">**</ept>.","source":"Specify a statement format, such as **MT940**."},{"content":"Enter a name for the format.","pos":[8011,8039]},{"pos":[8044,8136],"content":"Set the <bpt id=\"p1\">**</bpt>Processing group<ept id=\"p1\">**</ept> field to the group that you defined earlier, such as <bpt id=\"p2\">**</bpt>MT940<ept id=\"p2\">**</ept>.","source":"Set the **Processing group** field to the group that you defined earlier, such as **MT940**."},{"pos":[8141,8180],"content":"Set the <bpt id=\"p1\">**</bpt>File type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>txt<ept id=\"p2\">**</ept>.","source":"Set the **File type** field to **txt**."},{"content":"The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.","pos":[8182,8287]},{"pos":[8293,8351],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Bank accounts<ept id=\"p2\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Bank accounts**."},{"content":"Select the bank account, and open it to view the details.","pos":[8356,8413]},{"pos":[8418,8508],"content":"On the <bpt id=\"p1\">**</bpt>Reconciliation<ept id=\"p1\">**</ept> tab, set the <bpt id=\"p2\">**</bpt>Advanced bank reconciliation<ept id=\"p2\">**</ept> option to <bpt id=\"p3\">**</bpt>Yes<ept id=\"p3\">**</ept>.","source":"On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**."},{"pos":[8513,8614],"content":"When you're prompted to confirm your selection and enable Advanced bank reconciliation, click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**."},{"pos":[8619,8712],"content":"Set the <bpt id=\"p1\">**</bpt>Statement format<ept id=\"p1\">**</ept> field to the format that you created earlier, such as <bpt id=\"p2\">**</bpt>MT940<ept id=\"p2\">**</ept>.","source":"Set the **Statement format** field to the format that you created earlier, such as **MT940**."},{"pos":[8717,8758],"content":"Set up the import of BAI2 bank statements","linkify":"Set up the import of BAI2 bank statements","nodes":[{"content":"Set up the import of BAI2 bank statements","pos":[0,41]}]},{"content":"First, you must define the bank statement format processing group for BAI2 bank statements by using the data entity framework.","pos":[8759,8885]},{"pos":[8891,8937],"content":"Go to <bpt id=\"p1\">**</bpt>Workspaces<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data management<ept id=\"p2\">**</ept>.","source":"Go to **Workspaces** &gt; **Data management**."},{"pos":[8942,8959],"content":"Click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>.","source":"Click **Import**."},{"pos":[8964,9010],"content":"Enter a name for the format, such as <bpt id=\"p1\">**</bpt>BAI2<ept id=\"p1\">**</ept>.","source":"Enter a name for the format, such as **BAI2**."},{"pos":[9015,9071],"content":"Set the <bpt id=\"p1\">**</bpt>Source data format<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>XML-Element<ept id=\"p2\">**</ept>.","source":"Set the **Source data format** field to **XML-Element**."},{"pos":[9076,9129],"content":"Set the <bpt id=\"p1\">**</bpt>Entity name<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>Bank statements<ept id=\"p2\">**</ept>.","source":"Set the **Entity name** field to **Bank statements**."},{"pos":[9134,9268],"content":"To upload import files, click <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept>, and then browse to select the <bpt id=\"p2\">**</bpt>SampleBankCompositeEntity.xml<ept id=\"p2\">**</ept> file that you saved earlier.","source":"To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier."},{"pos":[9273,9393],"content":"After the Bank statements entity is uploaded and the mapping is completed, click the <bpt id=\"p1\">**</bpt>View map<ept id=\"p1\">**</ept> action for the entity.","source":"After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity."},{"content":"The Bank statements entity is a composite entity that consists of four separate entities.","pos":[9398,9487]},{"content":"In the list, select <bpt id=\"p1\">**</bpt>BankStatementDocumentEntity<ept id=\"p1\">**</ept>, and then click the <bpt id=\"p2\">**</bpt>View map<ept id=\"p2\">**</ept> action.","pos":[9488,9580],"source":" In the list, select **BankStatementDocumentEntity**, and then click the **View map** action."},{"pos":[9585,9631],"content":"On the <bpt id=\"p1\">**</bpt>Transformations<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>.","source":"On the **Transformations** tab, click **New**."},{"pos":[9636,9753],"content":"For sequence number 1, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>BAI2CSV-to-BAI2XML.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","source":"For sequence number 1, click **Upload file**, and select the **BAI2CSV-to-BAI2XML.xslt** file that you saved earlier."},{"pos":[9758,9772],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"content":"For sequence number 2, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>BAI2XML-to-Reconciliation.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","pos":[9777,9901],"source":"For sequence number 2, click **Upload file**, and select the **BAI2XML-to-Reconciliation.xslt** file that you saved earlier."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Dynamics AX transformation files are built for the standard format.","pos":[9902,9979],"source":"**Note:** Dynamics AX transformation files are built for the standard format."},{"content":"Because banks often diverge from this format, and you may have to update the transformation file to map to your bank statement format.","pos":[9980,10114]},{"content":"For details about the expected format for BAI2, see <bpt id=\"p1\">[</bpt>Dynamics AX BAI2 Layout<ept id=\"p1\">](media/DynamicsAXBAI2Layout1.xlsx)</ept>.","pos":[10115,10227],"source":" For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](media/DynamicsAXBAI2Layout1.xlsx)."},{"pos":[10232,10246],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[10251,10381],"content":"For sequence number 3, click <bpt id=\"p1\">**</bpt>Upload file<ept id=\"p1\">**</ept>, and select the <bpt id=\"p2\">**</bpt>BankReconciliation-to-Composite.xslt<ept id=\"p2\">**</ept> file that you saved earlier.","source":"For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier."},{"pos":[10386,10413],"content":"Click <bpt id=\"p1\">**</bpt>Apply transforms<ept id=\"p1\">**</ept>.","source":"Click **Apply transforms**."},{"content":"After the format processing group is set up, the next step is to define the bank statement format rules for BAI2 bank statements.","pos":[10415,10544]},{"pos":[10550,10675],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Advanced bank reconciliation setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Bank statement format<ept id=\"p4\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**."},{"pos":[10680,10694],"content":"Click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"Click **New**."},{"pos":[10699,10744],"content":"Specify a statement format, such as <bpt id=\"p1\">**</bpt>BAI2<ept id=\"p1\">**</ept>.","source":"Specify a statement format, such as **BAI2**."},{"content":"Enter a name for the format.","pos":[10749,10777]},{"pos":[10782,10873],"content":"Set the <bpt id=\"p1\">**</bpt>Processing group<ept id=\"p1\">**</ept> field to the group that you defined earlier, such as <bpt id=\"p2\">**</bpt>BAI2<ept id=\"p2\">**</ept>.","source":"Set the **Processing group** field to the group that you defined earlier, such as **BAI2**."},{"pos":[10878,10917],"content":"Set the <bpt id=\"p1\">**</bpt>File type<ept id=\"p1\">**</ept> field to <bpt id=\"p2\">**</bpt>txt<ept id=\"p2\">**</ept>.","source":"Set the **File type** field to **txt**."},{"content":"The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.","pos":[10919,11024]},{"pos":[11030,11088],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Bank accounts<ept id=\"p2\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Bank accounts**."},{"content":"Select the bank account, and open it to view the details.","pos":[11093,11150]},{"pos":[11155,11245],"content":"On the <bpt id=\"p1\">**</bpt>Reconciliation<ept id=\"p1\">**</ept> tab, set the <bpt id=\"p2\">**</bpt>Advanced bank reconciliation<ept id=\"p2\">**</ept> option to <bpt id=\"p3\">**</bpt>Yes<ept id=\"p3\">**</ept>.","source":"On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**."},{"pos":[11250,11351],"content":"When you're prompted to confirm your selection and enable Advanced bank reconciliation, click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**."},{"pos":[11356,11448],"content":"Set the <bpt id=\"p1\">**</bpt>Statement format<ept id=\"p1\">**</ept> field to the format that you created earlier, such as <bpt id=\"p2\">**</bpt>BAI2<ept id=\"p2\">**</ept>.","source":"Set the **Statement format** field to the format that you created earlier, such as **BAI2**."},{"pos":[11453,11483],"content":"Test the bank statement import","linkify":"Test the bank statement import","nodes":[{"content":"Test the bank statement import","pos":[0,30]}]},{"content":"The final step is to test that you can import your bank statement.","pos":[11484,11550]},{"pos":[11556,11614],"content":"Go to <bpt id=\"p1\">**</bpt>Cash and bank management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Bank accounts<ept id=\"p2\">**</ept>.","source":"Go to **Cash and bank management** &gt; **Bank accounts**."},{"content":"Select the bank account that Advanced bank reconciliation functionality is enabled for.","pos":[11619,11706]},{"pos":[11711,11763],"content":"On the <bpt id=\"p1\">**</bpt>Reconcile<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Bank statements<ept id=\"p2\">**</ept>.","source":"On the **Reconcile** tab, click **Bank statements**."},{"pos":[11768,11827],"content":"On the <bpt id=\"p1\">**</bpt>Bank statement<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Import statement<ept id=\"p2\">**</ept>.","source":"On the **Bank statement** page, click **Import statement**."},{"content":"Set the <bpt id=\"p1\">**</bpt>Bank account<ept id=\"p1\">**</ept> field to the selected bank account.","pos":[11832,11892],"source":"Set the **Bank account** field to the selected bank account."},{"content":"The <bpt id=\"p1\">**</bpt>Statement format<ept id=\"p1\">**</ept> field will be set automatically, based on the setting on the bank account.","pos":[11893,11992],"source":" The **Statement format** field will be set automatically, based on the setting on the bank account."},{"pos":[11997,12062],"content":"Click <bpt id=\"p1\">**</bpt>Browse<ept id=\"p1\">**</ept>, and select your electronic bank statement file.","source":"Click **Browse**, and select your electronic bank statement file."},{"pos":[12067,12084],"content":"Click <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept>.","source":"Click **Upload**."},{"pos":[12089,12102],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Click **OK**."},{"content":"If the import is successful, you will receive a message that states that your statement was imported.","pos":[12104,12205]},{"content":"If the import wasn't successful, in the <bpt id=\"p1\">**</bpt>Data management<ept id=\"p1\">**</ept> workspace, in the <bpt id=\"p2\">**</bpt>Job history<ept id=\"p2\">**</ept> section, find the job.","pos":[12206,12322],"source":" If the import wasn't successful, in the **Data management** workspace, in the **Job history** section, find the job."},{"content":"Click <bpt id=\"p1\">**</bpt>Execution details<ept id=\"p1\">**</ept> for the job to open the <bpt id=\"p2\">**</bpt>Execution summary<ept id=\"p2\">**</ept> page, and then click <bpt id=\"p3\">**</bpt>View execution log<ept id=\"p3\">**</ept> to view the import errors.","pos":[12323,12467],"source":" Click **Execution details** for the job to open the **Execution summary** page, and then click **View execution log** to view the import errors."}],"content":"---\n# required metadata\n\ntitle: Set up the advanced bank reconciliation import process | Microsoft Docs\ndescription: The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Microsoft Dynamics AX. This article explains how to set up the import functionality for your bank statements.\n\nauthor: annbe\nmanager: AnnBe\nms.date: 2016-08-10 17:50:36\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: \nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 106853\nms.assetid: 8ae13d77-f7af-48ac-9438-e7fbccce5509\n# ms.region: \n# ms.industry: \nms.author: twheeloc\n\n---\n\n# Set up the advanced bank reconciliation import process\n\nThe setup for bank statement import varies, depending on the format of your electronic bank statement. Microsoft Dynamics AX supports three bank statement formats out of the box: ISO20022, MT940, and BAI2.\n\n## Sample files\nFor all three formats, you must have files that translate the electronic bank statement from the original format to a format that Dynamics AX can use. You can find the required resource files under the **Resources** node in Application Explorer in Microsoft Visual Studio. After you find the files, copy them to a single known location, so that you can more easily upload them during the setup process.\n\n| Resource name                                           | File name                            |\n|---------------------------------------------------------|--------------------------------------|\n| BankStmtImport\\_BAI2CSV\\_to\\_BAI2XML\\_xslt              | BAI2CSV-to-BAI2XML.xslt              |\n| BankStmtImport\\_BAI2XML\\_to\\_Reconciliation\\_xslt       | BAI2XML-to-Reconciliation.xslt       |\n| BankStmtImport\\_BankReconciliation\\_to\\_Composite\\_xslt | BankReconciliation-to-Composite.xslt |\n| BankStmtImport\\_ISO20022XML\\_to\\_Reconciliation\\_xslt   | ISO20022XML-to-Reconciliation.xslt   |\n| BankStmtImport\\_MT940TXT\\_to\\_MT940XML\\_xslt            | MT940TXT-to-MT940XML.xslt            |\n| BankStmtImport\\_MT940XML\\_to\\_Reconciliation\\_xslt      | MT940XML-to-Reconciliation.xslt      |\n| BankStmtImport\\_SampleBankCompositeEntity\\_xml          | SampleBankCompositeEntity.xml        |\n\n## Examples of bank statement formats and technical layouts\nBelow are examples of the advanced bank reconciliation import file technical layout definitions and three related bank statement example files:\n\n| Technical layout                                                                                                  | Bank statement example file                                                                                     |\n|-------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|\n| [DynamicsAXMT940Layout](media/DynamicsAXMT940Layout1.xlsx)       | [MT940StatementExample](media/MT940StatementExample.pdf)       |\n| [DynamicsAXISO20022Layout](media/DynamicsAXISO20022Layout1.xlsx) | [ISO20022StatementExample](media/ISO20022StatementExample.pdf) |\n| [DynamicsAXBAI2Layout](media/DynamicsAXBAI2Layout1.xlsx)         | [BAI2StatementExample](media/BAI2StatementExample.pdf)         |\n\n \n\n## Set up the import of ISO20022 bank statements\nFirst, you must define the bank statement format processing group for ISO20022 bank statements by using the data entity framework.\n\n1.  Go to **Workspaces** &gt; **Data management**.\n2.  Click **Import**.\n3.  Enter a name for the format, such as **ISO20022**.\n4.  Set the **Source data format** field to **XML-Element**.\n5.  Set the **Entity name** field to **Bank statements**.\n6.  To upload the import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.\n7.  After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.\n8.  The Bank statements entity is a composite entity that consists of four separate entities. In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.\n9.  On the **Transformations** tab, click **New**.\n10. For sequence number 1, click **Upload file**, and select the **ISO20022XML-to-Reconciliation.xslt** file that you saved earlier. **Note:** Dynamics AX transformation files are built for the standard format. Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format. For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](media/DynamicsAXISO20022Layout1.xlsx).\n11. Click **New**.\n12. For sequence number 2, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.\n13. Click **Apply transforms**.\n\nAfter the format processing group is set up, the next step is to define the bank statement format rules for ISO20022 bank statements.\n\n1.  Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.\n2.  Click **New**.\n3.  Specify a statement format, such as **ISO20022**.\n4.  Enter a name for the format.\n5.  Set the **Processing group** field to the group that you defined earlier, such as **ISO20022**.\n6.  Select the **XML file** check box.\n\nThe last step is to enable Advanced bank reconciliation and set the statement format on the bank account.\n\n1.  Go to **Cash and bank management** &gt; **Bank accounts**.\n2.  Select the bank account, and open it to view the details.\n3.  On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.\n4.  Set the **Statement format** field to the format that you created earlier, such as **ISO20022**.\n\n## Set up the import of MT940 bank statements\nFirst, you must define the bank statement format processing group for MT940 bank statements by using the data entity framework.\n\n1.  Go to **Workspaces** &gt; **Data management**.\n2.  Click **Import**.\n3.  Enter a name for the format, such as **MT940**.\n4.  Set the **Source data format** field to **XML-Element**.\n5.  Set the **Entity name** field to **Bank statements**.\n6.  To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.\n7.  After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.\n8.  The Bank statements entity is a composite entity that consists of four separate entities. In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.\n9.  On the **Transformations** tab, click **New**.\n10. For sequence number 1, click **Upload file**, and select the **MT940TXT-to-MT940XML.xslt** file that you saved earlier.\n11. Click **New**.\n12. For sequence number 2, click **Upload file**, and select the **MT940XML-to-Reconciliation.xslt** file that you saved earlier. **Note:** Dynamics AX transformation files are built for the standard format. Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format. For details about the expected format for MT940, see [Dynamics AX MT940 Layout](media/DynamicsAXMT940Layout1.xlsx)\n13. Click **New**.\n14. For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.\n15. Click **Apply transforms**.\n\nAfter the format processing group is set up, the next step is to define the bank statement format rules for MT940 bank statements.\n\n1.  Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.\n2.  Click **New**.\n3.  Specify a statement format, such as **MT940**.\n4.  Enter a name for the format.\n5.  Set the **Processing group** field to the group that you defined earlier, such as **MT940**.\n6.  Set the **File type** field to **txt**.\n\nThe last step is to enable Advanced bank reconciliation and set the statement format on the bank account.\n\n1.  Go to **Cash and bank management** &gt; **Bank accounts**.\n2.  Select the bank account, and open it to view the details.\n3.  On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.\n4.  When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.\n5.  Set the **Statement format** field to the format that you created earlier, such as **MT940**.\n\n## Set up the import of BAI2 bank statements\nFirst, you must define the bank statement format processing group for BAI2 bank statements by using the data entity framework.\n\n1.  Go to **Workspaces** &gt; **Data management**.\n2.  Click **Import**.\n3.  Enter a name for the format, such as **BAI2**.\n4.  Set the **Source data format** field to **XML-Element**.\n5.  Set the **Entity name** field to **Bank statements**.\n6.  To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.\n7.  After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.\n8.  The Bank statements entity is a composite entity that consists of four separate entities. In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.\n9.  On the **Transformations** tab, click **New**.\n10. For sequence number 1, click **Upload file**, and select the **BAI2CSV-to-BAI2XML.xslt** file that you saved earlier.\n11. Click **New**.\n12. For sequence number 2, click **Upload file**, and select the **BAI2XML-to-Reconciliation.xslt** file that you saved earlier. **Note:** Dynamics AX transformation files are built for the standard format. Because banks often diverge from this format, and you may have to update the transformation file to map to your bank statement format. For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](media/DynamicsAXBAI2Layout1.xlsx).\n13. Click **New**.\n14. For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.\n15. Click **Apply transforms**.\n\nAfter the format processing group is set up, the next step is to define the bank statement format rules for BAI2 bank statements.\n\n1.  Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.\n2.  Click **New**.\n3.  Specify a statement format, such as **BAI2**.\n4.  Enter a name for the format.\n5.  Set the **Processing group** field to the group that you defined earlier, such as **BAI2**.\n6.  Set the **File type** field to **txt**.\n\nThe last step is to enable Advanced bank reconciliation and set the statement format on the bank account.\n\n1.  Go to **Cash and bank management** &gt; **Bank accounts**.\n2.  Select the bank account, and open it to view the details.\n3.  On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.\n4.  When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.\n5.  Set the **Statement format** field to the format that you created earlier, such as **BAI2**.\n\n## Test the bank statement import\nThe final step is to test that you can import your bank statement.\n\n1.  Go to **Cash and bank management** &gt; **Bank accounts**.\n2.  Select the bank account that Advanced bank reconciliation functionality is enabled for.\n3.  On the **Reconcile** tab, click **Bank statements**.\n4.  On the **Bank statement** page, click **Import statement**.\n5.  Set the **Bank account** field to the selected bank account. The **Statement format** field will be set automatically, based on the setting on the bank account.\n6.  Click **Browse**, and select your electronic bank statement file.\n7.  Click **Upload**.\n8.  Click **OK**.\n\nIf the import is successful, you will receive a message that states that your statement was imported. If the import wasn't successful, in the **Data management** workspace, in the **Job history** section, find the job. Click **Execution details** for the job to open the **Execution summary** page, and then click **View execution log** to view the import errors.\n\n"}