{"nodes":[{"pos":[6,23],"content":"required metadata","linkify":"required metadata","nodes":[{"content":"required metadata","pos":[0,17]}]},{"content":"title: Architecture changes in Microsoft Dynamics AX | Microsoft Docs description: The application stack of Microsoft Dynamics AX has been divided into three separate models: Application Platform, Application Foundation, and Application Suite.","pos":[25,268],"source":"title: Architecture changes in Microsoft Dynamics AX | Microsoft Docs\ndescription: The application stack of Microsoft Dynamics AX has been divided into three separate models: Application Platform, Application Foundation, and Application Suite."},{"content":"author: annbe manager: AnnBe ms.date: 2016-02-08 23:21:51 ms.topic: article ms.prod: ms.service: Dynamics365Operations ms.technology:","pos":[269,404],"source":" \nauthor: annbe\nmanager: AnnBe\nms.date: 2016-02-08 23:21:51\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology:"},{"pos":[409,426],"content":"optional metadata","linkify":"optional metadata","nodes":[{"content":"optional metadata","pos":[0,17]}]},{"pos":[430,439],"content":"keywords:","linkify":"keywords:","nodes":[{"content":"keywords:","pos":[0,9]}]},{"pos":[443,450],"content":"ROBOTS:","linkify":"ROBOTS:","nodes":[{"content":"ROBOTS:","pos":[0,7]}]},{"content":"audience: Developer","pos":[452,471]},{"pos":[474,485],"content":"ms.devlang:","linkify":"ms.devlang:","nodes":[{"content":"ms.devlang:","pos":[0,11]}]},{"pos":[489,501],"content":"ms.reviewer:","linkify":"ms.reviewer:","nodes":[{"content":"ms.reviewer:","pos":[0,12]}]},{"content":"ms.suite: Released- Dynamics AX 7.0.0","pos":[503,540]},{"pos":[543,557],"content":"ms.tgt_pltfrm:","linkify":"ms.tgt_pltfrm:","nodes":[{"content":"ms.tgt_pltfrm:","pos":[0,14]}]},{"pos":[559,624],"content":"ms.custom: 31751 ms.assetid: c77429ae-db49-4b89-853d-782bce103151","source":"ms.custom: 31751\nms.assetid: c77429ae-db49-4b89-853d-782bce103151"},{"pos":[627,637],"content":"ms.region:","linkify":"ms.region:","nodes":[{"content":"ms.region:","pos":[0,10]}]},{"pos":[641,653],"content":"ms.industry:","linkify":"ms.industry:","nodes":[{"content":"ms.industry:","pos":[0,12]}]},{"content":"ms.author: RobinARH","pos":[655,674]},{"pos":[683,728],"content":"Architecture changes in Microsoft Dynamics AX","linkify":"Architecture changes in Microsoft Dynamics AX","nodes":[{"content":"Architecture changes in Microsoft Dynamics AX","pos":[0,45]}]},{"pos":[730,738],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"There have been some changes in the application stack and server architecture to align with the three key pillars in Microsoft Dynamics AX:","pos":[749,888]},{"content":"New client","pos":[894,904]},{"content":"Cloud readiness","pos":[909,924]},{"content":"New development stack","pos":[929,950]},{"content":"The application stack has been divided into three separate models: Application Platform, Application Foundation, and Application Suite.","pos":[952,1087]},{"content":"The separation enables new application development on the base foundation models, just as the Fleet Management sample application has been developed.","pos":[1088,1237]},{"content":"Note the following important points about the changes in the server architecture:","pos":[1238,1319]},{"content":"The services endpoint on the server is now responsible for returning all form and control metadata and data to the browser-based client.","pos":[1325,1461]},{"content":"There is no longer any remote procedure call (RPC)-based communication with the server.","pos":[1462,1549]},{"content":"The form objects still run on the server, and rendering has been optimized for browsers and other clients through server and client-side (browser) investments.","pos":[1550,1709]},{"content":"The server, including the application code base, is deployed to an Internet Information Services (IIS) web application.","pos":[1714,1833]},{"content":"In the cloud, it's deployed to Microsoft Azure infrastructure as a service (IaaS) virtual machines (VMs).","pos":[1834,1939]},{"content":"Dynamics AX is hosted on Azure and is available for access through the Internet.","pos":[1944,2024]},{"content":"A user can use a combination of clients and credentials to access it.","pos":[2025,2094]},{"content":"The recommended primary identity provider is OrgID, and the store for the identity is Azure Active Directory (Azure AD).","pos":[2095,2215]},{"content":"The security subsystem uses the same AuthZ semantics for users and roles.","pos":[2216,2289]},{"content":"Two types of clients must be considered for access to Dynamics AX in the cloud: active clients and passive clients.","pos":[2294,2409]},{"content":"Active clients can programmatically initiate actions based on responses from the server.","pos":[2418,2506]},{"content":"An active client doesn't rely on HTTP redirects for authentication.","pos":[2507,2574]},{"content":"A smart/rich client is an example of an active client.","pos":[2575,2629]},{"content":"Passive clients can't programmatically initiate actions based on responses from the server.","pos":[2638,2729]},{"content":"A passive client relies on HTTP redirects for authentication.","pos":[2730,2791]},{"content":"A web browser is an example of a passive client.","pos":[2792,2840]},{"content":"Currently, Access Control Service (ACS) doesn't support a mechanism for non-interactive authentication.","pos":[2846,2949]},{"content":"Therefore, even when active clients try to authenticate against Dynamics AX by using ACS, they must use passive client authentication, in which a browser dialog box prompts the user to enter his or her credentials.","pos":[2950,3164]},{"content":"A completely revamped metadata subsystem incorporates the new compiler and Microsoft Visual Studio–based development model.","pos":[3169,3292]},{"content":"The model store is represented as a set of folders and XML artifacts that are organized by model.","pos":[3293,3390]},{"content":"Dynamics AX model elements, such as tables, forms, and classes, are represented by an XML file that contains both metadata and source code.","pos":[3391,3530]},{"content":"The left side of the following diagram shows how the application stack has been split into distinct models.","pos":[3532,3639]},{"content":"The right side shows how the key components are stacked in the server.","pos":[3640,3710]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![](media/ArchitectureDrawing1.png)</ph><ept id=\"p1\">](media/ArchitectureDrawing1.png)</ept>   Microsoft Dynamics AX 2012 unionizes permissions that are granted to a user.","pos":[3711,3859],"source":"[![](media/ArchitectureDrawing1.png)](media/ArchitectureDrawing1.png)   Microsoft Dynamics AX 2012 unionizes permissions that are granted to a user."},{"content":"However, an issue can occur when a data source is granted read permissions through an entry point and edit permissions through a form.","pos":[3860,3994]},{"content":"Because permissions are unionized, the user eventually has edit permissions to that data source in this case.","pos":[3995,4104]},{"content":"However, if the form was granted read access through a menu item, the expectation is that the data source can't be edited through that path.","pos":[4105,4245]},{"content":"Therefore, the context of the call isn't honored.","pos":[4246,4295]},{"content":"In Dynamics AX, the context of the call is honored, based on the permissions that are granted through the entry point.","pos":[4296,4414]},{"content":"If the form was granted read access through a menu item, the framework grants the user only read access to the table.","pos":[4415,4532]},{"content":"However, if the same form is opened through another menu item that provides write access, the form is granted write permissions.","pos":[4533,4661]},{"content":"This behavior simplifies the development experience, because developers can specify the desired behavior for a form through a given entry point.","pos":[4662,4806]},{"pos":[4811,4829],"content":"Cloud architecture","linkify":"Cloud architecture","nodes":[{"content":"Cloud architecture","pos":[0,18]}]},{"content":"The cloud architecture includes services that automate software deployment and provisioning, operational monitoring and reporting, and seamless application lifecycle management.","pos":[4830,5007]},{"content":"The cloud architecture consists of three main conceptual areas:","pos":[5008,5071]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Dynamics Lifecycle Services (LCS)<ept id=\"p1\">**</ept> – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities for Microsoft Dynamics AX.","pos":[5077,5250],"source":"**Microsoft Dynamics Lifecycle Services (LCS)** – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities for Microsoft Dynamics AX."},{"content":"Capabilities that are specific to this release include software development, customer provisioning, service level agreement (SLA) monitoring, and reporting capabilities.","pos":[5251,5420]},{"content":"<bpt id=\"p1\">**</bpt>Microsoft Dynamics AX <ept id=\"p1\">**</ept>– Dynamics AX VM instances are deployed through LCS to your Azure subscription.","pos":[5425,5530],"source":"**Microsoft Dynamics AX **– Dynamics AX VM instances are deployed through LCS to your Azure subscription."},{"content":"Various topologies are available: demo, development/test, and high-availability production topologies.","pos":[5531,5633]},{"pos":[5638,5929],"content":"<bpt id=\"p1\">**</bpt>Shared Microsoft services<ept id=\"p1\">**</ept> – Dynamics AX uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Dynamics AX, Microsoft Office 365, and other online services.","source":"**Shared Microsoft services** – Dynamics AX uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Dynamics AX, Microsoft Office 365, and other online services."},{"content":"Dynamics AX uses many features of the Azure platform, such as Microsoft Azure Storage, networking, monitoring, and SQL Azure, to name a few.","pos":[5931,6071]},{"content":"Shared services put into operation and orchestrate the application lifecycle of the Dynamics AX environments for participants.","pos":[6073,6199]},{"content":"Together, Azure functionality and LCS that are built for Dynamics AX will offer a robust cloud service.","pos":[6200,6303]},{"pos":[6308,6331],"content":"Development environment","linkify":"Development environment","nodes":[{"content":"Development environment","pos":[0,23]}]},{"content":"The architecture of a Dynamics AX development environment resembles the architecture of the Dynamics AX cloud instance.","pos":[6332,6451]},{"content":"It also includes the Dynamics AX software development kit (SDK), which consists of the Visual Studio development tools and other components.","pos":[6452,6592]},{"content":"Source control through Team Foundation Server or Visual Studio Online enables multiple-developer scenarios, where each developer uses his or her own Dynamics AX development environment.","pos":[6593,6778]},{"content":"Deployment packages can be compiled and generated on a development environment and deployed to cloud instances by using LCS.","pos":[6779,6903]},{"content":"The following diagram shows how the key components interact in a Dynamics AX development environment.![CloudEnvironmentTechConcepts]","pos":[6904,7036]}],"content":"---\n# required metadata\n\ntitle: Architecture changes in Microsoft Dynamics AX | Microsoft Docs\ndescription: The application stack of Microsoft Dynamics AX has been divided into three separate models: Application Platform, Application Foundation, and Application Suite. \nauthor: annbe\nmanager: AnnBe\nms.date: 2016-02-08 23:21:51\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: \nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 31751\nms.assetid: c77429ae-db49-4b89-853d-782bce103151\n# ms.region: \n# ms.industry: \nms.author: RobinARH\n\n---\n\n# Architecture changes in Microsoft Dynamics AX\n\nOverview\n--------\n\nThere have been some changes in the application stack and server architecture to align with the three key pillars in Microsoft Dynamics AX:\n\n-   New client\n-   Cloud readiness\n-   New development stack\n\nThe application stack has been divided into three separate models: Application Platform, Application Foundation, and Application Suite. The separation enables new application development on the base foundation models, just as the Fleet Management sample application has been developed. Note the following important points about the changes in the server architecture:\n\n-   The services endpoint on the server is now responsible for returning all form and control metadata and data to the browser-based client. There is no longer any remote procedure call (RPC)-based communication with the server. The form objects still run on the server, and rendering has been optimized for browsers and other clients through server and client-side (browser) investments.\n-   The server, including the application code base, is deployed to an Internet Information Services (IIS) web application. In the cloud, it's deployed to Microsoft Azure infrastructure as a service (IaaS) virtual machines (VMs).\n-   Dynamics AX is hosted on Azure and is available for access through the Internet. A user can use a combination of clients and credentials to access it. The recommended primary identity provider is OrgID, and the store for the identity is Azure Active Directory (Azure AD). The security subsystem uses the same AuthZ semantics for users and roles.\n-   Two types of clients must be considered for access to Dynamics AX in the cloud: active clients and passive clients.\n    -   Active clients can programmatically initiate actions based on responses from the server. An active client doesn't rely on HTTP redirects for authentication. A smart/rich client is an example of an active client.\n    -   Passive clients can't programmatically initiate actions based on responses from the server. A passive client relies on HTTP redirects for authentication. A web browser is an example of a passive client.\n\n    Currently, Access Control Service (ACS) doesn't support a mechanism for non-interactive authentication. Therefore, even when active clients try to authenticate against Dynamics AX by using ACS, they must use passive client authentication, in which a browser dialog box prompts the user to enter his or her credentials.\n-   A completely revamped metadata subsystem incorporates the new compiler and Microsoft Visual Studio–based development model. The model store is represented as a set of folders and XML artifacts that are organized by model. Dynamics AX model elements, such as tables, forms, and classes, are represented by an XML file that contains both metadata and source code.\n\nThe left side of the following diagram shows how the application stack has been split into distinct models. The right side shows how the key components are stacked in the server. [![](media/ArchitectureDrawing1.png)](media/ArchitectureDrawing1.png)   Microsoft Dynamics AX 2012 unionizes permissions that are granted to a user. However, an issue can occur when a data source is granted read permissions through an entry point and edit permissions through a form. Because permissions are unionized, the user eventually has edit permissions to that data source in this case. However, if the form was granted read access through a menu item, the expectation is that the data source can't be edited through that path. Therefore, the context of the call isn't honored. In Dynamics AX, the context of the call is honored, based on the permissions that are granted through the entry point. If the form was granted read access through a menu item, the framework grants the user only read access to the table. However, if the same form is opened through another menu item that provides write access, the form is granted write permissions. This behavior simplifies the development experience, because developers can specify the desired behavior for a form through a given entry point.\n\n## Cloud architecture\nThe cloud architecture includes services that automate software deployment and provisioning, operational monitoring and reporting, and seamless application lifecycle management. The cloud architecture consists of three main conceptual areas:\n\n-   **Microsoft Dynamics Lifecycle Services (LCS)** – LCS is a multi-tenant shared service that enables a wide range of lifecycle-related capabilities for Microsoft Dynamics AX. Capabilities that are specific to this release include software development, customer provisioning, service level agreement (SLA) monitoring, and reporting capabilities.\n-   **Microsoft Dynamics AX **– Dynamics AX VM instances are deployed through LCS to your Azure subscription. Various topologies are available: demo, development/test, and high-availability production topologies.\n-   **Shared Microsoft services** – Dynamics AX uses several Microsoft services to enable a “One Microsoft” solution where customers can manage a single sign-in, subscription management, and billing relationship with Microsoft across Dynamics AX, Microsoft Office 365, and other online services.\n\nDynamics AX uses many features of the Azure platform, such as Microsoft Azure Storage, networking, monitoring, and SQL Azure, to name a few.  Shared services put into operation and orchestrate the application lifecycle of the Dynamics AX environments for participants. Together, Azure functionality and LCS that are built for Dynamics AX will offer a robust cloud service.\n\n## Development environment\nThe architecture of a Dynamics AX development environment resembles the architecture of the Dynamics AX cloud instance. It also includes the Dynamics AX software development kit (SDK), which consists of the Visual Studio development tools and other components. Source control through Team Foundation Server or Visual Studio Online enables multiple-developer scenarios, where each developer uses his or her own Dynamics AX development environment. Deployment packages can be compiled and generated on a development environment and deployed to cloud instances by using LCS. The following diagram shows how the key components interact in a Dynamics AX development environment.![CloudEnvironmentTechConcepts]\n\n"}