{"nodes":[{"pos":[32,94],"content":"Calculations for product configuration models | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Calculations for product configuration models | Microsoft Docs","pos":[0,62]}]},{"pos":[108,240],"content":"This article describes calculations for product configuration models and explains how to use calculations together with constraints.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article describes calculations for product configuration models and explains how to use calculations together with constraints.","pos":[0,132]}]},{"pos":[409,486],"content":"PCConstraintEditor, PCProductConfigurationModelDetails, PCRuntimeConfigurator","needQuote":true,"needEscape":true,"nodes":[{"content":"PCConstraintEditor, PCProductConfigurationModelDetails, PCRuntimeConfigurator","pos":[0,77]}]},{"pos":[751,796],"content":"Calculations for product configuration models","linkify":"Calculations for product configuration models","nodes":[{"content":"Calculations for product configuration models","pos":[0,45]}]},{"content":"Calculations can be used for arithmetic or logical operations.","pos":[798,860]},{"content":"They complement expression constraints in product configuration models.","pos":[861,932]},{"content":"You can define calculations on the <bpt id=\"p1\">**</bpt>Constraint-based product configuration model details<ept id=\"p1\">**</ept> page and then build expressions for the calculations in the expression editor.","pos":[933,1103],"source":" You can define calculations on the **Constraint-based product configuration model details** page and then build expressions for the calculations in the expression editor."},{"content":"For more information, see Create calculations.","pos":[1104,1150]},{"pos":[1155,1177],"content":"What is a calculation?","linkify":"What is a calculation?","nodes":[{"content":"What is a calculation?","pos":[0,22]}]},{"content":"A calculation is an element that you can use in a product configuration model.","pos":[1178,1256]},{"content":"Calculations complement constraints by letting you use decimal numbers to calculate values when you configure a product.","pos":[1257,1377]},{"content":"Additionally, calculations have a larger set of available operators than constraints have.","pos":[1378,1468]},{"content":"Like a constraint, a calculation is associated with a specific component in a product configuration model, and can’t be reused by or shared with another component.","pos":[1469,1632]},{"content":"One important difference between calculations and constraints is that calculations are imperative (unidirectional), whereas constraints are declarative (bi-directional).","pos":[1633,1802]},{"content":"For more information about constraints, see <bpt id=\"p1\">[</bpt>Expression constraints and table constraints<ept id=\"p1\">](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/)</ept>.","pos":[1803,1977],"source":" For more information about constraints, see [Expression constraints and table constraints](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/)."},{"content":"A calculation consists of a target attribute and a calculation expression.","pos":[1978,2052]},{"pos":[2057,2084],"content":"What is a target attribute?","linkify":"What is a target attribute?","nodes":[{"content":"What is a target attribute?","pos":[0,27]}]},{"content":"A target attribute is an attribute that receives the result of the calculation expression.","pos":[2085,2175]},{"content":"In the following expression, the target attribute is a tablecloth measurement: <bpt id=\"p1\">**</bpt>Expression:<ept id=\"p1\">**</ept> If<ph id=\"ph1\">\\[</ph>decimalAttribute1 <ph id=\"ph2\">&amp;lt;</ph>= decimalAttribute2, True, False<ph id=\"ph3\">\\]</ph> <bpt id=\"p2\">**</bpt>DecimalAttribute1<ept id=\"p2\">**</ept> is the table length, and <bpt id=\"p3\">**</bpt>decimalAttribute2<ept id=\"p3\">**</ept> is the tablecloth length.","pos":[2176,2426],"source":" In the following expression, the target attribute is a tablecloth measurement: **Expression:** If\\[decimalAttribute1 &lt;= decimalAttribute2, True, False\\] **DecimalAttribute1** is the table length, and **decimalAttribute2** is the tablecloth length."},{"content":"The expression returns the value <bpt id=\"p1\">**</bpt>True<ept id=\"p1\">**</ept> to the target attribute if <bpt id=\"p2\">**</bpt>decimalAttribute2<ept id=\"p2\">**</ept> is greater than or equal to <bpt id=\"p3\">**</bpt>decimalAttribute1<ept id=\"p3\">**</ept>.","pos":[2427,2568],"source":" The expression returns the value **True** to the target attribute if **decimalAttribute2** is greater than or equal to **decimalAttribute1**."},{"content":"Otherwise, the expression returns <bpt id=\"p1\">**</bpt>False<ept id=\"p1\">**</ept>.","pos":[2569,2613],"source":" Otherwise, the expression returns **False**."},{"content":"Therefore, the tablecloth measurement is acceptable if the tablecloth length is the same as or exceeds the length of the table.","pos":[2614,2741]},{"pos":[2746,2799],"content":"What attribute types can be set to target attributes?","linkify":"What attribute types can be set to target attributes?","nodes":[{"content":"What attribute types can be set to target attributes?","pos":[0,53]}]},{"content":"All attribute types that the product configurator supports can be set to target attributes, except text without a fixed list.","pos":[2800,2925]},{"pos":[2930,3027],"content":"Can the value of a target attribute restrict the values of the input attributes in a calculation?","linkify":"Can the value of a target attribute restrict the values of the input attributes in a calculation?","nodes":[{"content":"Can the value of a target attribute restrict the values of the input attributes in a calculation?","pos":[0,97]}]},{"content":"No, the value of a target attribute can’t restrict the values of the input attributes, because calculations are unidirectional.","pos":[3028,3155]},{"content":"Therefore, the value of the target attribute is set based on changes in the value of the input attributes, but a change in the value of the target doesn’t affect the value of the input attributes.","pos":[3156,3352]},{"content":"This behavior differs from the behavior for constraints.","pos":[3353,3409]},{"content":"Constraints occur in both directions.","pos":[3410,3447]},{"pos":[3453,3460],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]},{"content":"In the following expression, the target for the calculation is the length of a power cord, and the input value is a color: <bpt id=\"p1\">**</bpt>Expression:<ept id=\"p1\">**</ept> <ph id=\"ph1\">\\[</ph>If Color == \"Green\", 1.5, 1.0<ph id=\"ph2\">\\]</ph> When you configure the item, the length of the power cord is set to <bpt id=\"p2\">**</bpt>1.5<ept id=\"p2\">**</ept> if you specify <bpt id=\"p3\">**</bpt>Green<ept id=\"p3\">**</ept> as the value of color attribute.","pos":[3462,3768],"source":"In the following expression, the target for the calculation is the length of a power cord, and the input value is a color: **Expression:** \\[If Color == \"Green\", 1.5, 1.0\\] When you configure the item, the length of the power cord is set to **1.5** if you specify **Green** as the value of color attribute."},{"content":"If you specify any other color, the length is set to <bpt id=\"p1\">**</bpt>1.0<ept id=\"p1\">**</ept>.","pos":[3769,3830],"source":" If you specify any other color, the length is set to **1.0**."},{"content":"However, because calculations are unidirectional, the calculation doesn't set the value of the color attribute to <bpt id=\"p1\">**</bpt>Green<ept id=\"p1\">**</ept> if you specify a length of <bpt id=\"p2\">**</bpt>1.5<ept id=\"p2\">**</ept>.","pos":[3831,3990],"source":" However, because calculations are unidirectional, the calculation doesn't set the value of the color attribute to **Green** if you specify a length of **1.5**."},{"pos":[3995,4113],"content":"What happens if a calculation has a target attribute of the integer type but a calculation generates a decimal number?","linkify":"What happens if a calculation has a target attribute of the integer type but a calculation generates a decimal number?","nodes":[{"content":"What happens if a calculation has a target attribute of the integer type but a calculation generates a decimal number?","pos":[0,118]}]},{"content":"If a target attribute is of the integer type, but a calculation generates a decimal number, only the integer part of the calculated result is returned.","pos":[4114,4265]},{"content":"The decimal part is removed, and the result isn't rounded.","pos":[4266,4324]},{"content":"For example, a result of 12.70 is shown as 12.","pos":[4325,4371]},{"pos":[4376,4403],"content":"When do calculations occur?","linkify":"When do calculations occur?","nodes":[{"content":"When do calculations occur?","pos":[0,27]}]},{"content":"Calculations occur when a value has been provided for all input attributes.","pos":[4404,4479]},{"pos":[4484,4554],"content":"Can I overwrite the value that is calculated for the target attribute?","linkify":"Can I overwrite the value that is calculated for the target attribute?","nodes":[{"content":"Can I overwrite the value that is calculated for the target attribute?","pos":[0,70]}]},{"content":"You can overwrite the value that is calculated for the target attribute, unless the target attribute is set as hidden or read-only.","pos":[4555,4686]},{"pos":[4691,4745],"content":"How do I set a target attribute as hidden or readonly?","linkify":"How do I set a target attribute as hidden or readonly?","nodes":[{"content":"How do I set a target attribute as hidden or readonly?","pos":[0,54]}]},{"content":"To set an attribute as hidden or read-only, follow these steps.","pos":[4746,4809]},{"pos":[4815,4910],"content":"Click <bpt id=\"p1\">**</bpt>Product information management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Common<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Product configuration models<ept id=\"p3\">**</ept>.","source":"Click **Product information management** &gt; **Common** &gt; **Product configuration models**."},{"pos":[4915,4998],"content":"Select a product configuration model, and then, on the Action Pane, click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>.","source":"Select a product configuration model, and then, on the Action Pane, click **Edit**."},{"pos":[5003,5123],"content":"On the <bpt id=\"p1\">**</bpt>Constraint-based product configuration model details<ept id=\"p1\">**</ept> page, select the attribute to use as a target attribute.","source":"On the **Constraint-based product configuration model details** page, select the attribute to use as a target attribute."},{"pos":[5128,5194],"content":"On the <bpt id=\"p1\">**</bpt>Attributes<ept id=\"p1\">**</ept> FastTab, select <bpt id=\"p2\">**</bpt>Hidden<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Read-only<ept id=\"p3\">**</ept>.","source":"On the **Attributes** FastTab, select **Hidden** or **Read-only**."},{"pos":[5199,5249],"content":"Can a calculation overwrite the values that I set?","linkify":"Can a calculation overwrite the values that I set?","nodes":[{"content":"Can a calculation overwrite the values that I set?","pos":[0,50]}]},{"content":"No.","pos":[5250,5253]},{"content":"The values that you set when you configure a product are the values that are used.","pos":[5254,5336]},{"content":"The calculation that occurs when the input values in a calculation are changed can’t overwrite the values that you provide for a specific attribute.","pos":[5337,5485]},{"pos":[5490,5547],"content":"What happens if I remove an input value in a calculation?","linkify":"What happens if I remove an input value in a calculation?","nodes":[{"content":"What happens if I remove an input value in a calculation?","pos":[0,57]}]},{"content":"If you remove an input value in a calculation, the value of the target attribute is also removed.","pos":[5548,5645]},{"pos":[5650,5728],"content":"Why do I receive an error message that says that my model is in contradiction?","linkify":"Why do I receive an error message that says that my model is in contradiction?","nodes":[{"content":"Why do I receive an error message that says that my model is in contradiction?","pos":[0,78]}]},{"content":"This message is shown when a calculation includes an error, or when a contradiction exists in one or more constraints.","pos":[5729,5847]},{"content":"For more information about contradictions in constraints, see <bpt id=\"p1\">[</bpt>Expression constraints and table constraints<ept id=\"p1\">](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/)</ept>.","pos":[5848,6040],"source":" For more information about contradictions in constraints, see [Expression constraints and table constraints](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/)."},{"content":"Here are some situations where errors can occur in calculations:","pos":[6041,6105]},{"content":"A value is divided by 0 (zero).","pos":[6111,6142]},{"content":"A conflict exists between the following two elements:","pos":[6147,6200]},{"content":"The values that are available for an attribute and are limited by a constraint","pos":[6209,6287]},{"content":"A value that is generated by a calculation","pos":[6296,6338]},{"content":"The values that are returned by the calculation are outside the domain of the attribute.","pos":[6343,6431]},{"content":"An example is an integer from <ph id=\"ph1\">\\[</ph>1..10<ph id=\"ph2\">\\]</ph> that is calculated to 0.","pos":[6432,6496],"source":" An example is an integer from \\[1..10\\] that is calculated to 0."},{"pos":[6501,6589],"content":"Why do I receive an error message even though I successfully validated my product model?","linkify":"Why do I receive an error message even though I successfully validated my product model?","nodes":[{"content":"Why do I receive an error message even though I successfully validated my product model?","pos":[0,88]}]},{"content":"Calculations aren't included in the validation.","pos":[6590,6637]},{"content":"You must test the product configuration model to find errors in calculations.","pos":[6638,6715]},{"content":"To test a product configuration model, follow these steps.","pos":[6716,6774]},{"pos":[6780,6875],"content":"Click <bpt id=\"p1\">**</bpt>Product information management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Common<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Product configuration models<ept id=\"p3\">**</ept>.","source":"Click **Product information management** &gt; **Common** &gt; **Product configuration models**."},{"pos":[6880,6985],"content":"Select a product configuration model, and then, on the Action Pane, in the <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> group, click <bpt id=\"p2\">**</bpt>Test<ept id=\"p2\">**</ept>.","source":"Select a product configuration model, and then, on the Action Pane, in the **Run** group, click **Test**."}],"content":"---\n# required metadata\n\ntitle: Calculations for product configuration models | Microsoft Docs\ndescription: This article describes calculations for product configuration models and explains how to use calculations together with constraints.\nauthor: annbe\nmanager: AnnBe\nms.date: 2015-12-07 09:11:25\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\nkeywords: PCConstraintEditor, PCProductConfigurationModelDetails, PCRuntimeConfigurator\n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: \nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 19191\nms.assetid: 8176b509-1921-49d6-9a34-a651c043ea11\n# ms.region: \nms.industry: Manufacturing\nms.author: YuyuScheller\n\n---\n\n# Calculations for product configuration models\n\nCalculations can be used for arithmetic or logical operations. They complement expression constraints in product configuration models. You can define calculations on the **Constraint-based product configuration model details** page and then build expressions for the calculations in the expression editor. For more information, see Create calculations.\n\n## What is a calculation?\nA calculation is an element that you can use in a product configuration model. Calculations complement constraints by letting you use decimal numbers to calculate values when you configure a product. Additionally, calculations have a larger set of available operators than constraints have. Like a constraint, a calculation is associated with a specific component in a product configuration model, and can’t be reused by or shared with another component. One important difference between calculations and constraints is that calculations are imperative (unidirectional), whereas constraints are declarative (bi-directional). For more information about constraints, see [Expression constraints and table constraints](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/). A calculation consists of a target attribute and a calculation expression.\n\n## What is a target attribute?\nA target attribute is an attribute that receives the result of the calculation expression. In the following expression, the target attribute is a tablecloth measurement: **Expression:** If\\[decimalAttribute1 &lt;= decimalAttribute2, True, False\\] **DecimalAttribute1** is the table length, and **decimalAttribute2** is the tablecloth length. The expression returns the value **True** to the target attribute if **decimalAttribute2** is greater than or equal to **decimalAttribute1**. Otherwise, the expression returns **False**. Therefore, the tablecloth measurement is acceptable if the tablecloth length is the same as or exceeds the length of the table.\n\n## What attribute types can be set to target attributes?\nAll attribute types that the product configurator supports can be set to target attributes, except text without a fixed list.\n\n## Can the value of a target attribute restrict the values of the input attributes in a calculation?\nNo, the value of a target attribute can’t restrict the values of the input attributes, because calculations are unidirectional. Therefore, the value of the target attribute is set based on changes in the value of the input attributes, but a change in the value of the target doesn’t affect the value of the input attributes. This behavior differs from the behavior for constraints. Constraints occur in both directions.\n\n### Example\n\nIn the following expression, the target for the calculation is the length of a power cord, and the input value is a color: **Expression:** \\[If Color == \"Green\", 1.5, 1.0\\] When you configure the item, the length of the power cord is set to **1.5** if you specify **Green** as the value of color attribute. If you specify any other color, the length is set to **1.0**. However, because calculations are unidirectional, the calculation doesn't set the value of the color attribute to **Green** if you specify a length of **1.5**.\n\n## What happens if a calculation has a target attribute of the integer type but a calculation generates a decimal number?\nIf a target attribute is of the integer type, but a calculation generates a decimal number, only the integer part of the calculated result is returned. The decimal part is removed, and the result isn't rounded. For example, a result of 12.70 is shown as 12.\n\n## When do calculations occur?\nCalculations occur when a value has been provided for all input attributes.\n\n## Can I overwrite the value that is calculated for the target attribute?\nYou can overwrite the value that is calculated for the target attribute, unless the target attribute is set as hidden or read-only.\n\n## How do I set a target attribute as hidden or readonly?\nTo set an attribute as hidden or read-only, follow these steps.\n\n1.  Click **Product information management** &gt; **Common** &gt; **Product configuration models**.\n2.  Select a product configuration model, and then, on the Action Pane, click **Edit**.\n3.  On the **Constraint-based product configuration model details** page, select the attribute to use as a target attribute.\n4.  On the **Attributes** FastTab, select **Hidden** or **Read-only**.\n\n## Can a calculation overwrite the values that I set?\nNo. The values that you set when you configure a product are the values that are used. The calculation that occurs when the input values in a calculation are changed can’t overwrite the values that you provide for a specific attribute.\n\n## What happens if I remove an input value in a calculation?\nIf you remove an input value in a calculation, the value of the target attribute is also removed.\n\n## Why do I receive an error message that says that my model is in contradiction?\nThis message is shown when a calculation includes an error, or when a contradiction exists in one or more constraints. For more information about contradictions in constraints, see [Expression constraints and table constraints](http://ax.help.dynamics.com/en/wiki/expression-constraints-and-table-constraints/). Here are some situations where errors can occur in calculations:\n\n-   A value is divided by 0 (zero).\n-   A conflict exists between the following two elements:\n    -   The values that are available for an attribute and are limited by a constraint\n    -   A value that is generated by a calculation\n-   The values that are returned by the calculation are outside the domain of the attribute. An example is an integer from \\[1..10\\] that is calculated to 0.\n\n## Why do I receive an error message even though I successfully validated my product model?\nCalculations aren't included in the validation. You must test the product configuration model to find errors in calculations. To test a product configuration model, follow these steps.\n\n1.  Click **Product information management** &gt; **Common** &gt; **Product configuration models**.\n2.  Select a product configuration model, and then, on the Action Pane, in the **Run** group, click **Test**.\n\n\n"}