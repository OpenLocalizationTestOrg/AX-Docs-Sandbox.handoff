{"content":"---\n# required metadata\n\ntitle: HierarchyViewer control\ndescription: This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31081\nms.assetid: 09358d27-6edc-420a-a7b6-83785b8ba0c6\nms.search.region: Global\n# ms.search.industry: \nms.author: tlefor\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# HierarchyViewer control\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.\n\nOverview\n--------\n\nThe HierarchyViewer control lets you represent hierarchical relationships for people, products, or organizations. It's used primarily as a graphical means to help you understand hierarchical relationships in a traditional top-down manner, and as way to navigate to the entity that is represented by the focused node. The HierarchyViewer control lets you walk through deeply nested, multilevel content in a compact space. The control expands and collapses nodes to control the parts of the tree structure that are shown. Because it's an unbound control, the HierarchyViewer data is managed by an abstraction class and is used primarily as a way to visualize data in a simple tree relationship. For hierarchy data in a traditional tree, there is a standard tree control. \n\n[![HierarchyViewer\\_Page](./media/hierarchyviewer_page.png)](./media/hierarchyviewer_page.png) \n\nThe HierarchyViewer control shows, at most, three levels on a single branch at any time. A breadcrumb trail shows the path of parents down the current tree branch. The top level shows the current top node and will always have one member. This member isn't necessarily the root. The second level, the child node, can have an indefinite number of member nodes. By default, three of these member nodes are shown on each page. The number of member nodes that is shown can be set by using the **Number of children** property. The control will page right and left through the members of the child level. The last level, the grandchild node, can have an indefinite number of member nodes. The number of visible member nodes is controlled by the **Number of Grandchildren** property. The HierarchyViewer control will page up and down through members of the grandchild level. The interactive display of nodes requires no business logic.\n\n## Business logic interaction\nThe HierarchyViewer control offers data visualization and navigation. The HierarchyViewer control is a read-only control. It can be used to select an entity (employee, product, or organization), and corresponding data can then be managed though other display and input fields on the form, outside the HierarchyViewer control. This is accomplished by a selection event that is raised on each user focus on each node.\n\n    public void init(){\n        …    \n        // HierarchyViewer is the auto-declared name for the control.\n        // handleNodeSelected is your event handler.\n        HierarchyViewer.notfiyNodeSelected += eventhandler(element.handleNodeSelected);\n    }\n    public void handeNodeSelected(int _nodeId)\n    {\n        // do something\n    }\n\n## Authoring a HierarchyViewer instance\nTo create a HierarchyViewer instance:\n\n1.  In the form designer, add an instance of HierarchyViewer to your form.\n2.  In the **Properties** pane, accept the default number of visible children and grandchildren, or set new values. \n\n![HierarchyViewer\\_Properties](./media/hierarchyviewer_properties-256x300.png)\n\nThe HierarchyViewer control is primarily a visually interactive way of navigating or interrogating nodes in a static manner. The HierarchyViewer control isn't bound to a data source. Instead, the control is managed by a corresponding controller class that extends the base **HierarcyDesignerBase**. You initialize that class with data, and bind to the control instance and the visible fields of the HierarchyViewer node.\n\nA typical use of the control is to initialize a server-side “in-memory” map of the hierarchy and then dynamically update the control as the user interactively explores the hierarchy by using load-on-demand semantics.\n\n    public void init()\n    {\n        HcmPositionNode node;\n        nodeMap = new Map(Types::Int64, Types::Class);\n        hierarchyMap = new Map(Types::Int64, Types::Int64);\n        firstNodeId = 0;\n        // Initialize the organization node\n        node = HcmPositionNode::newParameters(this.getNextNodeId(), HcmPositionNodeType::Enterprise, -1, 0, \"@SYS317690\", \"\");\n        rootNode = node;\n        if (selectedNode == null)\n        {\n            selectedNode = rootNode;\n        }\n        this.insertNewNodeAndUpdateParent(node);\n    }\n\nOverride the **applyBuild** method of the control. This is where you will pass the instance of your controller class.\n\n    public void applyBuild()\n    {\n        super();\n        YourControllerClass controller = new YourControllerClass();\n        this.initControl(controller);\n    }\n\nYou don’t have to populate the whole node structure. Instead, you can populate nodes on demand.\n\n    public void initHcmPositionFromCurrentNode(HcmPosition _hcmPosition)\n    protected void insertNewNodeAndLoadDescendants(HcmPositionNode _node, int _depth, HcmPositionNode _parentNode = null, Common _common = null)\n    protected void loadNodeDescendants(HcmPositionNode _node, int _depth, Common _common = null)\n\n## Changing node visuals\nYou can't change node visuals. The intended design is for the control to offer a set of unbound controls that have a default layout that you can manipulate by using an **ExtendedStyle** property to offer a predefined set of alternatives that the author can select.\n\n\n\n","nodes":[{"pos":[4,735],"embed":true,"content":"# required metadata\n\ntitle: HierarchyViewer control\ndescription: This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 31081\nms.assetid: 09358d27-6edc-420a-a7b6-83785b8ba0c6\nms.search.region: Global\n# ms.search.industry: \nms.author: tlefor\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"HierarchyViewer control","nodes":[{"pos":[0,23],"content":"HierarchyViewer control","nodes":[{"content":"HierarchyViewer control","pos":[0,23]}]}],"path":["title"]},{"content":"This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.","nodes":[{"pos":[0,160],"content":"This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.","nodes":[{"content":"This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.","pos":[0,160]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[743,766],"content":"HierarchyViewer control","linkify":"HierarchyViewer control","nodes":[{"content":"HierarchyViewer control","pos":[0,23]}]},{"content":"This article provides information about the HierarchyViewer control, which lets you represent hierarchical relationships for people, products, or organizations.","pos":[812,972]},{"pos":[974,982],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"The HierarchyViewer control lets you represent hierarchical relationships for people, products, or organizations.","pos":[993,1106]},{"content":"It's used primarily as a graphical means to help you understand hierarchical relationships in a traditional top-down manner, and as way to navigate to the entity that is represented by the focused node.","pos":[1107,1309]},{"content":"The HierarchyViewer control lets you walk through deeply nested, multilevel content in a compact space.","pos":[1310,1413]},{"content":"The control expands and collapses nodes to control the parts of the tree structure that are shown.","pos":[1414,1512]},{"content":"Because it's an unbound control, the HierarchyViewer data is managed by an abstraction class and is used primarily as a way to visualize data in a simple tree relationship.","pos":[1513,1685]},{"content":"For hierarchy data in a traditional tree, there is a standard tree control.","pos":[1686,1761]},{"pos":[1764,1858],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>HierarchyViewer<ph id=\"ph2\">\\_</ph>Page<ept id=\"p1\">](./media/hierarchyviewer_page.png)](./media/hierarchyviewer_page.png)</ept>","source":"[![HierarchyViewer\\_Page](./media/hierarchyviewer_page.png)](./media/hierarchyviewer_page.png)"},{"content":"The HierarchyViewer control shows, at most, three levels on a single branch at any time.","pos":[1861,1949]},{"content":"A breadcrumb trail shows the path of parents down the current tree branch.","pos":[1950,2024]},{"content":"The top level shows the current top node and will always have one member.","pos":[2025,2098]},{"content":"This member isn't necessarily the root.","pos":[2099,2138]},{"content":"The second level, the child node, can have an indefinite number of member nodes.","pos":[2139,2219]},{"content":"By default, three of these member nodes are shown on each page.","pos":[2220,2283]},{"content":"The number of member nodes that is shown can be set by using the <bpt id=\"p1\">**</bpt>Number of children<ept id=\"p1\">**</ept> property.","pos":[2284,2381],"source":" The number of member nodes that is shown can be set by using the **Number of children** property."},{"content":"The control will page right and left through the members of the child level.","pos":[2382,2458]},{"content":"The last level, the grandchild node, can have an indefinite number of member nodes.","pos":[2459,2542]},{"content":"The number of visible member nodes is controlled by the <bpt id=\"p1\">**</bpt>Number of Grandchildren<ept id=\"p1\">**</ept> property.","pos":[2543,2636],"source":" The number of visible member nodes is controlled by the **Number of Grandchildren** property."},{"content":"The HierarchyViewer control will page up and down through members of the grandchild level.","pos":[2637,2727]},{"content":"The interactive display of nodes requires no business logic.","pos":[2728,2788]},{"pos":[2793,2819],"content":"Business logic interaction","linkify":"Business logic interaction","nodes":[{"content":"Business logic interaction","pos":[0,26]}]},{"content":"The HierarchyViewer control offers data visualization and navigation.","pos":[2820,2889]},{"content":"The HierarchyViewer control is a read-only control.","pos":[2890,2941]},{"content":"It can be used to select an entity (employee, product, or organization), and corresponding data can then be managed though other display and input fields on the form, outside the HierarchyViewer control.","pos":[2942,3145]},{"content":"This is accomplished by a selection event that is raised on each user focus on each node.","pos":[3146,3235]},{"pos":[3579,3615],"content":"Authoring a HierarchyViewer instance","linkify":"Authoring a HierarchyViewer instance","nodes":[{"content":"Authoring a HierarchyViewer instance","pos":[0,36]}]},{"content":"To create a HierarchyViewer instance:","pos":[3616,3653]},{"content":"In the form designer, add an instance of HierarchyViewer to your form.","pos":[3659,3729]},{"pos":[3734,3845],"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, accept the default number of visible children and grandchildren, or set new values.","source":"In the **Properties** pane, accept the default number of visible children and grandchildren, or set new values."},{"content":"HierarchyViewer<ph id=\"ph1\">\\_</ph>Properties","pos":[3850,3877],"source":"HierarchyViewer\\_Properties"},{"content":"The HierarchyViewer control is primarily a visually interactive way of navigating or interrogating nodes in a static manner.","pos":[3928,4052]},{"content":"The HierarchyViewer control isn't bound to a data source.","pos":[4053,4110]},{"content":"Instead, the control is managed by a corresponding controller class that extends the base <bpt id=\"p1\">**</bpt>HierarcyDesignerBase<ept id=\"p1\">**</ept>.","pos":[4111,4226],"source":" Instead, the control is managed by a corresponding controller class that extends the base **HierarcyDesignerBase**."},{"content":"You initialize that class with data, and bind to the control instance and the visible fields of the HierarchyViewer node.","pos":[4227,4348]},{"content":"A typical use of the control is to initialize a server-side “in-memory” map of the hierarchy and then dynamically update the control as the user interactively explores the hierarchy by using load-on-demand semantics.","pos":[4350,4566]},{"content":"Override the <bpt id=\"p1\">**</bpt>applyBuild<ept id=\"p1\">**</ept> method of the control.","pos":[5110,5160],"source":"Override the **applyBuild** method of the control."},{"content":"This is where you will pass the instance of your controller class.","pos":[5161,5227]},{"content":"You don’t have to populate the whole node structure.","pos":[5394,5446]},{"content":"Instead, you can populate nodes on demand.","pos":[5447,5489]},{"pos":[5810,5831],"content":"Changing node visuals","linkify":"Changing node visuals","nodes":[{"content":"Changing node visuals","pos":[0,21]}]},{"content":"You can't change node visuals.","pos":[5832,5862]},{"content":"The intended design is for the control to offer a set of unbound controls that have a default layout that you can manipulate by using an <bpt id=\"p1\">**</bpt>ExtendedStyle<ept id=\"p1\">**</ept> property to offer a predefined set of alternatives that the author can select.","pos":[5863,6096],"source":" The intended design is for the control to offer a set of unbound controls that have a default layout that you can manipulate by using an **ExtendedStyle** property to offer a predefined set of alternatives that the author can select."}]}