{"content":"---\n# required metadata\n\ntitle: Control checklist\ndescription: This article categorizes and describes all the release criteria for controls.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 30141\nms.assetid: 9e67e62c-1ced-45bd-8591-941e9afb0ab1\nms.search.region: Global\n# ms.search.industry: \nms.author: shshabazz\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Control checklist\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article categorizes and describes all the release criteria for controls.\n\nIntroduction\n------------\n\nTypically, when you author a new control, the primary focus is on scenario functionality and technical implementation. However, before a control can be considered ready for shipment, it should conform to a set of best practice, quality, and development release criteria, as outlined in this article.\n\n## Control criteria checklist\nThis checklist assumes that you're familiar with the basics of control development. The following items highlight important implementation requirements that should be met by all controls.\n\n### Basic usage ready\n\nA control must meet these requirements to be considered a functionally compatible and complete control.\n\n#### Classes\n\nThese naming conventions are best practices but aren't functional requirements of a control:\n\n-   The Runtime class is named **\\[Name of control\\]Control**.\n-   The Design-time class is named **Build\\[Name of control\\]Control**.\n-   Any control-specific Component classes are named **\\[Name of control\\]\\[Name of component\\]Component**.\n-   Any generic Component classes are named **Build\\[Name of component\\]Component**.\n\n#### Resources\n\nThese naming conventions are best practices but aren't functional requirements of a control:\n\n-   The HTML Resource is named **\\[Name of control\\]HTM**, and the physical file is named **\\[Name of control\\].htm**.\n-   The JavaScript Resource is named **\\[Name of control\\]JS**, and the physical file is named **\\[Name of control\\].js**.\n\n#### X++ Runtime\n\nThese items apply to the \"Runtime\" X++ class.\n\n-   FormControlAttribute is supplied with the build class name.\n-   The FormControlAttribute is supplied with the template ID.\n-   FormControlAttribute is supplied with the resource bundle path.\n-   The **FormTemplateControl** class is extended (directly or through inheritance).\n-   A FormProperty exists for each change-tracked property (that is, each property that must be read in the client JavaScript).\n-   The **New** method initializes each FormProperty instance.\n-   The **setTemplateId** and **setResourceBundleName** inherited methods are called with the same values that are supplied in the FormControlAttribute.\n-   The **ApplyBuild** method is used to interpret any design-time properties, and to apply design-time properties to the run-time properties as appropriate for the control.\n-   A Property getter/setter method exists for each FormProperty.\n-   A FormPropertyAttribute is supplied on each FormProperty's getter/setter method.\n-   **Anytype** is used as the argument type for FormProperties that have **FormPropertyKind::BindableValue**.\n-   All FormProperties are specified as **ReadOnly** to the JS class, via the third argument to the FormPropertyAttribute.\n    -   This argument affects only the read/write behavior that is seen by JavaScript, not by X++.\n    -   We don't recommend that you allow JavaScript to write directly to properties, because every property state change should be validated. We recommend that you use FormCommands for this purpose, instead of writeable properties.\n-   FormCommands that allow the state of FormProperties to be changed must validate that the control is in a valid state to allow for the property change.\n    -   Controls that are disabled, read-only, invisible, and so on, should prevent inappropriate state changes.\n\n#### X++ Design time\n\nThese items apply to the \"Design/Build\" X++ class:\n\n-   The FormDesignControlAttribute is supplied with the control common name, **\\[Name of control\\]**, without “Control” appended at the end.\n    -   The name that is supplied here will appear in Microsoft Visual Studio when the control is added to a form.\n-   A backing field exists for each design-time property.\n-   A Property getter/setter exists for each design-time property.\n-   A FormDesignPropertyAttribute is supplied to each design-time property.\n-   No code outside of the Design property getters/setters should exist in this class. (In other words, there should be no **new()** methods, and so on.)\n\n#### HTML\n\nThese items apply to the .htm file, which is also referred to as the resource bundle:\n\n-   External resources, such as scripts, style sheets, and other HTM files, are loaded by using HTML standard &lt;script&gt; and &lt;link&gt; tags.\n-   All external resource loading tags are placed above the outermost HTML element in the file, so that they are loaded and processed first.\n-   The template ID is supplied via the **id** attribute on the outermost HTML element.\n-   The visibility of the outermost HTML element is bound to the **Visible** property.\n-   The sizing of the outermost HTML element is bound to the sizing binding handler.\n-   Binding handlers are used to programmatically modify HTML. (APIs such as getElementById in the JavaScript constructor aren't used.)\n\n#### JavaScript\n\n-   The whole JavaScript code is wrapped in an anonymous function.\n-   Localizable strings are stored in the Globalize culture info object.\n-   Localizable strings are also stored in a label file, according to the instructions in [Create and use localizable labels in the client](create-localizable-labels-client.md).\n-   Default values are provided for all properties that aren't initialized inside the constructor.\n-   The JavaScript constructor is added to the control JavaScript namespace.\n-   A reference to **this** is stored in an object that is named **self**, and **self** is used instead of **this** throughout the constructor.\n-   The base JavaScript control behaviors are inherited.\n-   Default values are applied by using a framework utility function.\n-   Client-side properties are defined in the scope of the constructor and are added to **self**.\n-   Observable and computed properties are used only for UI-bound behaviors.\n-   A prototype exists and contains all static methods that are specific to the control.\n-   Binding handlers that are specific to the control are stored in the control’s namespace (not in the global control namespace).\n-   The control doesn't use or load external plug-ins (Microsoft ActiveX, Flash, Java, and so on).\n\n### Interactivity\n\n#### CSS/LESS\n\n-   Prefix all class names with the template ID to prevent conflicts with other controls.\n-   Don't use class names that are defined on other controls, because those classes can change.\n\n#### Layout and resizing\n\n-   The control uses the Sizing API for its outermost element. This requirement helps guarantee that the framework can correctly size and arrange the outermost element of the control.\n-   For advanced layout scenarios for elements that are contained in the control, use [CSS Flexible Boxes](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes), which are supported by the HTML standard.\n\n#### Browser support\n\n-   The control correctly renders and supports all intended user interaction patterns on all supported browsers:\n    -   Microsoft Edge/Internet Explorer 11\n    -   The latest version Chrome\n    -   The latest version of iPad/MacOS Safari\n\n#### Tab sequence\n\n-   Make sure that the control meets the W3C standards for tab sequence.\n\n### Globalization\n\n#### Right-to-left languages\n\n-   Full RTL support will arrive after RTW.\n\n#### Localizable labels\n\n-   The control uses a label file for UI text that is used only on the client side (not used in X++). For instructions about how to create and use these labels, see [How to create and use localizable labels in the client](create-localizable-labels-client.md).\n\n### Task Recorder compatibility\n\n-   Basic recording support\n    -   For any control that accepts user input, or that a user can interact with, input/actions must be recordable by Task Recorder. For Task Recorder to record the input, the control must use the SysTaskRecorder X++ API to specify the properties that should be recorded.\n-   Basic task guide support\n    -   For any control that can be recorded by using Task Recorder, the control should have task guide support. This support includes verifying that the task guide pop-up prompt points to the correct UI elements of the control, based on the input/action that was recorded.\n    -   In addition, validate that, when the task guide is locked (“on-rails”), the user can interact with the expected parts of the control. For example, for a combo box control, the user should be able to open the drop-down box to select a value, in addition to typing the value directly.\n-   Advanced recording support\n    -   Support for Cut, Copy, Paste, and Validate can be evaluated on a per-control basis. There are JavaScript and X++ methods that controls can implement to enable these features.\n\n#### Threat modeling the control\n\n-   Vulnerabilities in the logical control (X++/C++) that are related to serialization/deserialization of data types, and command/property execution, should be reviewed and fixed.\n    -   Serialization threats are related to the way that the control parses or interprets data types.\n        -   Any serializer for data types (except the built-in X++ Data Contracts and primitive type serialization) must be reviewed.\n        -   Any parser must be reviewed to verify that it doesn't allow for arbitrary code execution or other exploitation.\n        -   Any data access queries that are executed by the control (or by any helper classes that the control uses) must be evaluated and reviewed.\n    -   Command/property execution threats are related to the way that the logical control handles an action that the control determines to be invalid.\n        -   Example of a command threat: A click command is executed when the control is in a disabled state. You must make sure that the click command is handled appropriately, based on the control state.\n        -   Example of a property thread: A property change is executed when the control is ready-only. You must make sure that the property change is handled appropriately, based on the control state.\n    -   You must review the use of any .NET libraries to make sure that the .NET library is also secure.\n-   Vulnerabilities that are related to the client-side parts of the control (HTML, JavaScript, CSS, third-party libraries) should follow general secure web development principles. Specific examples include XSS vulnerabilities.\n    -   Any control that renders user data as HTML/JavaScript/CSS exposes an XSS vulnerability that must have mitigations identified.\n    -   Any control that renders external content in an iFrame exposes an XSS vulnerability that must have mitigations identified.\n    -   Any control that makes calls to third-party services must have mitigations identified and requires direct review by the client team.\n    -   Any control that handles authentication must have mitigations identified.\n\n## Control criteria details\nThis section explores the control criteria in more detail.\n\n### Basic usage ready\n\n####  X++ Runtime\n\n-   **FormControlAttribute** **** Each control must supply the FormControlAttribute to the class declaration. The attribute must specify the build/design-time class that accompanies the control. The attribute must also specify the HTML template ID and the physical HTML file name (the resource bundle name).\n-   **FormTemplateControl** Each control must extend FormTemplateControl to participate in the control lifecycle.\n-   **FormProperty** Each control must declare FormProperties for every statically defined property that must participate in the change tracking system. For properties that are used only on the server side, no FormProperty is required.\n-   **New** Each control must implement the **New** method in order for its properties to participate in the change tracking system that propagates value changes between the client and server parts of the control. Inside the **New** method, each FormProperty\n-   **ApplyBuild** Each control must implement the **ApplyBuild** method in order for the control to be initialized based on the values that are set on it at design time. This method is primarily used to copy or transform design-time values into their Runtime equivalents. However, not all design-time properties must have Runtime equivalents, and not all Runtime properties must source their initial values from design-time properties.\n-   **Property getter/setter** Each control must implement property getters/setters for every FormProperty that is used by the control. These methods should be parm methods. Therefore, the names should begin with “parm” for methods that are getters/setters, “get” for methods that are only getters, and “set” for methods that are only setters. At a minimum, a FormPropertyAttribute must be supplied to each method, together with a FormPropertyKind and the name of the property as it should be made accessible to the HTML and JavaScript in the client.\n\n#### HTML\n\n-   **Template ID** Each control must provide an HTML **id** attribute on the outermost HTML element of the control’s markup. In order for the control to be loaded at run time, this ID must match the ID that is supplied to the FormControlAttribute.\n-   **Scripts and style sheets** Each control must use HTML standard &lt;script&gt; and &lt;link&gt; tags to consume other JavaScript or CSS files. These tags should be placed at the beginning of the HTML file for the control, before the HTML definition element for the control. If the files that must be loaded have dependencies, make sure that the order of the &lt;script&gt; or &lt;link&gt; loading tags is appropriate. Tags that appear first are loaded first. To load JavaScript or CSS from AOT Resources, use a site root–relative path (/Resource/Scripts or /Resources/Styles).\n-   **Data binding** Each control can participate in the HTML binding framework through use of the **data-dyn-bind** attribute on HTML elements that are contained in the control. The binding attribute enables HTML element properties to be bound to observable or computed properties that are located in the current data context.\n\n#### JavaScript\n\n-   **Script encapsulation** Each control must wrap all its JavaScript in an anonymous function. This requirement helps prevent the framework’s global JavaScript namespace from being populated with control-specific logic.\n-   **Localizable strings** Each control must use the Globalization API to store any string messages that are used by the control’s JavaScript. Therefore, the control’s JavaScript should not hard-code any strings that are displayed in the UI. Instead, the JavaScript should reference the string messages that are stored via the Globalization API. To load strings in the globalization object in HTML and JavaScript, you can use the $dyn.label API and pass in the identifier of the label. For more information, see [Create and use localizable labels in the client](create-localizable-labels-client.md).\n-   **Default values** Each control must provide default values for any properties that aren't initialized in the JavaScript. Therefore, any properties for which values are passed in to the JavaScript constructor on initialization (that is, the FormProperties in the X++ Runtime class) must provide a default-value dictionary for these properties.\n-   **JavaScript constructor** Each control must implement a constructor in the controls namespace. This constructor is the first line of code that will be executed when the control is loaded in the client. After the constructor is completed, the constructor’s associated object, *this*, is passed in to the HTML as the default data context.\n-   **Inheriting base control** Each control’s constructor must “inherit” from the base JavaScript control class. The base JavaScript control class contains behaviors that are required by each control.\n-   **Applying default values** Each control must use the provided framework function to apply the default values to the control’s properties.\n-   **Adding client-side properties/functions** Each control can add client-side-only properties and functions to the JavaScript class, in addition to the server-side FormProperties and Commands that are passed in to the control constructor. The pattern for adding client-side-only properties/functions is to maintain a local copy of the *this* object and add the functions/properties to the local copy. After the control constructor is completed, all properties, functions, FormProperties, and Commands that have been added will be available in the HTML as the default data context.\n-   **Adding observable and computed properties** Each control can add client-side-only properties that participate in the observability patterns of the client. An observable property is initialized by using the $dyn.observable(\\[initial value\\]) function. A computed property is initialized by using the $dyn.computed(\\[function(){}\\]) function. Controls should use observable/computed properties sparingly, because these property can significantly harm performance if they are used incorrectly.\n-   **Control JavaScript prototype** Each control must implement a JavaScript prototype that extends the base control prototype. The prototype should contain any “static” JavaScript methods (methods that require no references to local variables) that are used by the control.\n\n### Interactivity\n\n#### Layout and resizing\n\n-   To enable the form developer to determine the control layout and size, set the width and height that are specified by the form developer on the control by using the $dyn.layout.sizing API, as shown in the following code. This is standard code that should be applied to all HTML control templates.\n\n        <div id=\"MyControl\" data-dyn-bind=\"\n        sizing: $dyn.layout.sizing($data)>\n        </div>\n\n#### Task Recorder recording support\n\nControls must use the SysTaskRecorder X++ API to indicate which actions on the control are “recordable.”\n\n-   For controls that enable values to be set via properties, **SysTaskRecorder::addPropertyUserAction** should be called when the value is being set in X++. This method call tells Task Recorder to record the setting of the property.\n-   A similar method exists for commands (**SysTaskRecorder::addCommandUserAction**).\n\nFor more information, see [Determine the text that Task recorder generates for a control](task-recorder-control-text.md).\n\n#### Task Recorder playback support\n\n-   Task Recorder uses the control’s properties and commands to play back the control. The control must make sure that the commands and properties that it instructs Task Recorder to record can also be executed by Task Recorder when the control is played back. Task Recorder will rely on the interactable names for the properties and commands. The interactable name for a method is the name that is specified in the FormPropertyAttribute or the FormCommandAttribute.\n\n#### Task guide support\n\nThe task guide will ask the JavaScript part of the control for the DOM element that the task guide should point to. All controls inherit basic task guide support, where the default DOM element is the outermost element of the control.\n\n-   A control can provide finer-grained details about where the task guide should point by implementing the getTaskGuideParams function in the JavaScript prototype for the control. This function accepts an argument (which is frequently named **options**), and this argument has a property that is named **target**. This **target** property accepts the jQuery element that the task guide should point to.\n-   In addition, the argument will contain information about the action that was originally recorded for the control, such as the property/command name and any arguments. The control can react to the various properties/commands that it supports by supplying the target with the DOM element that corresponds to the property/command that the user recorded.\n-   For some advanced scenarios, the target can also be supplied with an observable. The control can then update this observable with various DOM elements, based on events that the control exposes. This can be done by initializing the target with the observable (which contains a DOM element), and then observing an event and updating the DOM element via code in the event handler.\n\n#### Task Recorder copy/paste/validate support\n\nFor controls that need to support either Copy, Paste, or Validate (mainly for advanced X++ testing purposes), the SysTaskRecorder API exposes static methods that enable the control to inform Task Recorder when a value has been copied, pasted, or validated.\n\n\n\n","nodes":[{"content":"Control checklist","nodes":[{"pos":[0,17],"content":"Control checklist","nodes":[{"content":"Control checklist","pos":[0,17]}]}],"pos":[31,49],"yaml":true},{"content":"This article categorizes and describes all the release criteria for controls.","nodes":[{"pos":[0,77],"content":"This article categorizes and describes all the release criteria for controls.","nodes":[{"content":"This article categorizes and describes all the release criteria for controls.","pos":[0,77]}]}],"pos":[62,140],"yaml":true},{"pos":[638,655],"content":"Control checklist","linkify":"Control checklist","nodes":[{"content":"Control checklist","pos":[0,17]}]},{"content":"This article categorizes and describes all the release criteria for controls.","pos":[701,778]},{"pos":[780,792],"content":"Introduction","linkify":"Introduction","nodes":[{"content":"Introduction","pos":[0,12]}]},{"content":"Typically, when you author a new control, the primary focus is on scenario functionality and technical implementation.","pos":[807,925]},{"content":"However, before a control can be considered ready for shipment, it should conform to a set of best practice, quality, and development release criteria, as outlined in this article.","pos":[926,1106]},{"pos":[1111,1137],"content":"Control criteria checklist","linkify":"Control criteria checklist","nodes":[{"content":"Control criteria checklist","pos":[0,26]}]},{"content":"This checklist assumes that you're familiar with the basics of control development.","pos":[1138,1221]},{"content":"The following items highlight important implementation requirements that should be met by all controls.","pos":[1222,1325]},{"pos":[1331,1348],"content":"Basic usage ready","linkify":"Basic usage ready","nodes":[{"content":"Basic usage ready","pos":[0,17]}]},{"content":"A control must meet these requirements to be considered a functionally compatible and complete control.","pos":[1350,1453]},{"pos":[1460,1467],"content":"Classes","linkify":"Classes","nodes":[{"content":"Classes","pos":[0,7]}]},{"content":"These naming conventions are best practices but aren't functional requirements of a control:","pos":[1469,1561]},{"pos":[1567,1625],"content":"The Runtime class is named <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph>Control<ept id=\"p1\">**</ept>.","source":"The Runtime class is named **\\[Name of control\\]Control**."},{"pos":[1630,1697],"content":"The Design-time class is named <bpt id=\"p1\">**</bpt>Build<ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph>Control<ept id=\"p1\">**</ept>.","source":"The Design-time class is named **Build\\[Name of control\\]Control**."},{"pos":[1702,1805],"content":"Any control-specific Component classes are named <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph><ph id=\"ph3\">\\[</ph>Name of component<ph id=\"ph4\">\\]</ph>Component<ept id=\"p1\">**</ept>.","source":"Any control-specific Component classes are named **\\[Name of control\\]\\[Name of component\\]Component**."},{"pos":[1810,1890],"content":"Any generic Component classes are named <bpt id=\"p1\">**</bpt>Build<ph id=\"ph1\">\\[</ph>Name of component<ph id=\"ph2\">\\]</ph>Component<ept id=\"p1\">**</ept>.","source":"Any generic Component classes are named **Build\\[Name of component\\]Component**."},{"pos":[1897,1906],"content":"Resources","linkify":"Resources","nodes":[{"content":"Resources","pos":[0,9]}]},{"content":"These naming conventions are best practices but aren't functional requirements of a control:","pos":[1908,2000]},{"pos":[2006,2120],"content":"The HTML Resource is named <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph>HTM<ept id=\"p1\">**</ept>, and the physical file is named <bpt id=\"p2\">**</bpt><ph id=\"ph3\">\\[</ph>Name of control<ph id=\"ph4\">\\]</ph>.htm<ept id=\"p2\">**</ept>.","source":"The HTML Resource is named **\\[Name of control\\]HTM**, and the physical file is named **\\[Name of control\\].htm**."},{"pos":[2125,2243],"content":"The JavaScript Resource is named <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph>JS<ept id=\"p1\">**</ept>, and the physical file is named <bpt id=\"p2\">**</bpt><ph id=\"ph3\">\\[</ph>Name of control<ph id=\"ph4\">\\]</ph>.js<ept id=\"p2\">**</ept>.","source":"The JavaScript Resource is named **\\[Name of control\\]JS**, and the physical file is named **\\[Name of control\\].js**."},{"pos":[2250,2261],"content":"X++ Runtime","linkify":"X++ Runtime","nodes":[{"content":"X++ Runtime","pos":[0,11]}]},{"content":"These items apply to the \"Runtime\" X++ class.","pos":[2263,2308]},{"content":"FormControlAttribute is supplied with the build class name.","pos":[2314,2373]},{"content":"The FormControlAttribute is supplied with the template ID.","pos":[2378,2436]},{"content":"FormControlAttribute is supplied with the resource bundle path.","pos":[2441,2504]},{"pos":[2509,2589],"content":"The <bpt id=\"p1\">**</bpt>FormTemplateControl<ept id=\"p1\">**</ept> class is extended (directly or through inheritance).","source":"The **FormTemplateControl** class is extended (directly or through inheritance)."},{"content":"A FormProperty exists for each change-tracked property (that is, each property that must be read in the client JavaScript).","pos":[2594,2717]},{"pos":[2722,2780],"content":"The <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> method initializes each FormProperty instance.","source":"The **New** method initializes each FormProperty instance."},{"pos":[2785,2933],"content":"The <bpt id=\"p1\">**</bpt>setTemplateId<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>setResourceBundleName<ept id=\"p2\">**</ept> inherited methods are called with the same values that are supplied in the FormControlAttribute.","source":"The **setTemplateId** and **setResourceBundleName** inherited methods are called with the same values that are supplied in the FormControlAttribute."},{"pos":[2938,3107],"content":"The <bpt id=\"p1\">**</bpt>ApplyBuild<ept id=\"p1\">**</ept> method is used to interpret any design-time properties, and to apply design-time properties to the run-time properties as appropriate for the control.","source":"The **ApplyBuild** method is used to interpret any design-time properties, and to apply design-time properties to the run-time properties as appropriate for the control."},{"content":"A Property getter/setter method exists for each FormProperty.","pos":[3112,3173]},{"content":"A FormPropertyAttribute is supplied on each FormProperty's getter/setter method.","pos":[3178,3258]},{"pos":[3263,3369],"content":"<bpt id=\"p1\">**</bpt>Anytype<ept id=\"p1\">**</ept> is used as the argument type for FormProperties that have <bpt id=\"p2\">**</bpt>FormPropertyKind::BindableValue<ept id=\"p2\">**</ept>.","source":"**Anytype** is used as the argument type for FormProperties that have **FormPropertyKind::BindableValue**."},{"pos":[3374,3492],"content":"All FormProperties are specified as <bpt id=\"p1\">**</bpt>ReadOnly<ept id=\"p1\">**</ept> to the JS class, via the third argument to the FormPropertyAttribute.","source":"All FormProperties are specified as **ReadOnly** to the JS class, via the third argument to the FormPropertyAttribute."},{"content":"This argument affects only the read/write behavior that is seen by JavaScript, not by X++.","pos":[3501,3591]},{"content":"We don't recommend that you allow JavaScript to write directly to properties, because every property state change should be validated.","pos":[3600,3734]},{"content":"We recommend that you use FormCommands for this purpose, instead of writeable properties.","pos":[3735,3824]},{"content":"FormCommands that allow the state of FormProperties to be changed must validate that the control is in a valid state to allow for the property change.","pos":[3829,3979]},{"content":"Controls that are disabled, read-only, invisible, and so on, should prevent inappropriate state changes.","pos":[3988,4092]},{"pos":[4099,4114],"content":"X++ Design time","linkify":"X++ Design time","nodes":[{"content":"X++ Design time","pos":[0,15]}]},{"content":"These items apply to the \"Design/Build\" X++ class:","pos":[4116,4166]},{"pos":[4172,4308],"content":"The FormDesignControlAttribute is supplied with the control common name, <bpt id=\"p1\">**</bpt><ph id=\"ph1\">\\[</ph>Name of control<ph id=\"ph2\">\\]</ph><ept id=\"p1\">**</ept>, without “Control” appended at the end.","source":"The FormDesignControlAttribute is supplied with the control common name, **\\[Name of control\\]**, without “Control” appended at the end."},{"content":"The name that is supplied here will appear in Microsoft Visual Studio when the control is added to a form.","pos":[4317,4423]},{"content":"A backing field exists for each design-time property.","pos":[4428,4481]},{"content":"A Property getter/setter exists for each design-time property.","pos":[4486,4548]},{"content":"A FormDesignPropertyAttribute is supplied to each design-time property.","pos":[4553,4624]},{"content":"No code outside of the Design property getters/setters should exist in this class.","pos":[4629,4711]},{"content":"(In other words, there should be no <bpt id=\"p1\">**</bpt>new()<ept id=\"p1\">**</ept> methods, and so on.)","pos":[4712,4778],"source":" (In other words, there should be no **new()** methods, and so on.)"},{"pos":[4785,4789],"content":"HTML","linkify":"HTML","nodes":[{"content":"HTML","pos":[0,4]}]},{"content":"These items apply to the .htm file, which is also referred to as the resource bundle:","pos":[4791,4876]},{"content":"External resources, such as scripts, style sheets, and other HTM files, are loaded by using HTML standard <ph id=\"ph1\">&amp;lt;</ph>script<ph id=\"ph2\">&amp;gt;</ph> and <ph id=\"ph3\">&amp;lt;</ph>link<ph id=\"ph4\">&amp;gt;</ph> tags.","pos":[4882,5025],"source":"External resources, such as scripts, style sheets, and other HTM files, are loaded by using HTML standard &lt;script&gt; and &lt;link&gt; tags."},{"content":"All external resource loading tags are placed above the outermost HTML element in the file, so that they are loaded and processed first.","pos":[5030,5166]},{"pos":[5171,5254],"content":"The template ID is supplied via the <bpt id=\"p1\">**</bpt>id<ept id=\"p1\">**</ept> attribute on the outermost HTML element.","source":"The template ID is supplied via the **id** attribute on the outermost HTML element."},{"pos":[5259,5341],"content":"The visibility of the outermost HTML element is bound to the <bpt id=\"p1\">**</bpt>Visible<ept id=\"p1\">**</ept> property.","source":"The visibility of the outermost HTML element is bound to the **Visible** property."},{"content":"The sizing of the outermost HTML element is bound to the sizing binding handler.","pos":[5346,5426]},{"content":"Binding handlers are used to programmatically modify HTML.","pos":[5431,5489]},{"content":"(APIs such as getElementById in the JavaScript constructor aren't used.)","pos":[5490,5562]},{"pos":[5569,5579],"content":"JavaScript","linkify":"JavaScript","nodes":[{"content":"JavaScript","pos":[0,10]}]},{"content":"The whole JavaScript code is wrapped in an anonymous function.","pos":[5585,5647]},{"content":"Localizable strings are stored in the Globalize culture info object.","pos":[5652,5720]},{"pos":[5725,5898],"content":"Localizable strings are also stored in a label file, according to the instructions in <bpt id=\"p1\">[</bpt>Create and use localizable labels in the client<ept id=\"p1\">](create-localizable-labels-client.md)</ept>.","source":"Localizable strings are also stored in a label file, according to the instructions in [Create and use localizable labels in the client](create-localizable-labels-client.md)."},{"content":"Default values are provided for all properties that aren't initialized inside the constructor.","pos":[5903,5997]},{"content":"The JavaScript constructor is added to the control JavaScript namespace.","pos":[6002,6074]},{"pos":[6079,6218],"content":"A reference to <bpt id=\"p1\">**</bpt>this<ept id=\"p1\">**</ept> is stored in an object that is named <bpt id=\"p2\">**</bpt>self<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>self<ept id=\"p3\">**</ept> is used instead of <bpt id=\"p4\">**</bpt>this<ept id=\"p4\">**</ept> throughout the constructor.","source":"A reference to **this** is stored in an object that is named **self**, and **self** is used instead of **this** throughout the constructor."},{"content":"The base JavaScript control behaviors are inherited.","pos":[6223,6275]},{"content":"Default values are applied by using a framework utility function.","pos":[6280,6345]},{"pos":[6350,6443],"content":"Client-side properties are defined in the scope of the constructor and are added to <bpt id=\"p1\">**</bpt>self<ept id=\"p1\">**</ept>.","source":"Client-side properties are defined in the scope of the constructor and are added to **self**."},{"content":"Observable and computed properties are used only for UI-bound behaviors.","pos":[6448,6520]},{"content":"A prototype exists and contains all static methods that are specific to the control.","pos":[6525,6609]},{"content":"Binding handlers that are specific to the control are stored in the control’s namespace (not in the global control namespace).","pos":[6614,6740]},{"content":"The control doesn't use or load external plug-ins (Microsoft ActiveX, Flash, Java, and so on).","pos":[6745,6839]},{"pos":[6845,6858],"content":"Interactivity","linkify":"Interactivity","nodes":[{"content":"Interactivity","pos":[0,13]}]},{"pos":[6865,6873],"content":"CSS/LESS","linkify":"CSS/LESS","nodes":[{"content":"CSS/LESS","pos":[0,8]}]},{"content":"Prefix all class names with the template ID to prevent conflicts with other controls.","pos":[6879,6964]},{"content":"Don't use class names that are defined on other controls, because those classes can change.","pos":[6969,7060]},{"pos":[7067,7086],"content":"Layout and resizing","linkify":"Layout and resizing","nodes":[{"content":"Layout and resizing","pos":[0,19]}]},{"content":"The control uses the Sizing API for its outermost element.","pos":[7092,7150]},{"content":"This requirement helps guarantee that the framework can correctly size and arrange the outermost element of the control.","pos":[7151,7271]},{"pos":[7276,7520],"content":"For advanced layout scenarios for elements that are contained in the control, use <bpt id=\"p1\">[</bpt>CSS Flexible Boxes<ept id=\"p1\">](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes)</ept>, which are supported by the HTML standard.","source":"For advanced layout scenarios for elements that are contained in the control, use [CSS Flexible Boxes](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Using_CSS_flexible_boxes), which are supported by the HTML standard."},{"pos":[7527,7542],"content":"Browser support","linkify":"Browser support","nodes":[{"content":"Browser support","pos":[0,15]}]},{"content":"The control correctly renders and supports all intended user interaction patterns on all supported browsers:","pos":[7548,7656]},{"content":"Microsoft Edge/Internet Explorer 11","pos":[7665,7700]},{"content":"The latest version Chrome","pos":[7709,7734]},{"content":"The latest version of iPad/MacOS Safari","pos":[7743,7782]},{"pos":[7789,7801],"content":"Tab sequence","linkify":"Tab sequence","nodes":[{"content":"Tab sequence","pos":[0,12]}]},{"content":"Make sure that the control meets the W3C standards for tab sequence.","pos":[7807,7875]},{"pos":[7881,7894],"content":"Globalization","linkify":"Globalization","nodes":[{"content":"Globalization","pos":[0,13]}]},{"pos":[7901,7924],"content":"Right-to-left languages","linkify":"Right-to-left languages","nodes":[{"content":"Right-to-left languages","pos":[0,23]}]},{"content":"Full RTL support will arrive after RTW.","pos":[7930,7969]},{"pos":[7976,7994],"content":"Localizable labels","linkify":"Localizable labels","nodes":[{"content":"Localizable labels","pos":[0,18]}]},{"content":"The control uses a label file for UI text that is used only on the client side (not used in X++).","pos":[8000,8097]},{"content":"For instructions about how to create and use these labels, see <bpt id=\"p1\">[</bpt>How to create and use localizable labels in the client<ept id=\"p1\">](create-localizable-labels-client.md)</ept>.","pos":[8098,8255],"source":" For instructions about how to create and use these labels, see [How to create and use localizable labels in the client](create-localizable-labels-client.md)."},{"pos":[8261,8288],"content":"Task Recorder compatibility","linkify":"Task Recorder compatibility","nodes":[{"content":"Task Recorder compatibility","pos":[0,27]}]},{"content":"Basic recording support","pos":[8294,8317]},{"content":"For any control that accepts user input, or that a user can interact with, input/actions must be recordable by Task Recorder.","pos":[8326,8451]},{"content":"For Task Recorder to record the input, the control must use the SysTaskRecorder X++ API to specify the properties that should be recorded.","pos":[8452,8590]},{"content":"Basic task guide support","pos":[8595,8619]},{"content":"For any control that can be recorded by using Task Recorder, the control should have task guide support.","pos":[8628,8732]},{"content":"This support includes verifying that the task guide pop-up prompt points to the correct UI elements of the control, based on the input/action that was recorded.","pos":[8733,8893]},{"content":"In addition, validate that, when the task guide is locked (“on-rails”), the user can interact with the expected parts of the control.","pos":[8902,9035]},{"content":"For example, for a combo box control, the user should be able to open the drop-down box to select a value, in addition to typing the value directly.","pos":[9036,9184]},{"content":"Advanced recording support","pos":[9189,9215]},{"content":"Support for Cut, Copy, Paste, and Validate can be evaluated on a per-control basis.","pos":[9224,9307]},{"content":"There are JavaScript and X++ methods that controls can implement to enable these features.","pos":[9308,9398]},{"pos":[9405,9432],"content":"Threat modeling the control","linkify":"Threat modeling the control","nodes":[{"content":"Threat modeling the control","pos":[0,27]}]},{"content":"Vulnerabilities in the logical control (X++/C++) that are related to serialization/deserialization of data types, and command/property execution, should be reviewed and fixed.","pos":[9438,9613]},{"content":"Serialization threats are related to the way that the control parses or interprets data types.","pos":[9622,9716]},{"content":"Any serializer for data types (except the built-in X++ Data Contracts and primitive type serialization) must be reviewed.","pos":[9729,9850]},{"content":"Any parser must be reviewed to verify that it doesn't allow for arbitrary code execution or other exploitation.","pos":[9863,9974]},{"content":"Any data access queries that are executed by the control (or by any helper classes that the control uses) must be evaluated and reviewed.","pos":[9987,10124]},{"content":"Command/property execution threats are related to the way that the logical control handles an action that the control determines to be invalid.","pos":[10133,10276]},{"content":"Example of a command threat: A click command is executed when the control is in a disabled state.","pos":[10289,10386]},{"content":"You must make sure that the click command is handled appropriately, based on the control state.","pos":[10387,10482]},{"content":"Example of a property thread: A property change is executed when the control is ready-only.","pos":[10495,10586]},{"content":"You must make sure that the property change is handled appropriately, based on the control state.","pos":[10587,10684]},{"content":"You must review the use of any .NET libraries to make sure that the .NET library is also secure.","pos":[10693,10789]},{"content":"Vulnerabilities that are related to the client-side parts of the control (HTML, JavaScript, CSS, third-party libraries) should follow general secure web development principles.","pos":[10794,10970]},{"content":"Specific examples include XSS vulnerabilities.","pos":[10971,11017]},{"content":"Any control that renders user data as HTML/JavaScript/CSS exposes an XSS vulnerability that must have mitigations identified.","pos":[11026,11151]},{"content":"Any control that renders external content in an iFrame exposes an XSS vulnerability that must have mitigations identified.","pos":[11160,11282]},{"content":"Any control that makes calls to third-party services must have mitigations identified and requires direct review by the client team.","pos":[11291,11423]},{"content":"Any control that handles authentication must have mitigations identified.","pos":[11432,11505]},{"pos":[11510,11534],"content":"Control criteria details","linkify":"Control criteria details","nodes":[{"content":"Control criteria details","pos":[0,24]}]},{"content":"This section explores the control criteria in more detail.","pos":[11535,11593]},{"pos":[11599,11616],"content":"Basic usage ready","linkify":"Basic usage ready","nodes":[{"content":"Basic usage ready","pos":[0,17]}]},{"pos":[11624,11635],"content":"X++ Runtime","linkify":"X++ Runtime","nodes":[{"content":"X++ Runtime","pos":[0,11]}]},{"content":"<bpt id=\"p1\">**</bpt>FormControlAttribute<ept id=\"p1\">**</ept> **** Each control must supply the FormControlAttribute to the class declaration.","pos":[11641,11746],"source":"**FormControlAttribute** **** Each control must supply the FormControlAttribute to the class declaration."},{"content":"The attribute must specify the build/design-time class that accompanies the control.","pos":[11747,11831]},{"content":"The attribute must also specify the HTML template ID and the physical HTML file name (the resource bundle name).","pos":[11832,11944]},{"pos":[11949,12058],"content":"<bpt id=\"p1\">**</bpt>FormTemplateControl<ept id=\"p1\">**</ept> Each control must extend FormTemplateControl to participate in the control lifecycle.","source":"**FormTemplateControl** Each control must extend FormTemplateControl to participate in the control lifecycle."},{"content":"<bpt id=\"p1\">**</bpt>FormProperty<ept id=\"p1\">**</ept> Each control must declare FormProperties for every statically defined property that must participate in the change tracking system.","pos":[12063,12211],"source":"**FormProperty** Each control must declare FormProperties for every statically defined property that must participate in the change tracking system."},{"content":"For properties that are used only on the server side, no FormProperty is required.","pos":[12212,12294]},{"content":"<bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> Each control must implement the <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept> method in order for its properties to participate in the change tracking system that propagates value changes between the client and server parts of the control.","pos":[12299,12508],"source":"**New** Each control must implement the **New** method in order for its properties to participate in the change tracking system that propagates value changes between the client and server parts of the control."},{"content":"Inside the <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept> method, each FormProperty","pos":[12509,12553],"source":" Inside the **New** method, each FormProperty"},{"content":"<bpt id=\"p1\">**</bpt>ApplyBuild<ept id=\"p1\">**</ept> Each control must implement the <bpt id=\"p2\">**</bpt>ApplyBuild<ept id=\"p2\">**</ept> method in order for the control to be initialized based on the values that are set on it at design time.","pos":[12558,12724],"source":"**ApplyBuild** Each control must implement the **ApplyBuild** method in order for the control to be initialized based on the values that are set on it at design time."},{"content":"This method is primarily used to copy or transform design-time values into their Runtime equivalents.","pos":[12725,12826]},{"content":"However, not all design-time properties must have Runtime equivalents, and not all Runtime properties must source their initial values from design-time properties.","pos":[12827,12990]},{"content":"<bpt id=\"p1\">**</bpt>Property getter/setter<ept id=\"p1\">**</ept> Each control must implement property getters/setters for every FormProperty that is used by the control.","pos":[12995,13126],"source":"**Property getter/setter** Each control must implement property getters/setters for every FormProperty that is used by the control."},{"content":"These methods should be parm methods.","pos":[13127,13164]},{"content":"Therefore, the names should begin with “parm” for methods that are getters/setters, “get” for methods that are only getters, and “set” for methods that are only setters.","pos":[13165,13334]},{"content":"At a minimum, a FormPropertyAttribute must be supplied to each method, together with a FormPropertyKind and the name of the property as it should be made accessible to the HTML and JavaScript in the client.","pos":[13335,13541]},{"pos":[13548,13552],"content":"HTML","linkify":"HTML","nodes":[{"content":"HTML","pos":[0,4]}]},{"content":"<bpt id=\"p1\">**</bpt>Template ID<ept id=\"p1\">**</ept> Each control must provide an HTML <bpt id=\"p2\">**</bpt>id<ept id=\"p2\">**</ept> attribute on the outermost HTML element of the control’s markup.","pos":[13558,13679],"source":"**Template ID** Each control must provide an HTML **id** attribute on the outermost HTML element of the control’s markup."},{"content":"In order for the control to be loaded at run time, this ID must match the ID that is supplied to the FormControlAttribute.","pos":[13680,13802]},{"content":"<bpt id=\"p1\">**</bpt>Scripts and style sheets<ept id=\"p1\">**</ept> Each control must use HTML standard <ph id=\"ph1\">&amp;lt;</ph>script<ph id=\"ph2\">&amp;gt;</ph> and <ph id=\"ph3\">&amp;lt;</ph>link<ph id=\"ph4\">&amp;gt;</ph> tags to consume other JavaScript or CSS files.","pos":[13807,13950],"source":"**Scripts and style sheets** Each control must use HTML standard &lt;script&gt; and &lt;link&gt; tags to consume other JavaScript or CSS files."},{"content":"These tags should be placed at the beginning of the HTML file for the control, before the HTML definition element for the control.","pos":[13951,14081]},{"content":"If the files that must be loaded have dependencies, make sure that the order of the <ph id=\"ph1\">&amp;lt;</ph>script<ph id=\"ph2\">&amp;gt;</ph> or <ph id=\"ph3\">&amp;lt;</ph>link<ph id=\"ph4\">&amp;gt;</ph> loading tags is appropriate.","pos":[14082,14225],"source":" If the files that must be loaded have dependencies, make sure that the order of the &lt;script&gt; or &lt;link&gt; loading tags is appropriate."},{"content":"Tags that appear first are loaded first.","pos":[14226,14266]},{"content":"To load JavaScript or CSS from AOT Resources, use a site root–relative path (/Resource/Scripts or /Resources/Styles).","pos":[14267,14384]},{"content":"<bpt id=\"p1\">**</bpt>Data binding<ept id=\"p1\">**</ept> Each control can participate in the HTML binding framework through use of the <bpt id=\"p2\">**</bpt>data-dyn-bind<ept id=\"p2\">**</ept> attribute on HTML elements that are contained in the control.","pos":[14389,14563],"source":"**Data binding** Each control can participate in the HTML binding framework through use of the **data-dyn-bind** attribute on HTML elements that are contained in the control."},{"content":"The binding attribute enables HTML element properties to be bound to observable or computed properties that are located in the current data context.","pos":[14564,14712]},{"pos":[14719,14729],"content":"JavaScript","linkify":"JavaScript","nodes":[{"content":"JavaScript","pos":[0,10]}]},{"content":"<bpt id=\"p1\">**</bpt>Script encapsulation<ept id=\"p1\">**</ept> Each control must wrap all its JavaScript in an anonymous function.","pos":[14735,14827],"source":"**Script encapsulation** Each control must wrap all its JavaScript in an anonymous function."},{"content":"This requirement helps prevent the framework’s global JavaScript namespace from being populated with control-specific logic.","pos":[14828,14952]},{"content":"<bpt id=\"p1\">**</bpt>Localizable strings<ept id=\"p1\">**</ept> Each control must use the Globalization API to store any string messages that are used by the control’s JavaScript.","pos":[14957,15096],"source":"**Localizable strings** Each control must use the Globalization API to store any string messages that are used by the control’s JavaScript."},{"content":"Therefore, the control’s JavaScript should not hard-code any strings that are displayed in the UI.","pos":[15097,15195]},{"content":"Instead, the JavaScript should reference the string messages that are stored via the Globalization API.","pos":[15196,15299]},{"content":"To load strings in the globalization object in HTML and JavaScript, you can use the $dyn.label API and pass in the identifier of the label.","pos":[15300,15439]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Create and use localizable labels in the client<ept id=\"p1\">](create-localizable-labels-client.md)</ept>.","pos":[15440,15553],"source":" For more information, see [Create and use localizable labels in the client](create-localizable-labels-client.md)."},{"content":"<bpt id=\"p1\">**</bpt>Default values<ept id=\"p1\">**</ept> Each control must provide default values for any properties that aren't initialized in the JavaScript.","pos":[15558,15679],"source":"**Default values** Each control must provide default values for any properties that aren't initialized in the JavaScript."},{"content":"Therefore, any properties for which values are passed in to the JavaScript constructor on initialization (that is, the FormProperties in the X++ Runtime class) must provide a default-value dictionary for these properties.","pos":[15680,15901]},{"content":"<bpt id=\"p1\">**</bpt>JavaScript constructor<ept id=\"p1\">**</ept> Each control must implement a constructor in the controls namespace.","pos":[15906,16001],"source":"**JavaScript constructor** Each control must implement a constructor in the controls namespace."},{"content":"This constructor is the first line of code that will be executed when the control is loaded in the client.","pos":[16002,16108]},{"content":"After the constructor is completed, the constructor’s associated object, <bpt id=\"p1\">*</bpt>this<ept id=\"p1\">*</ept>, is passed in to the HTML as the default data context.","pos":[16109,16243],"source":" After the constructor is completed, the constructor’s associated object, *this*, is passed in to the HTML as the default data context."},{"content":"<bpt id=\"p1\">**</bpt>Inheriting base control<ept id=\"p1\">**</ept> Each control’s constructor must “inherit” from the base JavaScript control class.","pos":[16248,16357],"source":"**Inheriting base control** Each control’s constructor must “inherit” from the base JavaScript control class."},{"content":"The base JavaScript control class contains behaviors that are required by each control.","pos":[16358,16445]},{"pos":[16450,16588],"content":"<bpt id=\"p1\">**</bpt>Applying default values<ept id=\"p1\">**</ept> Each control must use the provided framework function to apply the default values to the control’s properties.","source":"**Applying default values** Each control must use the provided framework function to apply the default values to the control’s properties."},{"content":"<bpt id=\"p1\">**</bpt>Adding client-side properties/functions<ept id=\"p1\">**</ept> Each control can add client-side-only properties and functions to the JavaScript class, in addition to the server-side FormProperties and Commands that are passed in to the control constructor.","pos":[16593,16830],"source":"**Adding client-side properties/functions** Each control can add client-side-only properties and functions to the JavaScript class, in addition to the server-side FormProperties and Commands that are passed in to the control constructor."},{"content":"The pattern for adding client-side-only properties/functions is to maintain a local copy of the <bpt id=\"p1\">*</bpt>this<ept id=\"p1\">*</ept> object and add the functions/properties to the local copy.","pos":[16831,16992],"source":" The pattern for adding client-side-only properties/functions is to maintain a local copy of the *this* object and add the functions/properties to the local copy."},{"content":"After the control constructor is completed, all properties, functions, FormProperties, and Commands that have been added will be available in the HTML as the default data context.","pos":[16993,17172]},{"content":"<bpt id=\"p1\">**</bpt>Adding observable and computed properties<ept id=\"p1\">**</ept> Each control can add client-side-only properties that participate in the observability patterns of the client.","pos":[17177,17333],"source":"**Adding observable and computed properties** Each control can add client-side-only properties that participate in the observability patterns of the client."},{"content":"An observable property is initialized by using the $dyn.observable(<ph id=\"ph1\">\\[</ph>initial value<ph id=\"ph2\">\\]</ph>) function.","pos":[17334,17429],"source":" An observable property is initialized by using the $dyn.observable(\\[initial value\\]) function."},{"content":"A computed property is initialized by using the $dyn.computed(<ph id=\"ph1\">\\[</ph>function(){}<ph id=\"ph2\">\\]</ph>) function.","pos":[17430,17519],"source":" A computed property is initialized by using the $dyn.computed(\\[function(){}\\]) function."},{"content":"Controls should use observable/computed properties sparingly, because these property can significantly harm performance if they are used incorrectly.","pos":[17520,17669]},{"content":"<bpt id=\"p1\">**</bpt>Control JavaScript prototype<ept id=\"p1\">**</ept> Each control must implement a JavaScript prototype that extends the base control prototype.","pos":[17674,17798],"source":"**Control JavaScript prototype** Each control must implement a JavaScript prototype that extends the base control prototype."},{"content":"The prototype should contain any “static” JavaScript methods (methods that require no references to local variables) that are used by the control.","pos":[17799,17945]},{"pos":[17951,17964],"content":"Interactivity","linkify":"Interactivity","nodes":[{"content":"Interactivity","pos":[0,13]}]},{"pos":[17971,17990],"content":"Layout and resizing","linkify":"Layout and resizing","nodes":[{"content":"Layout and resizing","pos":[0,19]}]},{"content":"To enable the form developer to determine the control layout and size, set the width and height that are specified by the form developer on the control by using the $dyn.layout.sizing API, as shown in the following code.","pos":[17996,18216]},{"content":"This is standard code that should be applied to all HTML control templates.","pos":[18217,18292]},{"pos":[18402,18433],"content":"Task Recorder recording support","linkify":"Task Recorder recording support","nodes":[{"content":"Task Recorder recording support","pos":[0,31]}]},{"content":"Controls must use the SysTaskRecorder X++ API to indicate which actions on the control are “recordable.”","pos":[18435,18539]},{"content":"For controls that enable values to be set via properties, <bpt id=\"p1\">**</bpt>SysTaskRecorder::addPropertyUserAction<ept id=\"p1\">**</ept> should be called when the value is being set in X++.","pos":[18545,18698],"source":"For controls that enable values to be set via properties, **SysTaskRecorder::addPropertyUserAction** should be called when the value is being set in X++."},{"content":"This method call tells Task Recorder to record the setting of the property.","pos":[18699,18774]},{"pos":[18779,18860],"content":"A similar method exists for commands (<bpt id=\"p1\">**</bpt>SysTaskRecorder::addCommandUserAction<ept id=\"p1\">**</ept>).","source":"A similar method exists for commands (**SysTaskRecorder::addCommandUserAction**)."},{"pos":[18862,18983],"content":"For more information, see <bpt id=\"p1\">[</bpt>Determine the text that Task recorder generates for a control<ept id=\"p1\">](task-recorder-control-text.md)</ept>.","source":"For more information, see [Determine the text that Task recorder generates for a control](task-recorder-control-text.md)."},{"pos":[18990,19020],"content":"Task Recorder playback support","linkify":"Task Recorder playback support","nodes":[{"content":"Task Recorder playback support","pos":[0,30]}]},{"content":"Task Recorder uses the control’s properties and commands to play back the control.","pos":[19026,19108]},{"content":"The control must make sure that the commands and properties that it instructs Task Recorder to record can also be executed by Task Recorder when the control is played back.","pos":[19109,19281]},{"content":"Task Recorder will rely on the interactable names for the properties and commands.","pos":[19282,19364]},{"content":"The interactable name for a method is the name that is specified in the FormPropertyAttribute or the FormCommandAttribute.","pos":[19365,19487]},{"pos":[19494,19512],"content":"Task guide support","linkify":"Task guide support","nodes":[{"content":"Task guide support","pos":[0,18]}]},{"content":"The task guide will ask the JavaScript part of the control for the DOM element that the task guide should point to.","pos":[19514,19629]},{"content":"All controls inherit basic task guide support, where the default DOM element is the outermost element of the control.","pos":[19630,19747]},{"content":"A control can provide finer-grained details about where the task guide should point by implementing the getTaskGuideParams function in the JavaScript prototype for the control.","pos":[19753,19929]},{"content":"This function accepts an argument (which is frequently named <bpt id=\"p1\">**</bpt>options<ept id=\"p1\">**</ept>), and this argument has a property that is named <bpt id=\"p2\">**</bpt>target<ept id=\"p2\">**</ept>.","pos":[19930,20063],"source":" This function accepts an argument (which is frequently named **options**), and this argument has a property that is named **target**."},{"content":"This <bpt id=\"p1\">**</bpt>target<ept id=\"p1\">**</ept> property accepts the jQuery element that the task guide should point to.","pos":[20064,20152],"source":" This **target** property accepts the jQuery element that the task guide should point to."},{"content":"In addition, the argument will contain information about the action that was originally recorded for the control, such as the property/command name and any arguments.","pos":[20157,20323]},{"content":"The control can react to the various properties/commands that it supports by supplying the target with the DOM element that corresponds to the property/command that the user recorded.","pos":[20324,20507]},{"content":"For some advanced scenarios, the target can also be supplied with an observable.","pos":[20512,20592]},{"content":"The control can then update this observable with various DOM elements, based on events that the control exposes.","pos":[20593,20705]},{"content":"This can be done by initializing the target with the observable (which contains a DOM element), and then observing an event and updating the DOM element via code in the event handler.","pos":[20706,20889]},{"pos":[20896,20937],"content":"Task Recorder copy/paste/validate support","linkify":"Task Recorder copy/paste/validate support","nodes":[{"content":"Task Recorder copy/paste/validate support","pos":[0,41]}]},{"content":"For controls that need to support either Copy, Paste, or Validate (mainly for advanced X++ testing purposes), the SysTaskRecorder API exposes static methods that enable the control to inform Task Recorder when a value has been copied, pasted, or validated.","pos":[20939,21195]}]}