{"content":"---\n# required metadata\n\ntitle: Create and use deep links\ndescription: Learn how to create shareable, secured URLs to forms and records.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: annbe\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 24321\nms.assetid: 3e49f8eb-d9a8-418c-a73d-687da4ca0c96\nms.search.region: Global\n# ms.search.industry: \nms.author: shshabazz\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Create and use deep links\n\n[!include[banner](../includes/banner.md)]\n\n\nLearn how to create shareable, secured URLs to forms and records.\n\nOverview\n--------\n\nThe URL Generator enables developers to create shareable and secured URLs (a.k.a. deep links) to specific forms. An optional data context can be passed to the form to display filtered or specific data when the form is opened. The URL Generator enables scenarios such as embedding links in reports, emails, and external applications, enabling users to quickly and easily locate the specified forms or data by simply navigating using the generated link.\n\n### Purpose\n\n-   Empower developers to generate URLs that can be used to navigate to forms in a specified instance.\n-   Empower developers to optionally specify a data context that should be displayed when navigating to the specified form.\n-   Empower users to share, save, and access the generated URLs from any browser with Internet access.\n-   Secure the URLs to prevent unauthorized access to the system, forms, or data.\n-   Secure the URLs to prevent exposure of sensitive data or tampering.\n\n## Security\n### Site access\n\nAccess to the domain/client is controlled through the existing login and SSL mechanism.\n\n### Form access\n\nAccess to the form is controlled through the specified Menu Item, and the accompanying Menu Item security system. If a user navigates using a URL which contains a Menu Item that the user does not have access to, then the Menu Item security will prevent the form from opening. The user will receive message which says that they do not have the necessary permissions to open the form.\n\n### Data access\n\nAccess to data is controlled through the existing form-level queries. When a form is opened with a generated URL, the form will run its existing form-level queries, which restrict the user's access to data. The data context that is specified in the generated URL is consumed after these form-level queries are applied, and results only in further filtering of the data displayed to the user. In short, a generated URL can, at most, open a form and display all of the data that a form would display to the user based on the form-level queries. A generated URL cannot grant a user access to data that is otherwise inaccessible on the form when not using the generated URL.\n\n## Usage\nThe URL Generator is a .NET library that is accessible from X++, under the following namespace.\n\n    Microsoft.Dynamics.AX.Framework.Utilities.UrlHelper.UrlGenerator\n\n#### Requirements\n\nThe URL Generator must used from code running on the AOS, in an active user session or batch process. This requirement ensures that the URL can be secured through encryption specific to the instance that generates the URL. At a minimum, the following information must be specified and passed to the URL Generator in order to generate a working URL.\n\n-   **Host URL**\n    -   The URL of the web root for the instance. For example: https://ax.dynamics.contoso.com/\n-   AOT name of the **Menu Item Display**\n    -   The menu item display to be used to open the form.\n-   **Partition**\n    -   The partition to use for the request.\n-   **Company**\n    -   The company to use for the request.\n\n#### Example\n\n```\n// gets the generator instance\nvar generator     = new Microsoft.Dynamics.AX.Framework.Utilities.UrlHelper.UrlGenerator();\nvar currentHost   = new System.Uri(UrlUtility::getUrl());\ngenerator.HostUrl = currentHost.GetLeftPart(System.UriPartial::Authority);\ngenerator.Company = curext();\ngenerator.MenuItemName = <menu item name>;\ngenerator.Partition = getCurrentPartition(); \n\n// repeat this segment for each datasource to filter\nvar requestQueryParameterCollection = generator.RequestQueryParameterCollection;\nrequestQueryParameterCollection.AddRequestQueryParameter(\n    <datasource name>,\n    <field1>, <value1>,\n    <field2>, <value2>,\n    <field3>, <value3>,\n    <field4>, <value4>,\n    <field5>, <value5>\n);\n\nSystem.Uri fullURI = generator.GenerateFullUrl();\n\n// to get the encoded URI, use the following code\nfullURI.AbsoluteUri\n```\n\n\n\n","nodes":[{"pos":[4,628],"content":"# required metadata\n\ntitle: Create and use deep links\ndescription: Learn how to create shareable, secured URLs to forms and records.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: annbe\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 24321\nms.assetid: 3e49f8eb-d9a8-418c-a73d-687da4ca0c96\nms.search.region: Global\n# ms.search.industry: \nms.author: shshabazz\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Create and use deep links","nodes":[{"pos":[0,25],"content":"Create and use deep links","nodes":[{"content":"Create and use deep links","pos":[0,25]}]}],"path":["title"]},{"content":"Learn how to create shareable, secured URLs to forms and records.","nodes":[{"pos":[0,65],"content":"Learn how to create shareable, secured URLs to forms and records.","nodes":[{"content":"Learn how to create shareable, secured URLs to forms and records.","pos":[0,65]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[636,661],"content":"Create and use deep links","linkify":"Create and use deep links","nodes":[{"content":"Create and use deep links","pos":[0,25]}]},{"content":"Learn how to create shareable, secured URLs to forms and records.","pos":[707,772]},{"pos":[774,782],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"The URL Generator enables developers to create shareable and secured URLs (a.k.a.","pos":[793,874]},{"content":"deep links) to specific forms.","pos":[875,905]},{"content":"An optional data context can be passed to the form to display filtered or specific data when the form is opened.","pos":[906,1018]},{"content":"The URL Generator enables scenarios such as embedding links in reports, emails, and external applications, enabling users to quickly and easily locate the specified forms or data by simply navigating using the generated link.","pos":[1019,1244]},{"pos":[1250,1257],"content":"Purpose","linkify":"Purpose","nodes":[{"content":"Purpose","pos":[0,7]}]},{"content":"Empower developers to generate URLs that can be used to navigate to forms in a specified instance.","pos":[1263,1361]},{"content":"Empower developers to optionally specify a data context that should be displayed when navigating to the specified form.","pos":[1366,1485]},{"content":"Empower users to share, save, and access the generated URLs from any browser with Internet access.","pos":[1490,1588]},{"content":"Secure the URLs to prevent unauthorized access to the system, forms, or data.","pos":[1593,1670]},{"content":"Secure the URLs to prevent exposure of sensitive data or tampering.","pos":[1675,1742]},{"pos":[1747,1755],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"pos":[1760,1771],"content":"Site access","linkify":"Site access","nodes":[{"content":"Site access","pos":[0,11]}]},{"content":"Access to the domain/client is controlled through the existing login and SSL mechanism.","pos":[1773,1860]},{"pos":[1866,1877],"content":"Form access","linkify":"Form access","nodes":[{"content":"Form access","pos":[0,11]}]},{"content":"Access to the form is controlled through the specified Menu Item, and the accompanying Menu Item security system.","pos":[1879,1992]},{"content":"If a user navigates using a URL which contains a Menu Item that the user does not have access to, then the Menu Item security will prevent the form from opening.","pos":[1993,2154]},{"content":"The user will receive message which says that they do not have the necessary permissions to open the form.","pos":[2155,2261]},{"pos":[2267,2278],"content":"Data access","linkify":"Data access","nodes":[{"content":"Data access","pos":[0,11]}]},{"content":"Access to data is controlled through the existing form-level queries.","pos":[2280,2349]},{"content":"When a form is opened with a generated URL, the form will run its existing form-level queries, which restrict the user's access to data.","pos":[2350,2486]},{"content":"The data context that is specified in the generated URL is consumed after these form-level queries are applied, and results only in further filtering of the data displayed to the user.","pos":[2487,2671]},{"content":"In short, a generated URL can, at most, open a form and display all of the data that a form would display to the user based on the form-level queries.","pos":[2672,2822]},{"content":"A generated URL cannot grant a user access to data that is otherwise inaccessible on the form when not using the generated URL.","pos":[2823,2950]},{"pos":[2955,2960],"content":"Usage","linkify":"Usage","nodes":[{"content":"Usage","pos":[0,5]}]},{"content":"The URL Generator is a .NET library that is accessible from X++, under the following namespace.","pos":[2961,3056]},{"pos":[3133,3145],"content":"Requirements","linkify":"Requirements","nodes":[{"content":"Requirements","pos":[0,12]}]},{"content":"The URL Generator must used from code running on the AOS, in an active user session or batch process.","pos":[3147,3248]},{"content":"This requirement ensures that the URL can be secured through encryption specific to the instance that generates the URL.","pos":[3249,3369]},{"content":"At a minimum, the following information must be specified and passed to the URL Generator in order to generate a working URL.","pos":[3370,3495]},{"pos":[3501,3513],"content":"<bpt id=\"p1\">**</bpt>Host URL<ept id=\"p1\">**</ept>","source":"**Host URL**"},{"content":"The URL of the web root for the instance.","pos":[3522,3563]},{"content":"For example: https://ax.dynamics.contoso.com/","pos":[3564,3609]},{"pos":[3614,3651],"content":"AOT name of the <bpt id=\"p1\">**</bpt>Menu Item Display<ept id=\"p1\">**</ept>","source":"AOT name of the **Menu Item Display**"},{"content":"The menu item display to be used to open the form.","pos":[3660,3710]},{"pos":[3715,3728],"content":"<bpt id=\"p1\">**</bpt>Partition<ept id=\"p1\">**</ept>","source":"**Partition**"},{"content":"The partition to use for the request.","pos":[3737,3774]},{"pos":[3779,3790],"content":"<bpt id=\"p1\">**</bpt>Company<ept id=\"p1\">**</ept>","source":"**Company**"},{"content":"The company to use for the request.","pos":[3799,3834]},{"pos":[3841,3848],"content":"Example","linkify":"Example","nodes":[{"content":"Example","pos":[0,7]}]}]}