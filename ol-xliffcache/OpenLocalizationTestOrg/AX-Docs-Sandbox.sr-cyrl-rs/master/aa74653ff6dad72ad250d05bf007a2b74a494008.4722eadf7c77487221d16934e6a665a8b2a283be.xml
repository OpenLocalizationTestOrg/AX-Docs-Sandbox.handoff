{"content":"# Vendor invoice automation\n\nThis topic explains the features that are available for end-to-end automation of vendor invoices, even invoices that include attachments.\n\nOrganizations that want to streamline their Accounts payable (AP) processes often identify invoice processing as one of the top process areas that should be more efficient. In many cases, these organizations offload the processing of paper invoices to a third-party optical character recognition (OCR) service provider. They then receive machine-readable invoice metadata together with a scanned image of each invoice. To help with automation, a “last mile” solution is then built to enable consumption of these artifacts in the invoicing system. Microsoft Dynamics 365 for Finance and Operations, Enterprise edition now enables this “last mile” automation out of the box, through an invoice automation solution.\n\n## Solution context\n\nThe invoice automation solution enables a standard interface that can accept invoice metadata for the invoice header and invoice lines, and also attachments that are applicable to the invoice. Any external system that can generate artifacts that comply with this interface will be able to send the feed into Finance and Operations for automatic processing of invoices and attachments.\n\nThe following illustration shows a sample integration scenario where Contoso has partnered with an OCR service provider for vendor invoice processing. Contoso’s vendors send invoices to the service provider by email. Through OCR processing, the service provider generates invoice metadata (header and/or lines) and a scanned image of the invoice. An integration layer then transforms these artifacts so that Finance and Operations can consume them.\n\n![Sample integration scenario](media/vendor_invoice_automation_01.png)\n\nSeveral variations of the preceding scenario are possible if invoice integration is required. Data migration is another use case where this interface can be used to create invoices and attachments in Finance and Operations.\n\n### Solution components\n\nThe solution footprint consists of the following components:\n\n+ Data entities for the invoice header, invoice lines, and invoice attachments\n+ Exception processing for invoices\n+ A side-by-side attachment viewer in invoices\n\nThe rest of this topic provides detailed descriptions of these solution components.\n\n## Data entities\n\nA data package is the unit of work that must be sent to Finance and Operations, so that invoice headers, invoice lines, and invoice attachments can be created. The following data entities are used for the artifacts that make up the data package:\n\n+ Vendor invoice header\n+ Vendor invoice line\n+ Vendor invoice document attachment\n\nVendor invoice document attachment is a new data entity that is introduced as part of this feature. The Vendor invoice header entity has been modified so that it supports attachments. The Vendor invoice line entity hasn’t been modified for this feature.\n\nThis topic doesn’t give a detailed definition of a data package. It also doesn’t explain how to create data packages. For this information, see [Data entities and packages framework](../unified-operations/dev-itpro/data-entities/data-entities-data-packages).\n\nTo quickly generate test data that includes invoices and attachments, follow these steps.\n\n1. Sign in to your Finance and Operations instance.\n1. Go to **Accounts payables** > **Invoices** > **Pending vendor invoices**.\n1. Create invoices that have lines and attachments.\n\n    > [!NOTE]\n    > The attachments must be header attachments. Currently, the Vendor invoice document attachment entity doesn’t support line attachments.\n\n1. Open the **Data management** workspace.\n1. Create an export job that includes the Vendor invoice header, Vendor invoice line, and Vendor invoice document attachment entities.\n1. Export the data.\n1. Download the exported data as a package. You can now use the package to import data into target instances for testing purposes.\n\n### Determining the legal entity for an invoice\n\nInvoices that are imported via data packages can be associated with the legal entity that they belong to in two ways:\n\n+ The import job that processes the invoice imports it into the same company in which the job was scheduled in the **Data management** workspace. In other words, the company of the job determines the company that the invoice belongs to.\n+ When the data package that contains invoices is sent to Finance and Operations, the caller (that is, the integration application that runs outside of Finance and Operations) can explicitly mention the company ID in the HTTP request. In this case, the company context in which the processing job runs in Finance and Operations is overridden, and the invoices are imported into the company that was passed via the HTTP request.\n\n> [!NOTE]\n> This behavior is standard data management behavior. It’s explained here, in the context of invoices, just for the sake of completeness.\n\n## Exception processing\n\nIn scenarios where vendor invoices come into Finance and Operations via integration, there must be an easy way for an Accounts payable team member to process exceptions or failed invoices, and to create pending invoices out of failed invoices. This exception processing for vendor invoices is now part of Finance and Operations.\n\n### Exceptions list page\n\nThe new list page for invoice exceptions is available at **Accounts payable** > **Invoices** > **Import failures** > **Vendor invoices that failed to import**. This page shows all the vendor invoice header records from the staging table of the Vendor invoice header data entity. Note that you can view the same records from the **Data management** workspace, where you can also perform the same actions that are provided in the exception handling feature. However, the UI that the exception handling feature provides is optimized for a functional user.\n\n![Exceptions list page](media/vendor_invoice_automation_02.png)\n\nThis list page includes the following fields that come in via the feed:\n\n+ **Company** – The company that the invoice belongs to\n+ **Error message** – The error message that the data management framework issues to explain why the invoice could not be created\n+ **Number** – The invoice number\n+ **Invoice account**\n+ **Name** – The vendor’s name\n+ **Vendor account**\n+ **Purchase order** – The purchase order (PO) number for the invoice\n+ **Posting date**\n+ **Invoice date**\n+ **Invoice description**\n+ **Currency**\n+ **Log**\n+ **Line reference** – The identifier that comes from the external system\n\n    > [!NOTE]\n    > The line reference isn’t the invoice ID.\n\nThis list page also has a preview pane that you can used in the following ways:\n\n+ View the whole error message, so that you don’t have to expand the **Error message** column in the grid.\n+ View the whole list of attachments for the invoice, if any attachments came with the invoice.\n\nThe list page supports the following actions:\n\n+ **Edit** – Open the exception record in edit mode, so that you can fix the issues.\n+ **Options** – Access the standard options that are available on list pages. You can use the **Add to workspace** option to pin the exceptions list page to your workspace as a list or tile.\n\n### Exception details page\n\nWhen you start edit mode, the exception details page for the invoice that has issues appears. If there are any attachments, the invoice and the default attachment appear side by side on the exception details page.\n\n![Exception details page](media/vendor_invoice_automation_03.png)\n\nIn the preceding illustration, there weren’t any lines for the vendor invoice header that came in. Therefore, the lines section is empty.\n\nThe exception details page supports the following operation:\n\n+ **Create pending invoice** – After you’ve fixed the issues on the invoice as part of exception processing, you can click this button to create the pending invoice. The creation of pending invoices occurs in the background (as an asynchronous operation).\n\n### Shared service vs. organization-based exception processing\n\nThe exceptions list page supports the standard security constructs that the **Data management** workspace supports for the processing of staging records. The invoice import job can be secured in the following ways:\n\n+ By user role\n+ By user\n+ By legal entity\n\n![Import job that is secured by user role and legal entity](media/vendor_invoice_automation_04.png)\n\nIf security is configured for the invoice import job, the exceptions list page honors those settings. Users will be able to see only the invoice exception records that this setup allows them to see.\n\nFor example, Contoso has decided to process invoice exceptions by legal entity. Therefore, security is configured on the invoice import job in such a way that a user in legal entity A can see only invoice exceptions in legal entity A, whereas a user in legal entity B can see only invoice exceptions in legal entity B. This setup enables segregation of duties for the management of invoice exceptions.\n\nContoso could also decide not to enforce any security, so that the same users can process invoice exceptions for all legal entities. This setup enables a shared services scenario for the management of invoice exceptions.\n\n## Side-by-side attachment viewer\n\nTo help you easily view the attachments for vendor invoices, the following pages that are used in the invoicing process now provide an attachment viewer:\n\n+ **Exception handling**\n+ **Pending vendor invoices** page (also available in the invoice review process)\n+ **Invoice journal** inquiry page (for posted invoices)\n\nHere is the main functionality that the attachment viewer provides:\n\n+ View all attachment types that Document management supports (files, images, URLs, and notes).\n+ View multi-page TIFF files.\n+ Perform the following actions on image files:\n  + Highlight parts of the image.\n  + Block parts of the image.\n  + Add annotations to the image.\n  + Zoom in and out on the image.\n  + Pan the image.\n  + Undo and redo actions.\n  + Fit the image to size.\n\n> [!NOTE]\n> These actions are available only for image files (JPEG, TIFF, PNG, and so on). Any changes that you make to an image by using these actions are saved to the image file. Currently, the attachment viewer doesn’t include versioning or auditing capabilities.\n\n### Default attachment\n\nIf a vendor invoice has more than one attachment, you can set one of the documents as the default attachment on the **Attachments** page. The **Is default attachment** option is a new option that was added as part of this feature. This option is also exposed in the Vendor invoice document attachment data entity. Therefore, the default attachment can be set through integrations.\n\nOnly one document can be set as the default attachment. After you set a document as the default attachment, it’s automatically shown in the attachment viewer when the invoice is opened. If you don’t set any document as the default attachment, the viewer doesn’t automatically show any attachment when the invoice is opened.\n\n### Show/hide invoice attachments\n\nA new button that is available on the **Exception processing**, **Pending invoice**, and **Invoice journal** inquiry pages lets you show or hide the attachment viewer.\n\n### Security\n\nThe following actions in the attachment viewer are controlled via role-based security:\n\n+ Highlighting\n+ Block\n+ Annotation\n\n### Pending vendor invoices page\n\nThe following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions:\n\n+ **Maintain vendor invoice image** – This privilege provides read/write access.\n+ **View vendor invoice image** – This privilege provides read-only access.\n\nThe following duties provide read-only access or read/write access to the attachment viewer for those actions:\n\n+ **Maintain vendor invoices** – The Maintain vendor invoice image privilege is assigned to this duty.\n+ **Inquire into vendor invoice status** – The View vendor invoice image privilege is assigned to this duty.\n\nThe following roles provide read-only access or read/write access to the attachment viewer for those actions:\n\n+ **Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.\n+ **Accounts payable clerk**, **Accounts payable manager**, **Accounts payable centralized payments clerk**, and **Accounts payable payments clerk** – The Inquire into vendor invoice status duty is assigned to these roles.\n\n### Invoice exception details page\n\nThe following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions.\n\n> [!NOTE]\n> Out of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer. If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.\n\n+ **Maintain vendor invoice header entity image** – This privilege provides read/write access to the invoice images in the attachment viewer.\n+ **View vendor invoice header entity image** – This privilege provides read-only view to the invoice image in the attachment viewer.\n\nThe following duties provide read-only access to the attachment viewer for those actions:\n\n+ **Maintain vendor invoices** – The Maintain vendor invoice header entity image privilege is assigned to this duty.\n\nThe following roles provide read-only access to the attachment viewer for those actions:\n\n+ **Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles.\n\nBy default, if the user role provides edit rights on any page, the user will also have edit rights on the attachments viewer for the highlighting, block, and annotation actions. However, if there are scenarios where a specific role should have edit rights on the page but not on the attachment viewer, the appropriate privileges from the preceding list can be used to satisfy the use case.\n","nodes":[{"pos":[2,27],"content":"Vendor invoice automation","linkify":"Vendor invoice automation","nodes":[{"content":"Vendor invoice automation","pos":[0,25]}]},{"content":"This topic explains the features that are available for end-to-end automation of vendor invoices, even invoices that include attachments.","pos":[29,166]},{"content":"Organizations that want to streamline their Accounts payable (AP) processes often identify invoice processing as one of the top process areas that should be more efficient.","pos":[168,340]},{"content":"In many cases, these organizations offload the processing of paper invoices to a third-party optical character recognition (OCR) service provider.","pos":[341,487]},{"content":"They then receive machine-readable invoice metadata together with a scanned image of each invoice.","pos":[488,586]},{"content":"To help with automation, a “last mile” solution is then built to enable consumption of these artifacts in the invoicing system.","pos":[587,714]},{"content":"Microsoft Dynamics 365 for Finance and Operations, Enterprise edition now enables this “last mile” automation out of the box, through an invoice automation solution.","pos":[715,880]},{"pos":[885,901],"content":"Solution context","linkify":"Solution context","nodes":[{"content":"Solution context","pos":[0,16]}]},{"content":"The invoice automation solution enables a standard interface that can accept invoice metadata for the invoice header and invoice lines, and also attachments that are applicable to the invoice.","pos":[903,1095]},{"content":"Any external system that can generate artifacts that comply with this interface will be able to send the feed into Finance and Operations for automatic processing of invoices and attachments.","pos":[1096,1287]},{"content":"The following illustration shows a sample integration scenario where Contoso has partnered with an OCR service provider for vendor invoice processing.","pos":[1289,1439]},{"content":"Contoso’s vendors send invoices to the service provider by email.","pos":[1440,1505]},{"content":"Through OCR processing, the service provider generates invoice metadata (header and/or lines) and a scanned image of the invoice.","pos":[1506,1635]},{"content":"An integration layer then transforms these artifacts so that Finance and Operations can consume them.","pos":[1636,1737]},{"content":"Sample integration scenario","pos":[1741,1768]},{"content":"Several variations of the preceding scenario are possible if invoice integration is required.","pos":[1811,1904]},{"content":"Data migration is another use case where this interface can be used to create invoices and attachments in Finance and Operations.","pos":[1905,2034]},{"pos":[2040,2059],"content":"Solution components","linkify":"Solution components","nodes":[{"content":"Solution components","pos":[0,19]}]},{"content":"The solution footprint consists of the following components:","pos":[2061,2121]},{"content":"Data entities for the invoice header, invoice lines, and invoice attachments","pos":[2125,2201]},{"content":"Exception processing for invoices","pos":[2204,2237]},{"content":"A side-by-side attachment viewer in invoices","pos":[2240,2284]},{"content":"The rest of this topic provides detailed descriptions of these solution components.","pos":[2286,2369]},{"pos":[2374,2387],"content":"Data entities","linkify":"Data entities","nodes":[{"content":"Data entities","pos":[0,13]}]},{"content":"A data package is the unit of work that must be sent to Finance and Operations, so that invoice headers, invoice lines, and invoice attachments can be created.","pos":[2389,2548]},{"content":"The following data entities are used for the artifacts that make up the data package:","pos":[2549,2634]},{"content":"Vendor invoice header","pos":[2638,2659]},{"content":"Vendor invoice line","pos":[2662,2681]},{"content":"Vendor invoice document attachment","pos":[2684,2718]},{"content":"Vendor invoice document attachment is a new data entity that is introduced as part of this feature.","pos":[2720,2819]},{"content":"The Vendor invoice header entity has been modified so that it supports attachments.","pos":[2820,2903]},{"content":"The Vendor invoice line entity hasn’t been modified for this feature.","pos":[2904,2973]},{"content":"This topic doesn’t give a detailed definition of a data package.","pos":[2975,3039]},{"content":"It also doesn’t explain how to create data packages.","pos":[3040,3092]},{"content":"For this information, see <bpt id=\"p1\">[</bpt>Data entities and packages framework<ept id=\"p1\">](../unified-operations/dev-itpro/data-entities/data-entities-data-packages)</ept>.","pos":[3093,3233],"source":" For this information, see [Data entities and packages framework](../unified-operations/dev-itpro/data-entities/data-entities-data-packages)."},{"content":"To quickly generate test data that includes invoices and attachments, follow these steps.","pos":[3235,3324]},{"content":"Sign in to your Finance and Operations instance.","pos":[3329,3377]},{"pos":[3381,3454],"content":"Go to <bpt id=\"p1\">**</bpt>Accounts payables<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Invoices<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Pending vendor invoices<ept id=\"p3\">**</ept>.","source":"Go to **Accounts payables** > **Invoices** > **Pending vendor invoices**."},{"content":"Create invoices that have lines and attachments.","pos":[3458,3506]},{"pos":[3514,3662],"content":"[!NOTE]\nThe attachments must be header attachments. Currently, the Vendor invoice document attachment entity doesn’t support line attachments.","leadings":["","    > "],"nodes":[{"content":"The attachments must be header attachments. Currently, the Vendor invoice document attachment entity doesn’t support line attachments.","pos":[8,142],"nodes":[{"content":"The attachments must be header attachments.","pos":[0,43]},{"content":"Currently, the Vendor invoice document attachment entity doesn’t support line attachments.","pos":[44,134]}]}]},{"pos":[3667,3706],"content":"Open the <bpt id=\"p1\">**</bpt>Data management<ept id=\"p1\">**</ept> workspace.","source":"Open the **Data management** workspace."},{"content":"Create an export job that includes the Vendor invoice header, Vendor invoice line, and Vendor invoice document attachment entities.","pos":[3710,3841]},{"content":"Export the data.","pos":[3845,3861]},{"content":"Download the exported data as a package.","pos":[3865,3905]},{"content":"You can now use the package to import data into target instances for testing purposes.","pos":[3906,3992]},{"pos":[3998,4041],"content":"Determining the legal entity for an invoice","linkify":"Determining the legal entity for an invoice","nodes":[{"content":"Determining the legal entity for an invoice","pos":[0,43]}]},{"content":"Invoices that are imported via data packages can be associated with the legal entity that they belong to in two ways:","pos":[4043,4160]},{"content":"The import job that processes the invoice imports it into the same company in which the job was scheduled in the <bpt id=\"p1\">**</bpt>Data management<ept id=\"p1\">**</ept> workspace.","pos":[4164,4307],"source":"The import job that processes the invoice imports it into the same company in which the job was scheduled in the **Data management** workspace."},{"content":"In other words, the company of the job determines the company that the invoice belongs to.","pos":[4308,4398]},{"content":"When the data package that contains invoices is sent to Finance and Operations, the caller (that is, the integration application that runs outside of Finance and Operations) can explicitly mention the company ID in the HTTP request.","pos":[4401,4633]},{"content":"In this case, the company context in which the processing job runs in Finance and Operations is overridden, and the invoices are imported into the company that was passed via the HTTP request.","pos":[4634,4826]},{"pos":[4830,4975],"content":"[!NOTE]\nThis behavior is standard data management behavior. It’s explained here, in the context of invoices, just for the sake of completeness.","leadings":["","> "],"nodes":[{"content":"This behavior is standard data management behavior. It’s explained here, in the context of invoices, just for the sake of completeness.","pos":[8,143],"nodes":[{"content":"This behavior is standard data management behavior.","pos":[0,51]},{"content":"It’s explained here, in the context of invoices, just for the sake of completeness.","pos":[52,135]}]}]},{"pos":[4980,5000],"content":"Exception processing","linkify":"Exception processing","nodes":[{"content":"Exception processing","pos":[0,20]}]},{"content":"In scenarios where vendor invoices come into Finance and Operations via integration, there must be an easy way for an Accounts payable team member to process exceptions or failed invoices, and to create pending invoices out of failed invoices.","pos":[5002,5245]},{"content":"This exception processing for vendor invoices is now part of Finance and Operations.","pos":[5246,5330]},{"pos":[5336,5356],"content":"Exceptions list page","linkify":"Exceptions list page","nodes":[{"content":"Exceptions list page","pos":[0,20]}]},{"content":"The new list page for invoice exceptions is available at <bpt id=\"p1\">**</bpt>Accounts payable<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Invoices<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Import failures<ept id=\"p3\">**</ept><ph id=\"ph3\"> &gt; </ph><bpt id=\"p4\">**</bpt>Vendor invoices that failed to import<ept id=\"p4\">**</ept>.","pos":[5358,5517],"source":"The new list page for invoice exceptions is available at **Accounts payable** > **Invoices** > **Import failures** > **Vendor invoices that failed to import**."},{"content":"This page shows all the vendor invoice header records from the staging table of the Vendor invoice header data entity.","pos":[5518,5636]},{"content":"Note that you can view the same records from the <bpt id=\"p1\">**</bpt>Data management<ept id=\"p1\">**</ept> workspace, where you can also perform the same actions that are provided in the exception handling feature.","pos":[5637,5813],"source":" Note that you can view the same records from the **Data management** workspace, where you can also perform the same actions that are provided in the exception handling feature."},{"content":"However, the UI that the exception handling feature provides is optimized for a functional user.","pos":[5814,5910]},{"content":"Exceptions list page","pos":[5914,5934]},{"content":"This list page includes the following fields that come in via the feed:","pos":[5977,6048]},{"pos":[6052,6105],"content":"<bpt id=\"p1\">**</bpt>Company<ept id=\"p1\">**</ept> – The company that the invoice belongs to","source":"**Company** – The company that the invoice belongs to"},{"pos":[6108,6235],"content":"<bpt id=\"p1\">**</bpt>Error message<ept id=\"p1\">**</ept> – The error message that the data management framework issues to explain why the invoice could not be created","source":"**Error message** – The error message that the data management framework issues to explain why the invoice could not be created"},{"pos":[6238,6269],"content":"<bpt id=\"p1\">**</bpt>Number<ept id=\"p1\">**</ept> – The invoice number","source":"**Number** – The invoice number"},{"pos":[6272,6291],"content":"<bpt id=\"p1\">**</bpt>Invoice account<ept id=\"p1\">**</ept>","source":"**Invoice account**"},{"pos":[6294,6322],"content":"<bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> – The vendor’s name","source":"**Name** – The vendor’s name"},{"pos":[6325,6343],"content":"<bpt id=\"p1\">**</bpt>Vendor account<ept id=\"p1\">**</ept>","source":"**Vendor account**"},{"pos":[6346,6413],"content":"<bpt id=\"p1\">**</bpt>Purchase order<ept id=\"p1\">**</ept> – The purchase order (PO) number for the invoice","source":"**Purchase order** – The purchase order (PO) number for the invoice"},{"pos":[6416,6432],"content":"<bpt id=\"p1\">**</bpt>Posting date<ept id=\"p1\">**</ept>","source":"**Posting date**"},{"pos":[6435,6451],"content":"<bpt id=\"p1\">**</bpt>Invoice date<ept id=\"p1\">**</ept>","source":"**Invoice date**"},{"pos":[6454,6477],"content":"<bpt id=\"p1\">**</bpt>Invoice description<ept id=\"p1\">**</ept>","source":"**Invoice description**"},{"pos":[6480,6492],"content":"<bpt id=\"p1\">**</bpt>Currency<ept id=\"p1\">**</ept>","source":"**Currency**"},{"pos":[6495,6502],"content":"<bpt id=\"p1\">**</bpt>Log<ept id=\"p1\">**</ept>","source":"**Log**"},{"pos":[6505,6576],"content":"<bpt id=\"p1\">**</bpt>Line reference<ept id=\"p1\">**</ept> – The identifier that comes from the external system","source":"**Line reference** – The identifier that comes from the external system"},{"pos":[6584,6638],"content":"[!NOTE]\nThe line reference isn’t the invoice ID.","leadings":["","    > "],"nodes":[{"content":"The line reference isn’t the invoice ID.","pos":[8,48]}]},{"content":"This list page also has a preview pane that you can used in the following ways:","pos":[6640,6719]},{"pos":[6723,6827],"content":"View the whole error message, so that you don’t have to expand the <bpt id=\"p1\">**</bpt>Error message<ept id=\"p1\">**</ept> column in the grid.","source":"View the whole error message, so that you don’t have to expand the **Error message** column in the grid."},{"content":"View the whole list of attachments for the invoice, if any attachments came with the invoice.","pos":[6830,6923]},{"content":"The list page supports the following actions:","pos":[6925,6970]},{"pos":[6974,7056],"content":"<bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> – Open the exception record in edit mode, so that you can fix the issues.","source":"**Edit** – Open the exception record in edit mode, so that you can fix the issues."},{"content":"<bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept> – Access the standard options that are available on list pages.","pos":[7059,7134],"source":"**Options** – Access the standard options that are available on list pages."},{"content":"You can use the <bpt id=\"p1\">**</bpt>Add to workspace<ept id=\"p1\">**</ept> option to pin the exceptions list page to your workspace as a list or tile.","pos":[7135,7247],"source":" You can use the **Add to workspace** option to pin the exceptions list page to your workspace as a list or tile."},{"pos":[7253,7275],"content":"Exception details page","linkify":"Exception details page","nodes":[{"content":"Exception details page","pos":[0,22]}]},{"content":"When you start edit mode, the exception details page for the invoice that has issues appears.","pos":[7277,7370]},{"content":"If there are any attachments, the invoice and the default attachment appear side by side on the exception details page.","pos":[7371,7490]},{"content":"Exception details page","pos":[7494,7516]},{"content":"In the preceding illustration, there weren’t any lines for the vendor invoice header that came in.","pos":[7559,7657]},{"content":"Therefore, the lines section is empty.","pos":[7658,7696]},{"content":"The exception details page supports the following operation:","pos":[7698,7758]},{"content":"<bpt id=\"p1\">**</bpt>Create pending invoice<ept id=\"p1\">**</ept> – After you’ve fixed the issues on the invoice as part of exception processing, you can click this button to create the pending invoice.","pos":[7762,7925],"source":"**Create pending invoice** – After you’ve fixed the issues on the invoice as part of exception processing, you can click this button to create the pending invoice."},{"content":"The creation of pending invoices occurs in the background (as an asynchronous operation).","pos":[7926,8015]},{"pos":[8021,8079],"content":"Shared service vs. organization-based exception processing","linkify":"Shared service vs. organization-based exception processing","nodes":[{"content":"Shared service vs. organization-based exception processing","pos":[0,58]}]},{"content":"The exceptions list page supports the standard security constructs that the <bpt id=\"p1\">**</bpt>Data management<ept id=\"p1\">**</ept> workspace supports for the processing of staging records.","pos":[8081,8234],"source":"The exceptions list page supports the standard security constructs that the **Data management** workspace supports for the processing of staging records."},{"content":"The invoice import job can be secured in the following ways:","pos":[8235,8295]},{"content":"By user role","pos":[8299,8311]},{"content":"By user","pos":[8314,8321]},{"content":"By legal entity","pos":[8324,8339]},{"content":"Import job that is secured by user role and legal entity","pos":[8343,8399]},{"content":"If security is configured for the invoice import job, the exceptions list page honors those settings.","pos":[8442,8543]},{"content":"Users will be able to see only the invoice exception records that this setup allows them to see.","pos":[8544,8640]},{"content":"For example, Contoso has decided to process invoice exceptions by legal entity.","pos":[8642,8721]},{"content":"Therefore, security is configured on the invoice import job in such a way that a user in legal entity A can see only invoice exceptions in legal entity A, whereas a user in legal entity B can see only invoice exceptions in legal entity B. This setup enables segregation of duties for the management of invoice exceptions.","pos":[8722,9043]},{"content":"Contoso could also decide not to enforce any security, so that the same users can process invoice exceptions for all legal entities.","pos":[9045,9177]},{"content":"This setup enables a shared services scenario for the management of invoice exceptions.","pos":[9178,9265]},{"pos":[9270,9300],"content":"Side-by-side attachment viewer","linkify":"Side-by-side attachment viewer","nodes":[{"content":"Side-by-side attachment viewer","pos":[0,30]}]},{"content":"To help you easily view the attachments for vendor invoices, the following pages that are used in the invoicing process now provide an attachment viewer:","pos":[9302,9455]},{"pos":[9459,9481],"content":"<bpt id=\"p1\">**</bpt>Exception handling<ept id=\"p1\">**</ept>","source":"**Exception handling**"},{"pos":[9484,9563],"content":"<bpt id=\"p1\">**</bpt>Pending vendor invoices<ept id=\"p1\">**</ept> page (also available in the invoice review process)","source":"**Pending vendor invoices** page (also available in the invoice review process)"},{"pos":[9566,9620],"content":"<bpt id=\"p1\">**</bpt>Invoice journal<ept id=\"p1\">**</ept> inquiry page (for posted invoices)","source":"**Invoice journal** inquiry page (for posted invoices)"},{"content":"Here is the main functionality that the attachment viewer provides:","pos":[9622,9689]},{"content":"View all attachment types that Document management supports (files, images, URLs, and notes).","pos":[9693,9786]},{"content":"View multi-page TIFF files.","pos":[9789,9816]},{"content":"Perform the following actions on image files:","pos":[9819,9864]},{"content":"Highlight parts of the image.","pos":[9869,9898]},{"content":"Block parts of the image.","pos":[9903,9928]},{"content":"Add annotations to the image.","pos":[9933,9962]},{"content":"Zoom in and out on the image.","pos":[9967,9996]},{"content":"Pan the image.","pos":[10001,10015]},{"content":"Undo and redo actions.","pos":[10020,10042]},{"content":"Fit the image to size.","pos":[10047,10069]},{"pos":[10073,10337],"content":"[!NOTE]\nThese actions are available only for image files (JPEG, TIFF, PNG, and so on). Any changes that you make to an image by using these actions are saved to the image file. Currently, the attachment viewer doesn’t include versioning or auditing capabilities.","leadings":["","> "],"nodes":[{"content":"These actions are available only for image files (JPEG, TIFF, PNG, and so on). Any changes that you make to an image by using these actions are saved to the image file. Currently, the attachment viewer doesn’t include versioning or auditing capabilities.","pos":[8,262],"nodes":[{"content":"These actions are available only for image files (JPEG, TIFF, PNG, and so on).","pos":[0,78]},{"content":"Any changes that you make to an image by using these actions are saved to the image file.","pos":[79,168]},{"content":"Currently, the attachment viewer doesn’t include versioning or auditing capabilities.","pos":[169,254]}]}]},{"pos":[10343,10361],"content":"Default attachment","linkify":"Default attachment","nodes":[{"content":"Default attachment","pos":[0,18]}]},{"content":"If a vendor invoice has more than one attachment, you can set one of the documents as the default attachment on the <bpt id=\"p1\">**</bpt>Attachments<ept id=\"p1\">**</ept> page.","pos":[10363,10500],"source":"If a vendor invoice has more than one attachment, you can set one of the documents as the default attachment on the **Attachments** page."},{"content":"The <bpt id=\"p1\">**</bpt>Is default attachment<ept id=\"p1\">**</ept> option is a new option that was added as part of this feature.","pos":[10501,10593],"source":" The **Is default attachment** option is a new option that was added as part of this feature."},{"content":"This option is also exposed in the Vendor invoice document attachment data entity.","pos":[10594,10676]},{"content":"Therefore, the default attachment can be set through integrations.","pos":[10677,10743]},{"content":"Only one document can be set as the default attachment.","pos":[10745,10800]},{"content":"After you set a document as the default attachment, it’s automatically shown in the attachment viewer when the invoice is opened.","pos":[10801,10930]},{"content":"If you don’t set any document as the default attachment, the viewer doesn’t automatically show any attachment when the invoice is opened.","pos":[10931,11068]},{"pos":[11074,11103],"content":"Show/hide invoice attachments","linkify":"Show/hide invoice attachments","nodes":[{"content":"Show/hide invoice attachments","pos":[0,29]}]},{"pos":[11105,11272],"content":"A new button that is available on the <bpt id=\"p1\">**</bpt>Exception processing<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Pending invoice<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Invoice journal<ept id=\"p3\">**</ept> inquiry pages lets you show or hide the attachment viewer.","source":"A new button that is available on the **Exception processing**, **Pending invoice**, and **Invoice journal** inquiry pages lets you show or hide the attachment viewer."},{"pos":[11278,11286],"content":"Security","linkify":"Security","nodes":[{"content":"Security","pos":[0,8]}]},{"content":"The following actions in the attachment viewer are controlled via role-based security:","pos":[11288,11374]},{"content":"Highlighting","pos":[11378,11390]},{"content":"Block","pos":[11393,11398]},{"content":"Annotation","pos":[11401,11411]},{"pos":[11417,11445],"content":"Pending vendor invoices page","linkify":"Pending vendor invoices page","nodes":[{"content":"Pending vendor invoices page","pos":[0,28]}]},{"content":"The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions:","pos":[11447,11596]},{"pos":[11600,11678],"content":"<bpt id=\"p1\">**</bpt>Maintain vendor invoice image<ept id=\"p1\">**</ept> – This privilege provides read/write access.","source":"**Maintain vendor invoice image** – This privilege provides read/write access."},{"pos":[11681,11754],"content":"<bpt id=\"p1\">**</bpt>View vendor invoice image<ept id=\"p1\">**</ept> – This privilege provides read-only access.","source":"**View vendor invoice image** – This privilege provides read-only access."},{"content":"The following duties provide read-only access or read/write access to the attachment viewer for those actions:","pos":[11756,11866]},{"pos":[11870,11970],"content":"<bpt id=\"p1\">**</bpt>Maintain vendor invoices<ept id=\"p1\">**</ept> – The Maintain vendor invoice image privilege is assigned to this duty.","source":"**Maintain vendor invoices** – The Maintain vendor invoice image privilege is assigned to this duty."},{"pos":[11973,12079],"content":"<bpt id=\"p1\">**</bpt>Inquire into vendor invoice status<ept id=\"p1\">**</ept> – The View vendor invoice image privilege is assigned to this duty.","source":"**Inquire into vendor invoice status** – The View vendor invoice image privilege is assigned to this duty."},{"content":"The following roles provide read-only access or read/write access to the attachment viewer for those actions:","pos":[12081,12190]},{"pos":[12194,12317],"content":"<bpt id=\"p1\">**</bpt>Accounts payable clerk<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Accounts payable manager<ept id=\"p2\">**</ept> – The Maintain vendor invoices duty is assigned to these roles.","source":"**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles."},{"pos":[12320,12540],"content":"<bpt id=\"p1\">**</bpt>Accounts payable clerk<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Accounts payable manager<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Accounts payable centralized payments clerk<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Accounts payable payments clerk<ept id=\"p4\">**</ept> – The Inquire into vendor invoice status duty is assigned to these roles.","source":"**Accounts payable clerk**, **Accounts payable manager**, **Accounts payable centralized payments clerk**, and **Accounts payable payments clerk** – The Inquire into vendor invoice status duty is assigned to these roles."},{"pos":[12546,12576],"content":"Invoice exception details page","linkify":"Invoice exception details page","nodes":[{"content":"Invoice exception details page","pos":[0,30]}]},{"content":"The following privileges provide ready-only access or read/write access to the attachment viewer for the highlighting, block, and annotation actions.","pos":[12578,12727]},{"pos":[12731,13024],"content":"[!NOTE]\nOut of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer. If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.","leadings":["","> "],"nodes":[{"content":"Out of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer. If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.","pos":[8,291],"nodes":[{"content":"Out of the box, the roles that are mentioned in this section provide read-only access to the invoice images in the attachment viewer.","pos":[0,133]},{"content":"If a role must also have write access to the images, you can grant write access to that role by using the privilege and duty that are described here.","pos":[134,283]}]}]},{"pos":[13028,13167],"content":"<bpt id=\"p1\">**</bpt>Maintain vendor invoice header entity image<ept id=\"p1\">**</ept> – This privilege provides read/write access to the invoice images in the attachment viewer.","source":"**Maintain vendor invoice header entity image** – This privilege provides read/write access to the invoice images in the attachment viewer."},{"pos":[13170,13301],"content":"<bpt id=\"p1\">**</bpt>View vendor invoice header entity image<ept id=\"p1\">**</ept> – This privilege provides read-only view to the invoice image in the attachment viewer.","source":"**View vendor invoice header entity image** – This privilege provides read-only view to the invoice image in the attachment viewer."},{"content":"The following duties provide read-only access to the attachment viewer for those actions:","pos":[13303,13392]},{"pos":[13396,13510],"content":"<bpt id=\"p1\">**</bpt>Maintain vendor invoices<ept id=\"p1\">**</ept> – The Maintain vendor invoice header entity image privilege is assigned to this duty.","source":"**Maintain vendor invoices** – The Maintain vendor invoice header entity image privilege is assigned to this duty."},{"content":"The following roles provide read-only access to the attachment viewer for those actions:","pos":[13512,13600]},{"pos":[13604,13727],"content":"<bpt id=\"p1\">**</bpt>Accounts payable clerk<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Accounts payable manager<ept id=\"p2\">**</ept> – The Maintain vendor invoices duty is assigned to these roles.","source":"**Accounts payable clerk** and **Accounts payable manager** – The Maintain vendor invoices duty is assigned to these roles."},{"content":"By default, if the user role provides edit rights on any page, the user will also have edit rights on the attachments viewer for the highlighting, block, and annotation actions.","pos":[13729,13906]},{"content":"However, if there are scenarios where a specific role should have edit rights on the page but not on the attachment viewer, the appropriate privileges from the preceding list can be used to satisfy the use case.","pos":[13907,14118]}]}