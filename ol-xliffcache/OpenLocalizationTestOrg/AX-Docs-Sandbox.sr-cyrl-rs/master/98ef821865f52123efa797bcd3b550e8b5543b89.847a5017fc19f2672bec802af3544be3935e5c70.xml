{"content":"---\n# required metadata\n\ntitle: Maintenance mode\ndescription: This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.\nauthor: kfend\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\nms.search.form: SysConfiguration\n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \n# ms.reviewer: 51\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 70292\nms.assetid: c11a35e8-40bb-4005-adf3-cfd998a418fc\nms.search.region: Global\n# ms.search.industry: \nms.author: manado\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Maintenance mode\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.\n\nMicrosoft Dynamics 365 for Operations includes a new system-wide setting that is named maintenance mode. When maintenance mode is turned on, it provides a safe way for system administrators to make system changes that might affect system functionality. For example, configuration keys can be enabled or disabled. While maintenance mode is on, only system administrators and users who have the **Maintenance mode user** role can sign in to the system. By default, maintenance mode is turned off.\n\n## Turning maintenance mode on and off\nWhen maintenance mode is off, you can't edit the **License configuration** page.\nYou can turn on maintenance mode locally by running the following command. \n\n**Note:** On some virtual machines (VMs), the exact location of the Deployment.Setup.exe tool might differ. Check AosServiceWebRootbin.\n\n    c:\\packagesbinMicrosoft.Dynamics.AX.Deployment.Setup.exe --metadatadir c:packages --bindir c:\\packages --sqlserver . --sqldatabase axdbrain --sqluser AOSUser --sqlpwd *********** --setupmode maintenancemode --isinmaintenancemode true\n\nThe following table describes the parameters that are used in this command.\n\n| Parameter name              | Description                                                                                                       |\n|-----------------------------|-------------------------------------------------------------------------------------------------------------------|\n| --setupmode maintenancemode | Use this parameter to inform the setup tool that the system will be put into or taken out of maintenance mode.    |\n| --metadatadir               | Use this parameter to specify the metadata directory. You should use the default packages directory.              |\n| --bindir                    | Use this parameter to specify the binaries directory. You should use the default packages directory.              |\n| --sqlserver                 | Use this parameter to specify the Microsoft SQL Server. For one-box environments, use a period (**.**).           |\n| --sqluser                   | Use this parameter to specify the SQL Server user. You should use **AOSUser**.                                    |\n| --sqlpwd                    | Use this parameter to specify the SQL Server password.                                                            |\n| --isinmaintenancemode       | Use this parameter to turn configuration mode on or off. Use **true** to turn it on and **false** to turn it off. |\n\nAfter the instance of Microsoft Dynamics 365 for Operations Application Object Server (AOS) is restarted, the system will be in maintenance mode. You can then enable configuration keys, as shown in the following screen shot. \n\n[![license-configuration-page-when-not-in-maintenance-mode](./media/license-configuration-page-when-not-in-maintenance-mode.png)](./media/license-configuration-page-when-not-in-maintenance-mode.png) \n\nIf you try to access Dynamics 365 for Operations while the system is in maintenance mode, but you aren't a system administrator or a user who has the **Maintenance mode user** role, you receive an error message. \n\nYou can turn off maintenance mode by running the following command.\n\n    c:packagesbinMicrosoft.Dynamics.AX.Deployment.Setup.exe --metadatadir c:\\packages --bindir c:packages --sqlserver . --sqldatabase axdbrain --sqluser AOSUser --sqlpwd *********** --setupmode maintenancemode --isinmaintenancemode false\n\n## Maintenance mode in production environments\nTo turn on maintenance mode in a production environment, you must submit a request to the Dynamics Service Engineering (DSE) team by using the **Other request** form in LCS on the **Service requests** page. For more information about submitting a request through LCS, see , see [Submit a request to the Dynamics Service Engineering team](../lifecycle-services/submit-request-dynamics-service-engineering-team.md). \n\nThe Dynamics Service Engineering team will move your system into maintenance mode and work with you to complete the configuration updates. After the team receives a confirmation from you that the updates are complete, they will remove your system from maintenance mode.\n\n## Troubleshooting\nErrors can be found in Event viewer.\n\n\n\n","nodes":[{"pos":[4,807],"content":"# required metadata\n\ntitle: Maintenance mode\ndescription: This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.\nauthor: kfend\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\nms.search.form: SysConfiguration\n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \n# ms.reviewer: 51\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 70292\nms.assetid: c11a35e8-40bb-4005-adf3-cfd998a418fc\nms.search.region: Global\n# ms.search.industry: \nms.author: manado\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Maintenance mode","nodes":[{"pos":[0,16],"content":"Maintenance mode","nodes":[{"content":"Maintenance mode","pos":[0,16]}]}],"path":["title"]},{"content":"This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.","nodes":[{"pos":[0,243],"content":"This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.","nodes":[{"content":"This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations. Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.","pos":[0,243],"nodes":[{"content":"This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations.","pos":[0,98]},{"content":"Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.","pos":[99,243]}]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[815,831],"content":"Maintenance mode","linkify":"Maintenance mode","nodes":[{"content":"Maintenance mode","pos":[0,16]}]},{"content":"This article provides information about maintenance mode in Microsoft Dynamics 365 for Operations.","pos":[877,975]},{"content":"Maintenance mode is a new system-wide setting that lets system administrators safely make system changes that might affect system functionality.","pos":[976,1120]},{"content":"Microsoft Dynamics 365 for Operations includes a new system-wide setting that is named maintenance mode.","pos":[1122,1226]},{"content":"When maintenance mode is turned on, it provides a safe way for system administrators to make system changes that might affect system functionality.","pos":[1227,1374]},{"content":"For example, configuration keys can be enabled or disabled.","pos":[1375,1434]},{"content":"While maintenance mode is on, only system administrators and users who have the <bpt id=\"p1\">**</bpt>Maintenance mode user<ept id=\"p1\">**</ept> role can sign in to the system.","pos":[1435,1572],"source":" While maintenance mode is on, only system administrators and users who have the **Maintenance mode user** role can sign in to the system."},{"content":"By default, maintenance mode is turned off.","pos":[1573,1616]},{"pos":[1621,1656],"content":"Turning maintenance mode on and off","linkify":"Turning maintenance mode on and off","nodes":[{"content":"Turning maintenance mode on and off","pos":[0,35]}]},{"content":"When maintenance mode is off, you can't edit the <bpt id=\"p1\">**</bpt>License configuration<ept id=\"p1\">**</ept> page.","pos":[1657,1737],"source":"When maintenance mode is off, you can't edit the **License configuration** page."},{"content":"You can turn on maintenance mode locally by running the following command.","pos":[1738,1812],"source":"\nYou can turn on maintenance mode locally by running the following command."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> On some virtual machines (VMs), the exact location of the Deployment.Setup.exe tool might differ.","pos":[1815,1922],"source":"**Note:** On some virtual machines (VMs), the exact location of the Deployment.Setup.exe tool might differ."},{"content":"Check AosServiceWebRootbin.","pos":[1923,1950]},{"content":"The following table describes the parameters that are used in this command.","pos":[2191,2266]},{"content":"Parameter name","pos":[2270,2284]},{"content":"Description","pos":[2300,2311]},{"content":"--setupmode maintenancemode","pos":[2566,2593]},{"content":"Use this parameter to inform the setup tool that the system will be put into or taken out of maintenance mode.","pos":[2596,2706]},{"content":"--metadatadir","pos":[2714,2727]},{"content":"Use this parameter to specify the metadata directory.","pos":[2744,2797]},{"content":"You should use the default packages directory.","pos":[2798,2844]},{"content":"--bindir","pos":[2862,2870]},{"content":"Use this parameter to specify the binaries directory.","pos":[2892,2945]},{"content":"You should use the default packages directory.","pos":[2946,2992]},{"content":"--sqlserver","pos":[3010,3021]},{"content":"Use this parameter to specify the Microsoft SQL Server.","pos":[3040,3095]},{"content":"For one-box environments, use a period (<bpt id=\"p1\">**</bpt>.<ept id=\"p1\">**</ept>).","pos":[3096,3143],"source":" For one-box environments, use a period (**.**)."},{"content":"--sqluser","pos":[3158,3167]},{"content":"Use this parameter to specify the SQL Server user.","pos":[3188,3238]},{"content":"You should use <bpt id=\"p1\">**</bpt>AOSUser<ept id=\"p1\">**</ept>.","pos":[3239,3266],"source":" You should use **AOSUser**."},{"content":"--sqlpwd","pos":[3306,3314]},{"content":"Use this parameter to specify the SQL Server password.","pos":[3336,3390]},{"content":"--isinmaintenancemode","pos":[3454,3475]},{"content":"Use this parameter to turn configuration mode on or off.","pos":[3484,3540]},{"content":"Use <bpt id=\"p1\">**</bpt>true<ept id=\"p1\">**</ept> to turn it on and <bpt id=\"p2\">**</bpt>false<ept id=\"p2\">**</ept> to turn it off.","pos":[3541,3597],"source":" Use **true** to turn it on and **false** to turn it off."},{"content":"After the instance of Microsoft Dynamics 365 for Operations Application Object Server (AOS) is restarted, the system will be in maintenance mode.","pos":[3601,3746]},{"content":"You can then enable configuration keys, as shown in the following screen shot.","pos":[3747,3825]},{"pos":[3828,4026],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>license-configuration-page-when-not-in-maintenance-mode<ept id=\"p1\">](./media/license-configuration-page-when-not-in-maintenance-mode.png)](./media/license-configuration-page-when-not-in-maintenance-mode.png)</ept>","source":"[![license-configuration-page-when-not-in-maintenance-mode](./media/license-configuration-page-when-not-in-maintenance-mode.png)](./media/license-configuration-page-when-not-in-maintenance-mode.png)"},{"pos":[4029,4240],"content":"If you try to access Dynamics 365 for Operations while the system is in maintenance mode, but you aren't a system administrator or a user who has the <bpt id=\"p1\">**</bpt>Maintenance mode user<ept id=\"p1\">**</ept> role, you receive an error message.","source":"If you try to access Dynamics 365 for Operations while the system is in maintenance mode, but you aren't a system administrator or a user who has the **Maintenance mode user** role, you receive an error message."},{"content":"You can turn off maintenance mode by running the following command.","pos":[4243,4310]},{"pos":[4554,4597],"content":"Maintenance mode in production environments","linkify":"Maintenance mode in production environments","nodes":[{"content":"Maintenance mode in production environments","pos":[0,43]}]},{"content":"To turn on maintenance mode in a production environment, you must submit a request to the Dynamics Service Engineering (DSE) team by using the <bpt id=\"p1\">**</bpt>Other request<ept id=\"p1\">**</ept> form in LCS on the <bpt id=\"p2\">**</bpt>Service requests<ept id=\"p2\">**</ept> page.","pos":[4598,4804],"source":"To turn on maintenance mode in a production environment, you must submit a request to the Dynamics Service Engineering (DSE) team by using the **Other request** form in LCS on the **Service requests** page."},{"content":"For more information about submitting a request through LCS, see , see <bpt id=\"p1\">[</bpt>Submit a request to the Dynamics Service Engineering team<ept id=\"p1\">](../lifecycle-services/submit-request-dynamics-service-engineering-team.md)</ept>.","pos":[4805,5011],"source":" For more information about submitting a request through LCS, see , see [Submit a request to the Dynamics Service Engineering team](../lifecycle-services/submit-request-dynamics-service-engineering-team.md)."},{"content":"The Dynamics Service Engineering team will move your system into maintenance mode and work with you to complete the configuration updates.","pos":[5014,5152]},{"content":"After the team receives a confirmation from you that the updates are complete, they will remove your system from maintenance mode.","pos":[5153,5283]},{"pos":[5288,5303],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"Errors can be found in Event viewer.","pos":[5304,5340]}]}