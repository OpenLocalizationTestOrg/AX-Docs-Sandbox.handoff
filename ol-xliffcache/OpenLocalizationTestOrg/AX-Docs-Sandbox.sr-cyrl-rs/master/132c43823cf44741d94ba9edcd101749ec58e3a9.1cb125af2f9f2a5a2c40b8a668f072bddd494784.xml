{"content":"---\n# required metadata\n\ntitle: OData\ndescription: This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: RobinARH\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 24841\nms.assetid: 7137b0a0-1473-4134-b769-ede5e07fd6f5\nms.search.region: Global\n# ms.search.industry: \nms.author: kuntalme\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# OData\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.\n\nYou can expose updatable views by using Open Data Protocol (OData) V4.\n\n## What is OData?\nOData is a standard protocol for creating and consuming data. The purpose of OData is to provide a Representational State Transfer (REST)–based protocol for Create, Read, Update, and Delete (CRUD)–style operations. OData applies web technologies such as HTTP and JavaScript Object Notation (JSON) to provide access to information from various programs. OData provides the following benefits:\n\n-   It lets developers interact with data by using RESTful web services.\n-   It provides a simple and uniform way to share data in a discoverable fashion.\n-   It enables broad integration across products.\n-   It enables integration by using the HTTP protocol stack.\n\nFor more information about OData, see the following webpages.\n\n| To learn about this topic                                                        | See this webpage                                        |\n|----------------------------------------------------------------------------------|---------------------------------------------------------|\n| Open Data Protocol Standards                                                     | <http://www.odata.org/documentation/>  |\n| Open Data Protocol: Data access for the web, the cloud, mobile devices, and more | <http://msdn.microsoft.com/en-us/data/hh237663.aspx>    |\n| Open Data Protocol by example                                                    | <http://msdn.microsoft.com/en-us/library/ff478141.aspx> |\n\nThe public OData service endpoint that enables access to data in a consistent way across a broad range of clients. To see a list of all the entities that are exposed, open the OData service root URL. The URL for the service root on your system has the following format: `[Your Organization Root URL]/data`.\n\n## Addressing\nThe following table describes the resources and the corresponding URLs in the Fleet Management sample.\n\n| Resource            | URL                                                                   | Description                                                    |\n|---------------------|-----------------------------------------------------------------------|----------------------------------------------------------------|\n| Service endpoint    | \\[Your Organization Root URL\\]/data/                                  | The root service endpoint for OData entities                   |\n| Entity collection   | \\[Your Organization Root URL\\]/data/Customers                         | The collection of all customers                                |\n| Entity              | \\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)              | A single entity from the entity collection                     |\n| Navigation property | \\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)/Reservations | The navigation from a customer to that customer's reservations |\n| Property            | \\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)/FirstName    | The customer’s first name                                      |\n\n## Exposing OData entities\nOData entities are based on the concept of an updatable view. When the **IsPublic** property for an updatable view is set to **TRUE**, that view is exposed as a top-level OData entity.\n\n## Setting navigation properties between OData entities\nLinks between OData entities are described by a navigation property. Navigation properties describe the navigation from one end of an association to the other end.\n\n## Adding actions on OData entities\nActions provide a way to inject behaviors into the data model. To add actions, add a method to the updatable view, and decorate that method with specific attributes. Here is an example.\n\n    [SysODataActionAttribute(\"CalcMaintenanceDuration\", true)]\n    public int CalculateMaintenanceDuration()\n    {\n        //do something\n        return 0;\n    }\n\nIn this example, the **SysODataActionAttribute** class decorates the **CalculateMaintenanceDuration** method that is exposed as an action. The first argument of the attribute is the publicly exposed name of the action, and the second argument indicates whether this action is always available. Methods that are exposed as actions can return any primitive type or another public updatable view. After this method is exposed, it appears in the OData $metadata. Here is an example.[![1\\_Odata](./media/1_odata.png)](./media/1_odata.png) The following example of an OData action takes in a parameter and returns a list.\n\n    [SysODataActionAttribute(\"GetColors\", true),\n     SysODataCollectionAttribute(\"return\", Types::Record, \"CarColor\")]\n    public List GetColorsByAvailability(boolean onlyAvailableVehicles)\n    {\n        List returnList = new List(Types::Record);\n        // do something\n        return returnList;\n    }\n\nIn this example, the **SysODataCollectionAttribute** class enables OData to expose strongly typed collections from X++. This class takes in three parameters:\n\n-   The name of the parameter that is a list (use **return** for the return value of the method)\n-   The X++ type for the members of this list\n-   The public name of the OData resource that is contained in the collection\n\nAfter these actions are exposed, they can be invoked from the service root URL. \n\nYou can find actions that are defined on data entities by searching for the **SysODataActionAttribute** attribute in the source code.\n\n## Querying or browsing an OData endpoint\nOData enables an SQL-like language for creating rich queries against the database to include only those data items that you want in the results. To create a query, append criteria to the resource path. For example, you can query the **Customers** entity collection by appending the following query options in your browser.\n\n| URL                                                                      | Description                                                                                   |\n|--------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------|\n| \\[Your Organization Root URL\\]/data/Customers                            | List all the customers.                                                                       |\n| \\[Your Organization Root URL\\]/data/Customers?$top=3                     | List the first three records.                                                                 |\n| \\[Your Organization Root URL\\]/data/Customers?$select=FirstName,LastName | List all the customers, but show only the first name and last name properties.                |\n| \\[Your Organization Root URL\\]/data/Customers?$format=json               | List all the customers in a JSON format that can be used to interact with JavaScript clients. |\n\nThe OData protocol supports many similar filtering and querying options on entities. For the full set of query options, see [Windows Communication Foundation](http://msdn.microsoft.com/en-us/library/ff478141.aspx).\n\n## Authentication\nOData sits on the same authentication stack as the server. For more information about the authentication, see [Service endpoints](services-home-page.md).\n\n\n\n\n","nodes":[{"pos":[4,694],"embed":true,"content":"# required metadata\n\ntitle: OData\ndescription: This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: RobinARH\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 24841\nms.assetid: 7137b0a0-1473-4134-b769-ede5e07fd6f5\nms.search.region: Global\n# ms.search.industry: \nms.author: kuntalme\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"OData","nodes":[{"pos":[0,5],"content":"OData","nodes":[{"content":"OData","pos":[0,5]}]}],"path":["title"]},{"content":"This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.","nodes":[{"pos":[0,131],"content":"This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.","nodes":[{"content":"This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.","pos":[0,131]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[702,707],"content":"OData","linkify":"OData","nodes":[{"content":"OData","pos":[0,5]}]},{"content":"This article provides information about Open Data Protocol (OData) and explains how you can use OData V4 to expose updatable views.","pos":[753,884]},{"content":"You can expose updatable views by using Open Data Protocol (OData) V4.","pos":[886,956]},{"pos":[961,975],"content":"What is OData?","linkify":"What is OData?","nodes":[{"content":"What is OData?","pos":[0,14]}]},{"content":"OData is a standard protocol for creating and consuming data.","pos":[976,1037]},{"content":"The purpose of OData is to provide a Representational State Transfer (REST)–based protocol for Create, Read, Update, and Delete (CRUD)–style operations.","pos":[1038,1190]},{"content":"OData applies web technologies such as HTTP and JavaScript Object Notation (JSON) to provide access to information from various programs.","pos":[1191,1328]},{"content":"OData provides the following benefits:","pos":[1329,1367]},{"content":"It lets developers interact with data by using RESTful web services.","pos":[1373,1441]},{"content":"It provides a simple and uniform way to share data in a discoverable fashion.","pos":[1446,1523]},{"content":"It enables broad integration across products.","pos":[1528,1573]},{"content":"It enables integration by using the HTTP protocol stack.","pos":[1578,1634]},{"content":"For more information about OData, see the following webpages.","pos":[1636,1697]},{"content":"To learn about this topic","pos":[1701,1726]},{"content":"See this webpage","pos":[1784,1800]},{"content":"Open Data Protocol Standards","pos":[1987,2015]},{"pos":[2070,2107],"content":"<bpt id=\"p1\">&lt;</bpt>http://www.odata.org/documentation/<ept id=\"p1\">&gt;</ept>","source":"<http://www.odata.org/documentation/>"},{"content":"Open Data Protocol: Data access for the web, the cloud, mobile devices, and more","pos":[2113,2193]},{"pos":[2196,2248],"content":"<bpt id=\"p1\">&lt;</bpt>http://msdn.microsoft.com/en-us/data/hh237663.aspx<ept id=\"p1\">&gt;</ept>","source":"<http://msdn.microsoft.com/en-us/data/hh237663.aspx>"},{"content":"Open Data Protocol by example","pos":[2256,2285]},{"pos":[2339,2394],"content":"<bpt id=\"p1\">&lt;</bpt>http://msdn.microsoft.com/en-us/library/ff478141.aspx<ept id=\"p1\">&gt;</ept>","source":"<http://msdn.microsoft.com/en-us/library/ff478141.aspx>"},{"content":"The public OData service endpoint that enables access to data in a consistent way across a broad range of clients.","pos":[2398,2512]},{"content":"To see a list of all the entities that are exposed, open the OData service root URL.","pos":[2513,2597]},{"content":"The URL for the service root on your system has the following format: <ph id=\"ph1\">`[Your Organization Root URL]/data`</ph>.","pos":[2598,2704],"source":" The URL for the service root on your system has the following format: `[Your Organization Root URL]/data`."},{"pos":[2709,2719],"content":"Addressing","linkify":"Addressing","nodes":[{"content":"Addressing","pos":[0,10]}]},{"content":"The following table describes the resources and the corresponding URLs in the Fleet Management sample.","pos":[2720,2822]},{"content":"Resource","pos":[2826,2834]},{"content":"URL","pos":[2848,2851]},{"content":"Description","pos":[2920,2931]},{"content":"Service endpoint","pos":[3148,3164]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/","pos":[3170,3206],"source":"\\[Your Organization Root URL\\]/data/"},{"content":"The root service endpoint for OData entities","pos":[3242,3286]},{"content":"Entity collection","pos":[3309,3326]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers","pos":[3331,3376],"source":"\\[Your Organization Root URL\\]/data/Customers"},{"content":"The collection of all customers","pos":[3403,3434]},{"content":"Entity","pos":[3470,3476]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers(“<ph id=\"ph3\">\\[</ph>key<ph id=\"ph4\">\\]</ph>”)","pos":[3492,3548],"source":"\\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)"},{"content":"A single entity from the entity collection","pos":[3564,3606]},{"content":"Navigation property","pos":[3631,3650]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers(“<ph id=\"ph3\">\\[</ph>key<ph id=\"ph4\">\\]</ph>”)/Reservations","pos":[3653,3722],"source":"\\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)/Reservations"},{"content":"The navigation from a customer to that customer's reservations","pos":[3725,3787]},{"content":"Property","pos":[3792,3800]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers(“<ph id=\"ph3\">\\[</ph>key<ph id=\"ph4\">\\]</ph>”)/FirstName","pos":[3814,3880],"source":"\\[Your Organization Root URL\\]/data/Customers(“\\[key\\]”)/FirstName"},{"content":"The customer’s first name","pos":[3886,3911]},{"pos":[3955,3978],"content":"Exposing OData entities","linkify":"Exposing OData entities","nodes":[{"content":"Exposing OData entities","pos":[0,23]}]},{"content":"OData entities are based on the concept of an updatable view.","pos":[3979,4040]},{"content":"When the <bpt id=\"p1\">**</bpt>IsPublic<ept id=\"p1\">**</ept> property for an updatable view is set to <bpt id=\"p2\">**</bpt>TRUE<ept id=\"p2\">**</ept>, that view is exposed as a top-level OData entity.","pos":[4041,4163],"source":" When the **IsPublic** property for an updatable view is set to **TRUE**, that view is exposed as a top-level OData entity."},{"pos":[4168,4220],"content":"Setting navigation properties between OData entities","linkify":"Setting navigation properties between OData entities","nodes":[{"content":"Setting navigation properties between OData entities","pos":[0,52]}]},{"content":"Links between OData entities are described by a navigation property.","pos":[4221,4289]},{"content":"Navigation properties describe the navigation from one end of an association to the other end.","pos":[4290,4384]},{"pos":[4389,4421],"content":"Adding actions on OData entities","linkify":"Adding actions on OData entities","nodes":[{"content":"Adding actions on OData entities","pos":[0,32]}]},{"content":"Actions provide a way to inject behaviors into the data model.","pos":[4422,4484]},{"content":"To add actions, add a method to the updatable view, and decorate that method with specific attributes.","pos":[4485,4587]},{"content":"Here is an example.","pos":[4588,4607]},{"content":"In this example, the <bpt id=\"p1\">**</bpt>SysODataActionAttribute<ept id=\"p1\">**</ept> class decorates the <bpt id=\"p2\">**</bpt>CalculateMaintenanceDuration<ept id=\"p2\">**</ept> method that is exposed as an action.","pos":[4772,4910],"source":"In this example, the **SysODataActionAttribute** class decorates the **CalculateMaintenanceDuration** method that is exposed as an action."},{"content":"The first argument of the attribute is the publicly exposed name of the action, and the second argument indicates whether this action is always available.","pos":[4911,5065]},{"content":"Methods that are exposed as actions can return any primitive type or another public updatable view.","pos":[5066,5165]},{"content":"After this method is exposed, it appears in the OData $metadata.","pos":[5166,5230]},{"content":"Here is an example.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>1<ph id=\"ph2\">\\_</ph>Odata<ept id=\"p1\">](./media/1_odata.png)](./media/1_odata.png)</ept> The following example of an OData action takes in a parameter and returns a list.","pos":[5231,5387],"source":" Here is an example.[![1\\_Odata](./media/1_odata.png)](./media/1_odata.png) The following example of an OData action takes in a parameter and returns a list."},{"content":"In this example, the <bpt id=\"p1\">**</bpt>SysODataCollectionAttribute<ept id=\"p1\">**</ept> class enables OData to expose strongly typed collections from X++.","pos":[5695,5814],"source":"In this example, the **SysODataCollectionAttribute** class enables OData to expose strongly typed collections from X++."},{"content":"This class takes in three parameters:","pos":[5815,5852]},{"pos":[5858,5950],"content":"The name of the parameter that is a list (use <bpt id=\"p1\">**</bpt>return<ept id=\"p1\">**</ept> for the return value of the method)","source":"The name of the parameter that is a list (use **return** for the return value of the method)"},{"content":"The X++ type for the members of this list","pos":[5955,5996]},{"content":"The public name of the OData resource that is contained in the collection","pos":[6001,6074]},{"content":"After these actions are exposed, they can be invoked from the service root URL.","pos":[6076,6155]},{"pos":[6158,6291],"content":"You can find actions that are defined on data entities by searching for the <bpt id=\"p1\">**</bpt>SysODataActionAttribute<ept id=\"p1\">**</ept> attribute in the source code.","source":"You can find actions that are defined on data entities by searching for the **SysODataActionAttribute** attribute in the source code."},{"pos":[6296,6334],"content":"Querying or browsing an OData endpoint","linkify":"Querying or browsing an OData endpoint","nodes":[{"content":"Querying or browsing an OData endpoint","pos":[0,38]}]},{"content":"OData enables an SQL-like language for creating rich queries against the database to include only those data items that you want in the results.","pos":[6335,6479]},{"content":"To create a query, append criteria to the resource path.","pos":[6480,6536]},{"content":"For example, you can query the <bpt id=\"p1\">**</bpt>Customers<ept id=\"p1\">**</ept> entity collection by appending the following query options in your browser.","pos":[6537,6657],"source":" For example, you can query the **Customers** entity collection by appending the following query options in your browser."},{"content":"URL","pos":[6661,6664]},{"content":"Description","pos":[6736,6747]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers","pos":[7007,7052],"source":"\\[Your Organization Root URL\\]/data/Customers"},{"content":"List all the customers.","pos":[7082,7105]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers?$top=3","pos":[7180,7232],"source":"\\[Your Organization Root URL\\]/data/Customers?$top=3"},{"content":"List the first three records.","pos":[7255,7284]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers?$select=FirstName,LastName","pos":[7353,7425],"source":"\\[Your Organization Root URL\\]/data/Customers?$select=FirstName,LastName"},{"content":"List all the customers, but show only the first name and last name properties.","pos":[7428,7506]},{"content":"<ph id=\"ph1\">\\[</ph>Your Organization Root URL<ph id=\"ph2\">\\]</ph>/data/Customers?$format=json","pos":[7526,7584],"source":"\\[Your Organization Root URL\\]/data/Customers?$format=json"},{"content":"List all the customers in a JSON format that can be used to interact with JavaScript clients.","pos":[7601,7694]},{"content":"The OData protocol supports many similar filtering and querying options on entities.","pos":[7698,7782]},{"content":"For the full set of query options, see <bpt id=\"p1\">[</bpt>Windows Communication Foundation<ept id=\"p1\">](http://msdn.microsoft.com/en-us/library/ff478141.aspx)</ept>.","pos":[7783,7912],"source":" For the full set of query options, see [Windows Communication Foundation](http://msdn.microsoft.com/en-us/library/ff478141.aspx)."},{"pos":[7917,7931],"content":"Authentication","linkify":"Authentication","nodes":[{"content":"Authentication","pos":[0,14]}]},{"content":"OData sits on the same authentication stack as the server.","pos":[7932,7990]},{"content":"For more information about the authentication, see <bpt id=\"p1\">[</bpt>Service endpoints<ept id=\"p1\">](services-home-page.md)</ept>.","pos":[7991,8085],"source":" For more information about the authentication, see [Service endpoints](services-home-page.md)."}]}