{"content":"---\n# required metadata\n\ntitle: Take a trace using Trace parser\ndescription: This tutorial provides guidelines on how to take traces.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 25471\nms.assetid: 607c1810-f872-4b23-a2c7-ee01522d90e3\nms.search.region: Global\n# ms.search.industry: \nms.author: chwolf\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Take a trace using Trace parser\n\n[!include[banner](../includes/banner.md)]\n\n\nThis tutorial provides guidelines on how to take traces.\n\nIn this tutorial, you'll take a tour of how to collect and download traces. The trace analysis tool works largely similar to the Dynamics AX 2012 version yet it is not backward compatible and you can't use it to analyze Dynamics AX 2012 traces. The trace parser tool can be found in the PerfSDK folder on your development deployments.\n\n## Prerequisites\nThis tutorial requires that you access the environment as an administrator on the instance. The administrator can also grant rights to other users to take a trace. In this way you can trace scenarios which can't be reproduced with administrative rights.\n\n## Capture the trace\n1.  Before you trace make sure your scenario is in a \"Warm\" state meaning you executed the scenario you want to trace once before you take the trace. That will prevent things like metadata loading and other possible warm up tasks from being in the trace.\n2.  In the navigation bar, select **Settings**, and then click **Trace**. \n\n    [![Trace1](./media/trace1-300x176.jpg)](./media/trace1.jpg)\n    \n3.  Name the trace that you are about to capture, and then click **Start trace**.\n4.  Perform actions that need to be analyzed like for example opening \"Accounts payable &gt; Vendors &gt; All vendors\".\n5.  When you are finished, click **Stop trace**. Then, you can select one of the following options (for this tutorial, select the second option):\n    -   **Download trace** – Store the captured trace on a local machine. You can analyze a downloaded trace with the desktop version of Trace Parser. **Note**: If you download a trace it will not be available for later uploading.\n    -   **Upload trace **– Store the trace in the cloud for later downloading by for example the admin, it will be automatically deleted after 7 days and can also be deleted manually from the captured traces form.\n\n**Please note:** If your scenario takes more than 1-2 minutes it is better to try to take multiple smaller traces of 30 seconds each as the trace will likely get too big to be easily analyzed and there is a risk for losing data if the trace gets too big.\n\n## Assign trace rights to user\n1.  To give a user rights to capture a trace, go to \"System administration &gt; Users &gt; Users\".\n2.  Select the user and assign the \"System tracing user\" role. \n\n    [![trace2](./media/trace2-284x300.jpg)](./media/trace2.jpg)\n    \n    Remove the user role again once the user is done with tracing to avoid unwanted tracing.\n\n## Open captured trace\n1.  In the navigation bar, select **Settings**, and then click **Trace**.\n2.  Click on Captured traces. **Note:** The captured traces button can only be seen by users with administrative rights.\n3.  Click on the trace name to download to open and analyze it with the desktop version of trace parser or\n4.  Click on the user name to get to the user options.\n5.  Delete the trace if you want. You might do this if you have downloaded it.\n\n**Note: **The trace will be deleted after 7 days. For more information about the desktop version of trace parser, see [Trace parser: Using the desktop version to diagnose problems and analyze performance issues](trace-parser.md).\n\n\n\n","nodes":[{"pos":[4,639],"embed":true,"content":"# required metadata\n\ntitle: Take a trace using Trace parser\ndescription: This tutorial provides guidelines on how to take traces.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 25471\nms.assetid: 607c1810-f872-4b23-a2c7-ee01522d90e3\nms.search.region: Global\n# ms.search.industry: \nms.author: chwolf\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Take a trace using Trace parser","nodes":[{"pos":[0,31],"content":"Take a trace using Trace parser","nodes":[{"content":"Take a trace using Trace parser","pos":[0,31]}]}],"path":["title"]},{"content":"This tutorial provides guidelines on how to take traces.","nodes":[{"pos":[0,56],"content":"This tutorial provides guidelines on how to take traces.","nodes":[{"content":"This tutorial provides guidelines on how to take traces.","pos":[0,56]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[647,678],"content":"Take a trace using Trace parser","linkify":"Take a trace using Trace parser","nodes":[{"content":"Take a trace using Trace parser","pos":[0,31]}]},{"content":"This tutorial provides guidelines on how to take traces.","pos":[724,780]},{"content":"In this tutorial, you'll take a tour of how to collect and download traces.","pos":[782,857]},{"content":"The trace analysis tool works largely similar to the Dynamics AX 2012 version yet it is not backward compatible and you can't use it to analyze Dynamics AX 2012 traces.","pos":[858,1026]},{"content":"The trace parser tool can be found in the PerfSDK folder on your development deployments.","pos":[1027,1116]},{"pos":[1121,1134],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"This tutorial requires that you access the environment as an administrator on the instance.","pos":[1135,1226]},{"content":"The administrator can also grant rights to other users to take a trace.","pos":[1227,1298]},{"content":"In this way you can trace scenarios which can't be reproduced with administrative rights.","pos":[1299,1388]},{"pos":[1393,1410],"content":"Capture the trace","linkify":"Capture the trace","nodes":[{"content":"Capture the trace","pos":[0,17]}]},{"content":"Before you trace make sure your scenario is in a \"Warm\" state meaning you executed the scenario you want to trace once before you take the trace.","pos":[1415,1560]},{"content":"That will prevent things like metadata loading and other possible warm up tasks from being in the trace.","pos":[1561,1665]},{"pos":[1670,1739],"content":"In the navigation bar, select <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Trace<ept id=\"p2\">**</ept>.","source":"In the navigation bar, select **Settings**, and then click **Trace**."},{"pos":[1746,1805],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Trace1<ept id=\"p1\">](./media/trace1-300x176.jpg)](./media/trace1.jpg)</ept>","source":"[![Trace1](./media/trace1-300x176.jpg)](./media/trace1.jpg)"},{"pos":[1815,1892],"content":"Name the trace that you are about to capture, and then click <bpt id=\"p1\">**</bpt>Start trace<ept id=\"p1\">**</ept>.","source":"Name the trace that you are about to capture, and then click **Start trace**."},{"content":"Perform actions that need to be analyzed like for example opening \"Accounts payable <ph id=\"ph1\">&amp;gt;</ph> Vendors <ph id=\"ph2\">&amp;gt;</ph> All vendors\".","pos":[1897,2012],"source":"Perform actions that need to be analyzed like for example opening \"Accounts payable &gt; Vendors &gt; All vendors\"."},{"content":"When you are finished, click <bpt id=\"p1\">**</bpt>Stop trace<ept id=\"p1\">**</ept>.","pos":[2017,2061],"source":"When you are finished, click **Stop trace**."},{"content":"Then, you can select one of the following options (for this tutorial, select the second option):","pos":[2062,2158]},{"content":"<bpt id=\"p1\">**</bpt>Download trace<ept id=\"p1\">**</ept> – Store the captured trace on a local machine.","pos":[2167,2232],"source":"**Download trace** – Store the captured trace on a local machine."},{"content":"You can analyze a downloaded trace with the desktop version of Trace Parser.","pos":[2233,2309]},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>: If you download a trace it will not be available for later uploading.","pos":[2310,2389],"source":"**Note**: If you download a trace it will not be available for later uploading."},{"content":"**Upload trace **– Store the trace in the cloud for later downloading by for example the admin, it will be automatically deleted after 7 days and can also be deleted manually from the captured traces form.","pos":[2398,2603]},{"pos":[2605,2859],"content":"<bpt id=\"p1\">**</bpt>Please note:<ept id=\"p1\">**</ept> If your scenario takes more than 1-2 minutes it is better to try to take multiple smaller traces of 30 seconds each as the trace will likely get too big to be easily analyzed and there is a risk for losing data if the trace gets too big.","source":"**Please note:** If your scenario takes more than 1-2 minutes it is better to try to take multiple smaller traces of 30 seconds each as the trace will likely get too big to be easily analyzed and there is a risk for losing data if the trace gets too big."},{"pos":[2864,2891],"content":"Assign trace rights to user","linkify":"Assign trace rights to user","nodes":[{"content":"Assign trace rights to user","pos":[0,27]}]},{"content":"To give a user rights to capture a trace, go to \"System administration <ph id=\"ph1\">&amp;gt;</ph> Users <ph id=\"ph2\">&amp;gt;</ph> Users\".","pos":[2896,2990],"source":"To give a user rights to capture a trace, go to \"System administration &gt; Users &gt; Users\"."},{"content":"Select the user and assign the \"System tracing user\" role.","pos":[2995,3053]},{"pos":[3060,3119],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>trace2<ept id=\"p1\">](./media/trace2-284x300.jpg)](./media/trace2.jpg)</ept>","source":"[![trace2](./media/trace2-284x300.jpg)](./media/trace2.jpg)"},{"content":"Remove the user role again once the user is done with tracing to avoid unwanted tracing.","pos":[3129,3217]},{"pos":[3222,3241],"content":"Open captured trace","linkify":"Open captured trace","nodes":[{"content":"Open captured trace","pos":[0,19]}]},{"pos":[3246,3315],"content":"In the navigation bar, select <bpt id=\"p1\">**</bpt>Settings<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Trace<ept id=\"p2\">**</ept>.","source":"In the navigation bar, select **Settings**, and then click **Trace**."},{"content":"Click on Captured traces.","pos":[3320,3345]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The captured traces button can only be seen by users with administrative rights.","pos":[3346,3436],"source":"**Note:** The captured traces button can only be seen by users with administrative rights."},{"content":"Click on the trace name to download to open and analyze it with the desktop version of trace parser or","pos":[3441,3543]},{"content":"Click on the user name to get to the user options.","pos":[3548,3598]},{"content":"Delete the trace if you want.","pos":[3603,3632]},{"content":"You might do this if you have downloaded it.","pos":[3633,3677]},{"content":"**Note: **The trace will be deleted after 7 days.","pos":[3679,3728]},{"content":"For more information about the desktop version of trace parser, see <bpt id=\"p1\">[</bpt>Trace parser: Using the desktop version to diagnose problems and analyze performance issues<ept id=\"p1\">](trace-parser.md)</ept>.","pos":[3729,3908],"source":" For more information about the desktop version of trace parser, see [Trace parser: Using the desktop version to diagnose problems and analyze performance issues](trace-parser.md)."}]}