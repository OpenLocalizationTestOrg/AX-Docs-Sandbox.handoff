{"content":"---\n# required metadata\n\ntitle: Create an archive object for the Intelligent Data Management Framework\ndescription: This topic describes how to use archive objects.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: dynamics-ax-2012 \nms.service: \nms.technology: ax-2012\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \n# ms.reviewer: 51\nms.search.scope: AX 2012, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 17931\nms.assetid: 4d3e61d1-48aa-4e39-8112-6d211a1d0209\nms.search.region: Global\n# ms.search.industry: \nms.author: kfend\nms.search.validFrom: \nms.dyn365.ops.version: 2012\n\n---\n\n# Create an archive object for the Intelligent Data Management Framework\n\n[!include[banner](../../includes/banner.md)]\n\n\n\n\nOverview of Archive Objects\n---------------------------\n\nAn Archive Object is a hierarchical relationship tree that you create based on a driver table. The Archive Object archives transactional records from the production database, based on the rules and selection criteria you created in the Archive Object. This topic refers to archiving as copying records from the production database to the archive database, and then deleting these records from the production database. You can create an Archive Object based either on the templates that are included in IDMF or on the discovery process.\n\n| **Caution**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| To use this topic, you must have experience in the maintenance and administration of the Microsoft Dynamics AX application and database. IDMF lets you create an Archive Object that defines a hierarchical relationship tree among the Microsoft Dynamics AX application tables. You can then apply rules to select records based on specific criteria. Records matching the selection criteria from the whole relationship tree in the Archive Object are moved from the production database to the archive database. Improper use of this framework can cause unexpected results, database corruption, and application downtime requiring full database and application recovery. Exercise extreme caution, and thoroughly test your recycling strategy in a test environment before working in the production environment. |\n\n## Overview of the data archiving process\nThe archive function archives records by using a scheduled archive task. At run time, an archive task completes these tasks:\n\n-   Select qualifying records from the driver table, based on rules that are defined for the driver table.\n-   Select qualifying records from all child tables, based on the parent-child relationship.\n-   Copy the qualifying records from the production database to the archive database.\n-   Delete the qualifying records from the production database.\n\n## Considerations for Archive Objects, driver tables, relations, and rules\nConsider the following points when working with an Archive Object:\n\n-   Verify that the table you select as the driver table for an Archive Object is a header table, such as **SalesTable**. A good indication, although not always accurate, is that the **TableGroup** value for such a table is **WorkSheetHeader**, **Miscellaneous**, or **Transaction**.\n-   Tables with a **TableGroup** value of **Main**, **Parameter**, **Group**, and **WorkSheetLine** cannot be driver tables.\n-   The driver table becomes the root parent in the hierarchical relationship tree. IDMF queries the **XRefTableRelation** table to determine the parent-child relationships.\n-   Archiving records based on an Archive Object may cause data inconsistency in your application in these conditions:\n    -   The driver table has known parent tables.\n    -   The driver table has known child tables that are not added to the Archive Object as a relation.\n-   Always minimize the Archive Object, and keep only necessary relations and rules for your implementations. Consider removing a table from the Archive Object in these conditions:\n    -   The table does not contain any data, and it is not likely to contain data in the future.\n    -   The table stores only transient data, such as **SalesParmTable** or **SpecTrans**.\n    -   The table stores open transactions, such as **CustTransOpen** or **VendTransOpen**.\n    -   The table creates nested relationships. If a table appears multiple times on different levels in the relationship tree, with the same qualifying relationship condition or set of primary keys, consider keeping the occurrence only in the lowest-numbered level in the relationship tree.\n-   If a table is related to the driver table and makes its own Archive Object, it is a good candidate to be a driver table itself. For example, if you use **SalesTable** as a driver table, it discovers **PurchTable** for intercompany. In this case, consider making **PurchTable** a separate Archive Object. If the driver table and the child table are from different functional areas, and if the child table is a good candidate to be archived separately, create a separate, independent Archive Object. Consider making this child table a Related Archive Object in these conditions:\n    -   This driver table and its child table must be archived together because of functional or relational dependencies.\n    -   You have to add rules for correct archiving of the child table. You can only add rules for the driver table. To add rules for the child table, it has to be the driver table of a Related Archive Object. Be sure that the rules you add to the Related Archive Object do not adversely affect the archiving from the parent Archive Object.\n-   There may be multiple relationships between two tables. In that case, evaluate the relationships and functionality carefully. We recommend that you use only a single relationship in the Archive Object. However, you can use multiple relationships if necessary. Be sure to select a valid relationship using a unique index or primary key, if one exists.\n-   Do not use the archive templates that are included with IDMF to create your Archive Objects. These templates are created in a specific Microsoft Dynamics AX application and may not match your implementation. Instead, use the discovery option to create your own objects, and compare them with the templates. Tables in the templates may not be valid for your implementation. Some valid and known tables may not appear in your discovered object. Carefully analyze any difference between the objects you created through the discovery process and the templates, to determine the cause of the difference. Manually add or remove tables from the Purge Objects and Archive Objects to fit your requirements.\n-   Be sure that relationships among tables are set correctly. Be sure that the **TableGroup** property is set for all custom tables.\n-   Verify that the relationship tree that you have created in the Archive Object archives the intended data from your system. An Archive Object that you create must look at all related records. Missing relationships lead to orphaned data.\n-   A table in the relationship tree becomes part of the archive function and becomes disabled from the master data tables list.\n\n| **Caution**                                                                                                                                                                                                                                                                                                         |\n|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Thoroughly test the effect of your Archive Objects and your archive strategy on your database and application in a test environment that resembles your production environment. Test all business processes, and obtain user sign-off before trying to implement the Archive Objects in the production environment. |\n\n## Overview of Related Archive Objects\nThe relationship tree of an Archive Object can be very complex. In order to archive data from all the related tables, complex relationship trees have to be managed. In some cases, one relationship tree has to include another relationship tree to guarantee data integrity and functionally valid archiving of data. Due to this complexity, you can create a relationship between two independent Archive Objects by adding one Archive Object in the other Archive Object. The child Archive Object is called the Related Archive Object and forms a relationship with the parent Archive Object. An archive task archives selected records from all the tables in the Archive Object and the Related Archive Object. The following steps provide a walkthrough of an Archive Object with a Related Archive Object:\n1.  Use the Microsoft Dynamics AX Windows client to work with the Application Object Tree (AOT). In the AOT, expand **Data Dictionary** &gt; **Tables** &gt; **CustInvoiceSalesLink** &gt; **Relations**. Note that the **CustInvoiceSalesLink** table has two parents, **SalesTable** and **CustInvoiceJour**. Expand the **Relations** node for the **CustInvoiceJour** table. Note that the **CustInvoiceJour** table does not have a relationship with **SalesTable** in the AOT.\n2.  In IDMF, click **Configure** &gt; **Archive templates/Archive Object** &gt; **SalesTable** to open the **SalesTable** Archive Object.\n3.  Review the hierarchical tree, and understand the parent-child relationship. Notice that the **CustInvoiceSalesLink** table from step 1 is not in the relationship tree as a child of **SalesTable**, even though the AOT shows a relationship between the two tables. Notice that the relationship tree contains two oval shapes, named **CustInvoiceJour** and **CustPackingSlipJour**. These oval shapes represent Related Archive Objects for **SalesTable**. A Related Archive Object is an Archive Object that is part of the relationship tree of a parent Archive Object.\n4.  Double-click **CustInvoiceJour**. Notice that the **CustInvoiceJour** Archive Object opens and shows the **SalesTable** in a green rectangle next to the root table, **CustInvoiceJour**. The green rectangle highlights **SalesTable** as the parent Archive Object of the **CustInvoiceJour** Archive Object. Note that the **CustInvoiceSalesLink** table is a child table of the **CustInvoiceJour** table. Double-click **SalesTable** to return to the parent Archive Object.\n5.  Right-click **CustInvoiceJour**, and select **View relation**. In the **Configure Related Archive Object** window, review the relationship between the **SalesTable** and **CustInvoiceJour** tables, and then click **Close** to close the window.\n6.  In the **SalesTable** Archive Object, right-click **CustInvoiceJour**, and select **Remove**. Confirm that the Related Archive Object **CustInvoiceJour** is removed.\n7.  Right-click **SalesTable**, and select **Add Related Archive Object**.\n8.  In the **Configure Related Archive Object** window, follow these steps:\n\n    1.  In the **Select Related Archive Object** list, select **CustInvoiceJour**. Click **New relation**.\n    2.  In the **Configure relations for Related Archive Object** pane, enter SalesTable in the **Relation name** field.\n    3.  Enter a valid description in the **Relation description** field.\n    4.  In the **Configure relations** pane, use the following table to select fields, and then click **Add**.\n        \n        | From the list          | Select the value    |\n        |------------------------|---------------------|\n        | **Table name**         | **SalesTable**      |\n        | **Field name**         | **dataAreaId**      |\n        | **Condition**          | **=**               |\n        | **Related table name** | **CustInvoiceJour** |\n        | **Related field name** | **dataAreaID**      |\n\n    5.  Click **New Relation**. Using the previous step, use the **SalesID** field to create a relationship between the **SalesTable** and **CustInvoiceJour** tables. Click **Add**.\n    6.  Verify that the **SalesTable** and **CustInvoiceJour** tables are related using the **DataAreaId** and **SalesID** fields.\n    7.  Click **Save**. Click **OK**. Click **Close** to return to the parent SalesTable Archive Object.\n    8.  Verify that the SalesTable Archive Object contains the CustInvoiceJour Related Archive Object.\n    9.  Click **Save**. In the **Save as** dialog box, type SalesTable\\_a, and then click **Save**. Click **OK** to continue. You must save an Archive Object with a new name.\n    10. Click **Properties** on the upper-right side of the relationship tree workspace, and pin the **Properties** window to the workspace. In the relationship tree, right-click the **Related Archive Object CustInoviceJour**, and then click **Remove**. In the **Properties** window, click **Revert**. The revert action reverses the changes you have made since the last time you clicked **Save**. The revert action here brings back the Related Archive Object **CustInvoiceJour**, because you did not click **Save** after you removed the Related Archive Object.\n    11. Remove the Related Archive Object **CustInvoiceJour** again. Save the Archive Object as **SalesTable\\_deleted**.\n    12. On the toolbar, click **Archive templates/Archive Object**. Compare the icon of the SalesTable Archive Object with other objects in the list, and notice the difference. The icon indicates that you have opened the default template and saved it as an Archive Object. You can only use an Archive Object, and not an archive template, in an archive task. Click **SalesTable**. Notice that IDMF opens the Archive Object you just saved as **SalesTable\\_deleted**. IDMF lets you save multiple versions of the Archive Object and uses the most recently saved version of the Archive Object.\n    13. On the toolbar, click **Show versions**. In the **Version history** window, select **SalesTable** in the **Archive template** list. Notice that the **Archive Object** list displays the different versions of **SalesTable**, with the most recent version at the top. An archive task uses the most recent version of the Archive Object.\n\n    This walkthrough explained the concept of including a Related Archive Object in an Archive Object. You must understand the Microsoft Dynamics AX metadata and functionality thoroughly before working with an Archive Object or including a Related Archive Object in a parent Archive Object.\n\n    Understanding the Archive Object exception list\n    -----------------------------------------------\n\n    IDMF lets you create an exception parameters list as detailed in a later section of this topic. The exception parameters list applies globally to all purge templates, Purge Objects, archive templates, and Archive Objects. In addition to the exception parameters list, IDMF lets you maintain an exception tables list specifically for Archive Objects. When you create a new Archive Object and select the driver table, IDMF displays the Archive Object exception tables window. The exception list contains tables that you can use as driver tables to create a separate and independent Archive Object. Carefully evaluate these tables to determine whether you want to include them in the relationship tree as related child tables or as Related Archive Objects. The discovery process ignores all tables in the Archive Object exception tables list and does not include them in the relationship tree, even if a relationship exists. To include a table from the Archive Object exception tables list, deselect the table, and click **Save** before you click **Continue** to begin the discovery process. In this case, the discovery process includes the deselected table if a relationship exists. You can also add other tables to the list and select to exclude the newly added table from the discovery process.\n\n    Navigation of the Archive Object exception tables window\n    --------------------------------------------------------\n\n    The following tables provide descriptions for the controls in this window.\n    #### Panes\n\n    | Pane                        | Description                                                                                                                                           |\n    |-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | **Main** window             | Provides the driver table, and a list of exception tables for this driver table. The list of exception tables changes, depending on the driver table. |\n    | **Add new exception table** | Provides controls to add a table to the exception tables list.                                                                                        |\n\n    #### \n\n    #### Buttons (main window)\n\n    | Button       | Description                                                                                                 |\n    |--------------|-------------------------------------------------------------------------------------------------------------|\n    | **Save**     | Save the changes to the exception tables list, such as change to the **Status** field and any added tables. |\n    | **Continue** | Continue with the discovery process for the Archive Object.                                                 |\n\n    #### \n\n    #### Buttons (Add new exception tables pane)\n\n    | Button    | Description                                                                                                                       |\n    |-----------|-----------------------------------------------------------------------------------------------------------------------------------|\n    | **Add**   | Add the selected table to the exception tables list. You must select a table in the **Table name** list before you click **Add**. |\n    | **Clear** | Clear the **Table name** list.                                                                                                    |\n\n    #### \n\n    #### Fields (main window)\n\n    | Field                | Description                                                                                                                                                                                                                                                    |\n    |----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | **Table name**       | The name of the driver table.                                                                                                                                                                                                                                  |\n    | **Exception tables** | The names of the exception tables. Each table in the list can become a driver table.                                                                                                                                                                           |\n    | **Status**           | A table with the **Status** field selected is not added to the relationship tree during the discovery process, even if a relationship exists. If the **Status** field is not selected, the table is added to the relationship tree if there is a relationship. |\n    | Modified by          | The Windows ID of the user who changed the status of an existing table or added a new table to the list.                                                                                                                                                       |\n\n    #### \n\n    #### Fields (Add exception list)\n\n    | Field          | Description                                                         |\n    |----------------|---------------------------------------------------------------------|\n    | **Table name** | Select the table that you want to add to the exception tables list. |\n\n     Create a new Archive Object\n    ----------------------------\n\n    You can create an Archive Object by selecting a driver table and creating a relationship tree based on the driver table, instead of selecting a template that is included with IDMF. Follow these steps to create a new Archive Object:\n    1.  On the toolbar, click **Create Archive Object**.\n    2.  In the **Create Archive Object** dialog box, select a table from the **Driver table** list. The list excludes tables from the exception parameters list, which is covered later in this topic. Navigate to and select **WMSOrder**. A driver table is the parent table that defines the relationship tree for a specific Archive Object. In an Archive Object, the driver table may have child entities but does not have a parent entity in the relationship tree.\n    3.  To continue, you must select the most unique index for the table. This index is used to create the parent-child relationship in the Archive Object. In the Unique keys field, select orderid. The **WMSOrderIdx** index is created by using the **orderid** field.\n    4.  Click **Discover**. In the **Archive Object exception tables** dialog box, review the exception tables list carefully. If you want a table from the list to be included in the relationship tree, clear the **Status** field. Use the **Add new exception table** pane to add a new table to the list. The **Status** field for the newly added table is selected by default. Click **Save** to save your changes in the Archive Object exception tables window. Click **Continue** to start the discovery process and create the Archive Object.\n**Note**: The **Administer** &gt; **Discovery** command lets you maintain an exception parameters list. A table that belongs to the exception parameters list, with Archive discovery selected, is excluded from the relationship tree when the Archive Object is created, even if there is a relationship between the driver table and the excluded table.\n\n    Using the metadata that is imported from the Microsoft Dynamics AX database, the exception parameters, and the Archive Object exception tables list, IDMF generates a hierarchical relationship tree. The relationship tree starts with the driver table, in level 0, and creates a hierarchy of parent-child relationships. Make sure that your Archive Object resembles the following screen shot. Do not save the Archive Object. \n    \n    ![IDMF Archive Object Expanded](./media/idmfarchiveobjectexpanded.png) \n    \n    The relationship tree in this Archive Object is five levels deep. Level 0, the topmost level, contains the driver table, **WMSOrder**. Level 1 contains the child entities of the driver table. Level 2 contains child entities of tables in level 1. The last level, level 4, contains the child entities of tables in level 3. This relationship tree is created based on the following data:\n    -   The Microsoft Dynamics AX metadata. The discovery process uses the metadata to create a list of related tables that form the parent-child hierarchy based on the driver table.\n    -   The exception parameters. Tables that belong to the exception parameters list are filtered out of the relationship tree. Use the **Administer** menu to configure the exception parameters.\n    -   The tables listed in the Archive Object exception tables dialog box. The tables you selected in this dialog box are also filtered out of the hierarchical relationship tree.\n\n    | **Caution**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n    |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | Tables that you configure as master tables by clicking **Administer** &gt; **Master data tables** are replicated from the production database to the archive database by a master data synchronization task. The relationship tree created by the discovery process may include tables that are configured as master tables. Verify the tables in the relationship tree, and remove any tables that must be treated as master tables. Right-click the table, and select **Add to data replicate** to remove the table from the relationship and configure it as a master data table. If you do not remove these tables, tables in the relationship tree are automatically removed from that master data synchronization list when you save the Archive Object. |\n\n    Verify the relationship tree, and assess the functional effect of the tree on your Microsoft Dynamics AX application. As a result of your assessment, you may have to manually add, modify, or remove some relations and rules. For example, click **Show versions** to display the Archive Object from the default template that is included with IDMF. Compare the relationship tree from the template with the relationship tree you created in the previous procedure. The relationship tree in the **WMSOrder** archive template differs from the **WMSOrder** Archive Object you created. The difference is caused by the modification made to the default template, based on the functionality assessment of the Microsoft Dynamics AX application. As demonstrated by this walkthrough, an Archive Object you create through discovery may not match the default template that is included with IDMF. Be careful with your selection of the driver table. If you select a table such as **ProdTable**, the relationship tree can go many levels deep, spanning many tables on each level. Such an Archive Object creates a complex relationship tree and increases the potential for error, and for resulting data corruption and application downtime. \n    \n    ![IDMF Archive Object with Invalid Tables](./media/idmfarchiveobjectwithinvalidtables.png)\n    \n    The default template that is included with IDMF may not match the metadata of your Microsoft Dynamics AX implementation. A table in the default template that is not found in the metadata from the production database is marked invalid. An invalid table appears with a dotted red border, as shown in Figure 2. You must remove invalid tables. When you use fields from valid tables to create relations and rules, IDMF validates those fields. A field with a disabled configuration key is considered invalid. A valid table with invalid fields is shown with a yellow dotted border. You must either remove valid tables with invalid rules from the relationship tree or fix the relationships before you can save the Archive Object.\n\n    Navigation of the Create Archive Object workspace\n    -------------------------------------------------\n\n    The following tables provide descriptions for the controls in this workspace.\n    #### Panes\n\n    <table>\n    <colgroup>\n    <col width=\"50%\" />\n    <col width=\"50%\" />\n    </colgroup>\n    <thead>\n    <tr class=\"header\">\n    <th>Pane</th>\n    <th>Description</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n    <td><strong>Relationship tree</strong> pane</td>\n    <td>Provides a graphical view of all the tables in the Archive Object. The following list provides controls and commands that you can use to navigate the relationship tree pane:\n    <ul>\n    <li>With the <strong><span class=\"ui\">Level</span></strong> slider, you can select a level and show only the tables at the selected and higher levels.</li>\n    <li>With the <strong><span class=\"ui\">Zoom</span></strong> slider, you can change the diagram size.</li>\n    <li>Right-click the driver table to work with the following commands:\n    <ul>\n    <li>Click <strong><span class=\"ui\">Add Related Archive Object</span></strong> to add a Related Archive Object.</li>\n    <li>Click <strong><span class=\"ui\">Remove all invalid tables</span></strong> to remove all invalid tables, together with all their related tables, from the nested hierarchy.</li>\n    </ul></li>\n    <li>Right-click a child table to work with the following commands:\n    <ul>\n    <li>Click <strong><span class=\"ui\">Remove</span></strong> to remove the selected table from the level, and to remove its nested child tables from the hierarchical tree. For example, the <strong>SpecTrans</strong> table appears in level 2 and level 3. If you right-click the table in level 2, and then select <strong><span class=\"ui\">Remove</span></strong>, the table is removed from level 2, together with its nested child relations. The occurrence of the table remains intact in level 3.</li>\n    <li>Click <strong><span class=\"ui\">Select all occurrences</span></strong> to display all occurrences of the selected table and its related tables in a dotted green border. In this case, the table <strong>SpecTrans</strong> is selected in levels 2 and 3, together with all its nested child relationships.</li>\n    <li>Click <strong><span class=\"ui\">Remove all occurrences</span></strong> to remove all occurrences of the selected table and its related tables. In this case, the table <strong>SpecTrans</strong> is removed from levels 2 and 3, together with all its nested child relationships. The removed tables appear in a gray shape with a solid red border.</li>\n    <li>Click <span class=\"ui\"><strong>Add to data replicate</strong></span> to remove the selected table from the relationship tree and add it to the master tables list. This command performs these tasks:\n    <ol>\n    <li>Remove the selected table, together with all its nested child tables, from the relationship tree of all existing Archive Objects and archive templates.</li>\n    <li>Add the selected table to the <strong><span class=\"ui\">Recommended tables</span></strong> tab in the master data tables list (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Master data tables</span></strong>).</li>\n    </ol></li>\n    </ul></li>\n    <li>Click <strong><span class=\"ui\">Discover</span></strong> to regenerate the hierarchical parent-child relationship for the selected table. This command is available only when you select a table with the table group property of <strong><span class=\"ui\">WorkSheetHeader</span></strong>.</li>\n    </ul>\n    <div class=\"alert\">\n    <table>\n    <thead>\n    <tr class=\"header\">\n    <th><strong>Note</strong></th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class=\"odd\">\n    <td>A table with the symbol X in the top-right corner meets the row size or table size configuration in the Framework options window (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Framework options</span></strong>). Review these tables carefully to determine whether such tables have to be removed from the relationship and added to the master data tables list (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Master data tables</span></strong>). To add a table to the master data tables list, right-click the table, and then select <strong><span class=\"ui\">Add to data replicate</span></strong>.</td>\n    </tr>\n    </tbody>\n    </table>\n    </div></td>\n    </tr>\n    <tr class=\"even\">\n    <td><strong><span class=\"ui\">Properties</span></strong></td>\n    <td>Shows properties for the selected table and provides commands that you can use for the selected table.When a table in the Archive Object contains multiple relations, you can use the <span class=\"ui\">Relations</span> node in the tree view to disable one or more relations, as detailed later in this section.</td>\n    </tr>\n    <tr class=\"odd\">\n    <td><strong><span class=\"ui\">Remove table</span></strong></td>\n    <td>Provides a data grid that you can use to select tables that you want to remove from the relationship tree. This pane also provides an <span class=\"ui\">Advanced filter</span> control that you can use to filter the data grid.</td>\n    </tr>\n    <tr class=\"even\">\n    <td><strong><span class=\"ui\">Related Information</span></strong></td>\n    <td>Provides additional information for some of the tables. If related information is provided, read it carefully to understand the archive relevance of the table.</td>\n    </tr>\n    </tbody>\n    </table>\n\n    #### \n\n    #### Buttons\n\n    | Button                    | Description                                                                                                                                                                                                                                                                                              |\n    |---------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n    | **Remove**                | Remove tables that are selected in the data grid in the **Remove table** pane. When you remove a table, all the child tables for the selected table are removed. The removal spans the whole relationship tree, and all nested parent-child relations for the selected table's child tables are removed. |\n    | **Revert**                | Reverse the modifications made to the Archive Object, back to the last save. This resembles an \"undo\" command.                                                                                                                                                                                           |\n    | **Show allShow selected** | Show all tables or selected tables, and toggle the label of the button. Removed tables appear in gray boxes with a solid red line around them.                                                                                                                                                           |\n\n    #### \n\n    #### Fields (Remove table pane)\n\n    | Field                 | Description                                                       |\n    |-----------------------|-------------------------------------------------------------------|\n    | **Check boxes**       | Select tables that you want to remove from the relationship tree. |\n    | **Table name**        | The name of the table.                                            |\n    | **Configuration key** | The configuration key of the table.                               |\n    | **Level**             | The level of the table in the relationship tree.                  |\n    | **Row count**         | The number of rows in the table.                                  |\n\n     Walkthrough: Work with an Archive Object\n    -----------------------------------------\n\n    This section provides a walkthrough for working with an Archive Object.\n    1.  If you have not created the Archive Object already, create one. On the toolbar, click **Save**. In the next dialog box, read the warning message carefully, and then click **Yes**. In the **Save as** dialog box, enter **WmsOrder1**, and then click **Save**. Click **OK**.\n    2.  Click the **WMSOrder** table in the hierarchy diagram.\n    3.  Use the **Zoom** slider to change the diagram size so that you can read the table names easily.\n    4.  In the relationship tree, move the mouse pointer over table **WMSOrder** to see the information that is displayed in the tooltip. In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **WMSOrderTrans** table to see the information that is displayed in the tooltip.\n    5.  In the **Properties** pane, expand each node in the tree view to see the information that is provided.\n    6.  If the **Advanced** filter control does not show the selection criteria, click the **Advanced** filter arrow. Type 1 in the **Level** field, and then click **Search**. This changes the grid to show only those tables that are in level 1.\n    7.  Select the **WMSOrderTrans** table by selecting the check box next to it.\n    8.  In the **Properties** pane, click **Remove**. Note that table **WMSOrderTrans** and all its child tables in levels 2, 3, and 4 are removed.\n    9.  Click the **Show all** button in the **Properties** pane. The diagram shows all the tables, with the removed tables in red lines.\n    10. Click **Revert** to restore the original Archive Object. The diagram now reverts to the state it was in before you deleted **WMSOrderTrans** in step 8.\n    11. Repeat steps 7, 8, and 9 to remove the tables again. All the removed tables appear in gray shapes with solid red lines.\n    12. Click **Show selected** in the **Properties** pane to see the revised Archive Object. Verify that the removed tables are not in the Archive Object.\n    13. On the toolbar, click **Save**. Click **Save** in the dialog box to save the Archive Object with a new version. You must provide a unique name when you save an Archive Object. IDMF treats the saved Archive Object as a new version of the original Archive Object or archive template.\n    14. On the toolbar, click **Archive template/Archive Objects**, and then click **WMSOrder**.\n    15. Verify that the Archive Object diagram does not contain the tables you removed in step 11. Switch between **Show all/****Show** selected to confirm that the removed tables still appear in gray shapes with solid red lines.\n    16. In the **Properties** pane, click **Revert**. The Archive Object does not change. The revert action cannot undo the changes, because the Archive Object has been saved.\n    17. On the toolbar, click **Show versions**. In the **Version history** dialog box, select **WMSOrder** from the list, and select the version of the Archive Object in the Archive Object list. Each version of the Archive Object is saved with a unique name. Therefore, each Archive Object in the list provides a different version of **WMSOrder**.\n    18. Select the last item in the list, **WMSOrder**, and then click **Show** to restore the Archive Object to the first version that is included as the archive template in IDMF. The restored Archive Object differs from the Archive Object you started working with in step 1. The relationship tree in the default archive template has been adjusted based on the functional assessment of the Microsoft Dynamics AX application.\n    19. On the toolbar, click **Save**. Click **Yes** to overwrite the object. In the **Save as** dialog box, enter the name for the Archive Object, and then click **Save**. Click **OK** to close the message indicating the success or failure of the save operation. Keep the Archive Object open, because it is also used in the next section.\n\n     Archive templates/Archive Object\n    ---------------------------------\n\n    This command provides a list of archive templates and Archive Objects in your system. An archive template is a template that is included with IDMF with a predefined relationship tree. You can use an archive template as a starting point to create an Archive Object. You must review an archive template to make sure that it meets your requirements, and save it before you can use it in a scheduled archive task. This command uses the same navigation and toolbar commands as the **Create Archive Object** workspace.\n    ### Walkthrough: Work with an archive template\n\n    This section provides a walkthrough for working with an archive template.\n    1.  On the toolbar, click **Archive templates/Archive Object**. Observe the icon of the **BankChequeTable** template.\n    2.  Select **BankChequeTable** from the list.\n    3.  Review the tables, table properties, and relationship tree to understand how the data archiving for **BankChequeTable** cascades through the relationship tree in the archive template. Make sure that this relationship tree covers your application and any customizations you may have made to the Microsoft Dynamics AX application.\n    4.  On the toolbar, click **Save**. You must provide a unique name when you save an Archive Object. Change the name to BankChequeTable\\_object to identify this saved object as an Archive Object. Click **Save**.\n    5.  Click **OK** in the dialog box to continue.\n    6.  On the toolbar, click **Archive templates/Archive Objects**. You do not see **BankChequeTable\\_object** in the list. Unlike Purge Objects, Archive Objects are saved with the same name, but with a new version. In this case, the **BankChequeTable** object is created with a version name **BankChequeTable\\_object**. As always, the latest version is effective.\n    7.  Notice that the icon of **BankChequeTable** is changed compared to earlier, which indicates that it is saved as an object.\n\n\n\n\n\n","nodes":[{"pos":[4,651],"embed":true,"content":"# required metadata\n\ntitle: Create an archive object for the Intelligent Data Management Framework\ndescription: This topic describes how to use archive objects.\nauthor: kfend\nmanager: AnnBe\nms.date: 06/20/2017\nms.topic: article\nms.prod: dynamics-ax-2012 \nms.service: \nms.technology: ax-2012\n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \n# ms.reviewer: 51\nms.search.scope: AX 2012, UnifiedOperations\n# ms.tgt_pltfrm: \nms.custom: 17931\nms.assetid: 4d3e61d1-48aa-4e39-8112-6d211a1d0209\nms.search.region: Global\n# ms.search.industry: \nms.author: kfend\nms.search.validFrom: \nms.dyn365.ops.version: 2012\n","nodes":[{"content":"Create an archive object for the Intelligent Data Management Framework","nodes":[{"pos":[0,70],"content":"Create an archive object for the Intelligent Data Management Framework","nodes":[{"content":"Create an archive object for the Intelligent Data Management Framework","pos":[0,70]}]}],"path":["title"]},{"content":"This topic describes how to use archive objects.","nodes":[{"pos":[0,48],"content":"This topic describes how to use archive objects.","nodes":[{"content":"This topic describes how to use archive objects.","pos":[0,48]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[659,729],"content":"Create an archive object for the Intelligent Data Management Framework","linkify":"Create an archive object for the Intelligent Data Management Framework","nodes":[{"content":"Create an archive object for the Intelligent Data Management Framework","pos":[0,70]}]},{"pos":[780,807],"content":"Overview of Archive Objects","linkify":"Overview of Archive Objects","nodes":[{"content":"Overview of Archive Objects","pos":[0,27]}]},{"content":"An Archive Object is a hierarchical relationship tree that you create based on a driver table.","pos":[837,931]},{"content":"The Archive Object archives transactional records from the production database, based on the rules and selection criteria you created in the Archive Object.","pos":[932,1088]},{"content":"This topic refers to archiving as copying records from the production database to the archive database, and then deleting these records from the production database.","pos":[1089,1254]},{"content":"You can create an Archive Object based either on the templates that are included in IDMF or on the discovery process.","pos":[1255,1372]},{"pos":[1376,1387],"content":"<bpt id=\"p1\">**</bpt>Caution<ept id=\"p1\">**</ept>","source":"**Caution**"},{"content":"To use this topic, you must have experience in the maintenance and administration of the Microsoft Dynamics AX application and database.","pos":[2982,3118]},{"content":"IDMF lets you create an Archive Object that defines a hierarchical relationship tree among the Microsoft Dynamics AX application tables.","pos":[3119,3255]},{"content":"You can then apply rules to select records based on specific criteria.","pos":[3256,3326]},{"content":"Records matching the selection criteria from the whole relationship tree in the Archive Object are moved from the production database to the archive database.","pos":[3327,3485]},{"content":"Improper use of this framework can cause unexpected results, database corruption, and application downtime requiring full database and application recovery.","pos":[3486,3642]},{"content":"Exercise extreme caution, and thoroughly test your recycling strategy in a test environment before working in the production environment.","pos":[3643,3780]},{"pos":[3787,3825],"content":"Overview of the data archiving process","linkify":"Overview of the data archiving process","nodes":[{"content":"Overview of the data archiving process","pos":[0,38]}]},{"content":"The archive function archives records by using a scheduled archive task.","pos":[3826,3898]},{"content":"At run time, an archive task completes these tasks:","pos":[3899,3950]},{"content":"Select qualifying records from the driver table, based on rules that are defined for the driver table.","pos":[3956,4058]},{"content":"Select qualifying records from all child tables, based on the parent-child relationship.","pos":[4063,4151]},{"content":"Copy the qualifying records from the production database to the archive database.","pos":[4156,4237]},{"content":"Delete the qualifying records from the production database.","pos":[4242,4301]},{"pos":[4306,4377],"content":"Considerations for Archive Objects, driver tables, relations, and rules","linkify":"Considerations for Archive Objects, driver tables, relations, and rules","nodes":[{"content":"Considerations for Archive Objects, driver tables, relations, and rules","pos":[0,71]}]},{"content":"Consider the following points when working with an Archive Object:","pos":[4378,4444]},{"content":"Verify that the table you select as the driver table for an Archive Object is a header table, such as <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept>.","pos":[4450,4567],"source":"Verify that the table you select as the driver table for an Archive Object is a header table, such as **SalesTable**."},{"content":"A good indication, although not always accurate, is that the <bpt id=\"p1\">**</bpt>TableGroup<ept id=\"p1\">**</ept> value for such a table is <bpt id=\"p2\">**</bpt>WorkSheetHeader<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Miscellaneous<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>Transaction<ept id=\"p4\">**</ept>.","pos":[4568,4729],"source":" A good indication, although not always accurate, is that the **TableGroup** value for such a table is **WorkSheetHeader**, **Miscellaneous**, or **Transaction**."},{"pos":[4734,4854],"content":"Tables with a <bpt id=\"p1\">**</bpt>TableGroup<ept id=\"p1\">**</ept> value of <bpt id=\"p2\">**</bpt>Main<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Parameter<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Group<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>WorkSheetLine<ept id=\"p5\">**</ept> cannot be driver tables.","source":"Tables with a **TableGroup** value of **Main**, **Parameter**, **Group**, and **WorkSheetLine** cannot be driver tables."},{"content":"The driver table becomes the root parent in the hierarchical relationship tree.","pos":[4859,4938]},{"content":"IDMF queries the <bpt id=\"p1\">**</bpt>XRefTableRelation<ept id=\"p1\">**</ept> table to determine the parent-child relationships.","pos":[4939,5028],"source":" IDMF queries the **XRefTableRelation** table to determine the parent-child relationships."},{"content":"Archiving records based on an Archive Object may cause data inconsistency in your application in these conditions:","pos":[5033,5147]},{"content":"The driver table has known parent tables.","pos":[5156,5197]},{"content":"The driver table has known child tables that are not added to the Archive Object as a relation.","pos":[5206,5301]},{"content":"Always minimize the Archive Object, and keep only necessary relations and rules for your implementations.","pos":[5306,5411]},{"content":"Consider removing a table from the Archive Object in these conditions:","pos":[5412,5482]},{"content":"The table does not contain any data, and it is not likely to contain data in the future.","pos":[5491,5579]},{"pos":[5588,5670],"content":"The table stores only transient data, such as <bpt id=\"p1\">**</bpt>SalesParmTable<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>SpecTrans<ept id=\"p2\">**</ept>.","source":"The table stores only transient data, such as **SalesParmTable** or **SpecTrans**."},{"pos":[5679,5762],"content":"The table stores open transactions, such as <bpt id=\"p1\">**</bpt>CustTransOpen<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>VendTransOpen<ept id=\"p2\">**</ept>.","source":"The table stores open transactions, such as **CustTransOpen** or **VendTransOpen**."},{"content":"The table creates nested relationships.","pos":[5771,5810]},{"content":"If a table appears multiple times on different levels in the relationship tree, with the same qualifying relationship condition or set of primary keys, consider keeping the occurrence only in the lowest-numbered level in the relationship tree.","pos":[5811,6054]},{"content":"If a table is related to the driver table and makes its own Archive Object, it is a good candidate to be a driver table itself.","pos":[6059,6186]},{"content":"For example, if you use <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept> as a driver table, it discovers <bpt id=\"p2\">**</bpt>PurchTable<ept id=\"p2\">**</ept> for intercompany.","pos":[6187,6290],"source":" For example, if you use **SalesTable** as a driver table, it discovers **PurchTable** for intercompany."},{"content":"In this case, consider making <bpt id=\"p1\">**</bpt>PurchTable<ept id=\"p1\">**</ept> a separate Archive Object.","pos":[6291,6362],"source":" In this case, consider making **PurchTable** a separate Archive Object."},{"content":"If the driver table and the child table are from different functional areas, and if the child table is a good candidate to be archived separately, create a separate, independent Archive Object.","pos":[6363,6556]},{"content":"Consider making this child table a Related Archive Object in these conditions:","pos":[6557,6635]},{"content":"This driver table and its child table must be archived together because of functional or relational dependencies.","pos":[6644,6757]},{"content":"You have to add rules for correct archiving of the child table.","pos":[6766,6829]},{"content":"You can only add rules for the driver table.","pos":[6830,6874]},{"content":"To add rules for the child table, it has to be the driver table of a Related Archive Object.","pos":[6875,6967]},{"content":"Be sure that the rules you add to the Related Archive Object do not adversely affect the archiving from the parent Archive Object.","pos":[6968,7098]},{"content":"There may be multiple relationships between two tables.","pos":[7103,7158]},{"content":"In that case, evaluate the relationships and functionality carefully.","pos":[7159,7228]},{"content":"We recommend that you use only a single relationship in the Archive Object.","pos":[7229,7304]},{"content":"However, you can use multiple relationships if necessary.","pos":[7305,7362]},{"content":"Be sure to select a valid relationship using a unique index or primary key, if one exists.","pos":[7363,7453]},{"content":"Do not use the archive templates that are included with IDMF to create your Archive Objects.","pos":[7458,7550]},{"content":"These templates are created in a specific Microsoft Dynamics AX application and may not match your implementation.","pos":[7551,7665]},{"content":"Instead, use the discovery option to create your own objects, and compare them with the templates.","pos":[7666,7764]},{"content":"Tables in the templates may not be valid for your implementation.","pos":[7765,7830]},{"content":"Some valid and known tables may not appear in your discovered object.","pos":[7831,7900]},{"content":"Carefully analyze any difference between the objects you created through the discovery process and the templates, to determine the cause of the difference.","pos":[7901,8056]},{"content":"Manually add or remove tables from the Purge Objects and Archive Objects to fit your requirements.","pos":[8057,8155]},{"content":"Be sure that relationships among tables are set correctly.","pos":[8160,8218]},{"content":"Be sure that the <bpt id=\"p1\">**</bpt>TableGroup<ept id=\"p1\">**</ept> property is set for all custom tables.","pos":[8219,8289],"source":" Be sure that the **TableGroup** property is set for all custom tables."},{"content":"Verify that the relationship tree that you have created in the Archive Object archives the intended data from your system.","pos":[8294,8416]},{"content":"An Archive Object that you create must look at all related records.","pos":[8417,8484]},{"content":"Missing relationships lead to orphaned data.","pos":[8485,8529]},{"content":"A table in the relationship tree becomes part of the archive function and becomes disabled from the master data tables list.","pos":[8534,8658]},{"pos":[8662,8673],"content":"<bpt id=\"p1\">**</bpt>Caution<ept id=\"p1\">**</ept>","source":"**Caution**"},{"content":"Thoroughly test the effect of your Archive Objects and your archive strategy on your database and application in a test environment that resembles your production environment.","pos":[9286,9461]},{"content":"Test all business processes, and obtain user sign-off before trying to implement the Archive Objects in the production environment.","pos":[9462,9593]},{"pos":[9600,9635],"content":"Overview of Related Archive Objects","linkify":"Overview of Related Archive Objects","nodes":[{"content":"Overview of Related Archive Objects","pos":[0,35]}]},{"content":"The relationship tree of an Archive Object can be very complex.","pos":[9636,9699]},{"content":"In order to archive data from all the related tables, complex relationship trees have to be managed.","pos":[9700,9800]},{"content":"In some cases, one relationship tree has to include another relationship tree to guarantee data integrity and functionally valid archiving of data.","pos":[9801,9948]},{"content":"Due to this complexity, you can create a relationship between two independent Archive Objects by adding one Archive Object in the other Archive Object.","pos":[9949,10100]},{"content":"The child Archive Object is called the Related Archive Object and forms a relationship with the parent Archive Object.","pos":[10101,10219]},{"content":"An archive task archives selected records from all the tables in the Archive Object and the Related Archive Object.","pos":[10220,10335]},{"content":"The following steps provide a walkthrough of an Archive Object with a Related Archive Object:","pos":[10336,10429]},{"content":"Use the Microsoft Dynamics AX Windows client to work with the Application Object Tree (AOT).","pos":[10434,10526]},{"content":"In the AOT, expand <bpt id=\"p1\">**</bpt>Data Dictionary<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Tables<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>CustInvoiceSalesLink<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Relations<ept id=\"p4\">**</ept>.","pos":[10527,10631],"source":" In the AOT, expand **Data Dictionary** &gt; **Tables** &gt; **CustInvoiceSalesLink** &gt; **Relations**."},{"content":"Note that the <bpt id=\"p1\">**</bpt>CustInvoiceSalesLink<ept id=\"p1\">**</ept> table has two parents, <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>CustInvoiceJour<ept id=\"p3\">**</ept>.","pos":[10632,10733],"source":" Note that the **CustInvoiceSalesLink** table has two parents, **SalesTable** and **CustInvoiceJour**."},{"content":"Expand the <bpt id=\"p1\">**</bpt>Relations<ept id=\"p1\">**</ept> node for the <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept> table.","pos":[10734,10798],"source":" Expand the **Relations** node for the **CustInvoiceJour** table."},{"content":"Note that the <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept> table does not have a relationship with <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> in the AOT.","pos":[10799,10899],"source":" Note that the **CustInvoiceJour** table does not have a relationship with **SalesTable** in the AOT."},{"pos":[10904,11037],"content":"In IDMF, click <bpt id=\"p1\">**</bpt>Configure<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Archive templates/Archive Object<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>SalesTable<ept id=\"p3\">**</ept> to open the <bpt id=\"p4\">**</bpt>SalesTable<ept id=\"p4\">**</ept> Archive Object.","source":"In IDMF, click **Configure** &gt; **Archive templates/Archive Object** &gt; **SalesTable** to open the **SalesTable** Archive Object."},{"content":"Review the hierarchical tree, and understand the parent-child relationship.","pos":[11042,11117]},{"content":"Notice that the <bpt id=\"p1\">**</bpt>CustInvoiceSalesLink<ept id=\"p1\">**</ept> table from step 1 is not in the relationship tree as a child of <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept>, even though the AOT shows a relationship between the two tables.","pos":[11118,11303],"source":" Notice that the **CustInvoiceSalesLink** table from step 1 is not in the relationship tree as a child of **SalesTable**, even though the AOT shows a relationship between the two tables."},{"content":"Notice that the relationship tree contains two oval shapes, named <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>CustPackingSlipJour<ept id=\"p2\">**</ept>.","pos":[11304,11418],"source":" Notice that the relationship tree contains two oval shapes, named **CustInvoiceJour** and **CustPackingSlipJour**."},{"content":"These oval shapes represent Related Archive Objects for <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept>.","pos":[11419,11490],"source":" These oval shapes represent Related Archive Objects for **SalesTable**."},{"content":"A Related Archive Object is an Archive Object that is part of the relationship tree of a parent Archive Object.","pos":[11491,11602]},{"content":"Double-click <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept>.","pos":[11607,11640],"source":"Double-click **CustInvoiceJour**."},{"content":"Notice that the <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept> Archive Object opens and shows the <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> in a green rectangle next to the root table, <bpt id=\"p3\">**</bpt>CustInvoiceJour<ept id=\"p3\">**</ept>.","pos":[11641,11792],"source":" Notice that the **CustInvoiceJour** Archive Object opens and shows the **SalesTable** in a green rectangle next to the root table, **CustInvoiceJour**."},{"content":"The green rectangle highlights <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept> as the parent Archive Object of the <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept> Archive Object.","pos":[11793,11910],"source":" The green rectangle highlights **SalesTable** as the parent Archive Object of the **CustInvoiceJour** Archive Object."},{"content":"Note that the <bpt id=\"p1\">**</bpt>CustInvoiceSalesLink<ept id=\"p1\">**</ept> table is a child table of the <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept> table.","pos":[11911,12006],"source":" Note that the **CustInvoiceSalesLink** table is a child table of the **CustInvoiceJour** table."},{"content":"Double-click <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept> to return to the parent Archive Object.","pos":[12007,12074],"source":" Double-click **SalesTable** to return to the parent Archive Object."},{"content":"Right-click <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>View relation<ept id=\"p2\">**</ept>.","pos":[12079,12141],"source":"Right-click **CustInvoiceJour**, and select **View relation**."},{"content":"In the <bpt id=\"p1\">**</bpt>Configure Related Archive Object<ept id=\"p1\">**</ept> window, review the relationship between the <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>CustInvoiceJour<ept id=\"p3\">**</ept> tables, and then click <bpt id=\"p4\">**</bpt>Close<ept id=\"p4\">**</ept> to close the window.","pos":[12142,12322],"source":" In the **Configure Related Archive Object** window, review the relationship between the **SalesTable** and **CustInvoiceJour** tables, and then click **Close** to close the window."},{"content":"In the <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept> Archive Object, right-click <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept>, and select <bpt id=\"p3\">**</bpt>Remove<ept id=\"p3\">**</ept>.","pos":[12327,12420],"source":"In the **SalesTable** Archive Object, right-click **CustInvoiceJour**, and select **Remove**."},{"content":"Confirm that the Related Archive Object <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept> is removed.","pos":[12421,12492],"source":" Confirm that the Related Archive Object **CustInvoiceJour** is removed."},{"pos":[12497,12567],"content":"Right-click <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>Add Related Archive Object<ept id=\"p2\">**</ept>.","source":"Right-click **SalesTable**, and select **Add Related Archive Object**."},{"pos":[12572,12643],"content":"In the <bpt id=\"p1\">**</bpt>Configure Related Archive Object<ept id=\"p1\">**</ept> window, follow these steps:","source":"In the **Configure Related Archive Object** window, follow these steps:"},{"content":"In the <bpt id=\"p1\">**</bpt>Select Related Archive Object<ept id=\"p1\">**</ept> list, select <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept>.","pos":[12653,12727],"source":"In the **Select Related Archive Object** list, select **CustInvoiceJour**."},{"content":"Click <bpt id=\"p1\">**</bpt>New relation<ept id=\"p1\">**</ept>.","pos":[12728,12751],"source":" Click **New relation**."},{"pos":[12760,12872],"content":"In the <bpt id=\"p1\">**</bpt>Configure relations for Related Archive Object<ept id=\"p1\">**</ept> pane, enter SalesTable in the <bpt id=\"p2\">**</bpt>Relation name<ept id=\"p2\">**</ept> field.","source":"In the **Configure relations for Related Archive Object** pane, enter SalesTable in the **Relation name** field."},{"pos":[12881,12945],"content":"Enter a valid description in the <bpt id=\"p1\">**</bpt>Relation description<ept id=\"p1\">**</ept> field.","source":"Enter a valid description in the **Relation description** field."},{"pos":[12954,13056],"content":"In the <bpt id=\"p1\">**</bpt>Configure relations<ept id=\"p1\">**</ept> pane, use the following table to select fields, and then click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"In the **Configure relations** pane, use the following table to select fields, and then click **Add**."},{"content":"From the list","pos":[13076,13089]},{"content":"Select the value","pos":[13101,13117]},{"pos":[13190,13204],"content":"<bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept>","source":"**Table name**"},{"pos":[13215,13229],"content":"<bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept>","source":"**SalesTable**"},{"pos":[13247,13261],"content":"<bpt id=\"p1\">**</bpt>Field name<ept id=\"p1\">**</ept>","source":"**Field name**"},{"pos":[13272,13286],"content":"<bpt id=\"p1\">**</bpt>dataAreaId<ept id=\"p1\">**</ept>","source":"**dataAreaId**"},{"pos":[13304,13317],"content":"<bpt id=\"p1\">**</bpt>Condition<ept id=\"p1\">**</ept>","source":"**Condition**"},{"pos":[13361,13383],"content":"<bpt id=\"p1\">**</bpt>Related table name<ept id=\"p1\">**</ept>","source":"**Related table name**"},{"pos":[13386,13405],"content":"<bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept>","source":"**CustInvoiceJour**"},{"pos":[13418,13440],"content":"<bpt id=\"p1\">**</bpt>Related field name<ept id=\"p1\">**</ept>","source":"**Related field name**"},{"pos":[13443,13457],"content":"<bpt id=\"p1\">**</bpt>dataAreaID<ept id=\"p1\">**</ept>","source":"**dataAreaID**"},{"content":"Click <bpt id=\"p1\">**</bpt>New Relation<ept id=\"p1\">**</ept>.","pos":[13474,13497],"source":"Click **New Relation**."},{"content":"Using the previous step, use the <bpt id=\"p1\">**</bpt>SalesID<ept id=\"p1\">**</ept> field to create a relationship between the <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>CustInvoiceJour<ept id=\"p3\">**</ept> tables.","pos":[13498,13632],"source":" Using the previous step, use the **SalesID** field to create a relationship between the **SalesTable** and **CustInvoiceJour** tables."},{"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[13633,13647],"source":" Click **Add**."},{"pos":[13656,13778],"content":"Verify that the <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>CustInvoiceJour<ept id=\"p2\">**</ept> tables are related using the <bpt id=\"p3\">**</bpt>DataAreaId<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>SalesID<ept id=\"p4\">**</ept> fields.","source":"Verify that the **SalesTable** and **CustInvoiceJour** tables are related using the **DataAreaId** and **SalesID** fields."},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[13787,13802],"source":"Click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[13803,13816],"source":" Click **OK**."},{"content":"Click <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept> to return to the parent SalesTable Archive Object.","pos":[13817,13883],"source":" Click **Close** to return to the parent SalesTable Archive Object."},{"content":"Verify that the SalesTable Archive Object contains the CustInvoiceJour Related Archive Object.","pos":[13892,13986]},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[13995,14010],"source":"Click **Save**."},{"content":"In the <bpt id=\"p1\">**</bpt>Save as<ept id=\"p1\">**</ept> dialog box, type SalesTable<ph id=\"ph1\">\\_</ph>a, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[14011,14086],"source":" In the **Save as** dialog box, type SalesTable\\_a, and then click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to continue.","pos":[14087,14112],"source":" Click **OK** to continue."},{"content":"You must save an Archive Object with a new name.","pos":[14113,14161]},{"content":"Click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> on the upper-right side of the relationship tree workspace, and pin the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> window to the workspace.","pos":[14170,14302],"source":"Click **Properties** on the upper-right side of the relationship tree workspace, and pin the **Properties** window to the workspace."},{"content":"In the relationship tree, right-click the <bpt id=\"p1\">**</bpt>Related Archive Object CustInoviceJour<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Remove<ept id=\"p2\">**</ept>.","pos":[14303,14415],"source":" In the relationship tree, right-click the **Related Archive Object CustInoviceJour**, and then click **Remove**."},{"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> window, click <bpt id=\"p2\">**</bpt>Revert<ept id=\"p2\">**</ept>.","pos":[14416,14463],"source":" In the **Properties** window, click **Revert**."},{"content":"The revert action reverses the changes you have made since the last time you clicked <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[14464,14558],"source":" The revert action reverses the changes you have made since the last time you clicked **Save**."},{"content":"The revert action here brings back the Related Archive Object <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept>, because you did not click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept> after you removed the Related Archive Object.","pos":[14559,14722],"source":" The revert action here brings back the Related Archive Object **CustInvoiceJour**, because you did not click **Save** after you removed the Related Archive Object."},{"content":"Remove the Related Archive Object <bpt id=\"p1\">**</bpt>CustInvoiceJour<ept id=\"p1\">**</ept> again.","pos":[14731,14791],"source":"Remove the Related Archive Object **CustInvoiceJour** again."},{"content":"Save the Archive Object as <bpt id=\"p1\">**</bpt>SalesTable<ph id=\"ph1\">\\_</ph>deleted<ept id=\"p1\">**</ept>.","pos":[14792,14843],"source":" Save the Archive Object as **SalesTable\\_deleted**."},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Archive templates/Archive Object<ept id=\"p1\">**</ept>.","pos":[14852,14911],"source":"On the toolbar, click **Archive templates/Archive Object**."},{"content":"Compare the icon of the SalesTable Archive Object with other objects in the list, and notice the difference.","pos":[14912,15020]},{"content":"The icon indicates that you have opened the default template and saved it as an Archive Object.","pos":[15021,15116]},{"content":"You can only use an Archive Object, and not an archive template, in an archive task.","pos":[15117,15201]},{"content":"Click <bpt id=\"p1\">**</bpt>SalesTable<ept id=\"p1\">**</ept>.","pos":[15202,15223],"source":" Click **SalesTable**."},{"content":"Notice that IDMF opens the Archive Object you just saved as <bpt id=\"p1\">**</bpt>SalesTable<ph id=\"ph1\">\\_</ph>deleted<ept id=\"p1\">**</ept>.","pos":[15224,15308],"source":" Notice that IDMF opens the Archive Object you just saved as **SalesTable\\_deleted**."},{"content":"IDMF lets you save multiple versions of the Archive Object and uses the most recently saved version of the Archive Object.","pos":[15309,15431]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Show versions<ept id=\"p1\">**</ept>.","pos":[15440,15480],"source":"On the toolbar, click **Show versions**."},{"content":"In the <bpt id=\"p1\">**</bpt>Version history<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept> in the <bpt id=\"p3\">**</bpt>Archive template<ept id=\"p3\">**</ept> list.","pos":[15481,15571],"source":" In the **Version history** window, select **SalesTable** in the **Archive template** list."},{"content":"Notice that the <bpt id=\"p1\">**</bpt>Archive Object<ept id=\"p1\">**</ept> list displays the different versions of <bpt id=\"p2\">**</bpt>SalesTable<ept id=\"p2\">**</ept>, with the most recent version at the top.","pos":[15572,15703],"source":" Notice that the **Archive Object** list displays the different versions of **SalesTable**, with the most recent version at the top."},{"content":"An archive task uses the most recent version of the Archive Object.","pos":[15704,15771]},{"content":"This walkthrough explained the concept of including a Related Archive Object in an Archive Object.","pos":[15777,15875]},{"content":"You must understand the Microsoft Dynamics AX metadata and functionality thoroughly before working with an Archive Object or including a Related Archive Object in a parent Archive Object.","pos":[15876,16063]},{"pos":[16069,16116],"content":"Understanding the Archive Object exception list","linkify":"Understanding the Archive Object exception list","nodes":[{"content":"Understanding the Archive Object exception list","pos":[0,47]}]},{"content":"IDMF lets you create an exception parameters list as detailed in a later section of this topic.","pos":[16174,16269]},{"content":"The exception parameters list applies globally to all purge templates, Purge Objects, archive templates, and Archive Objects.","pos":[16270,16395]},{"content":"In addition to the exception parameters list, IDMF lets you maintain an exception tables list specifically for Archive Objects.","pos":[16396,16523]},{"content":"When you create a new Archive Object and select the driver table, IDMF displays the Archive Object exception tables window.","pos":[16524,16647]},{"content":"The exception list contains tables that you can use as driver tables to create a separate and independent Archive Object.","pos":[16648,16769]},{"content":"Carefully evaluate these tables to determine whether you want to include them in the relationship tree as related child tables or as Related Archive Objects.","pos":[16770,16927]},{"content":"The discovery process ignores all tables in the Archive Object exception tables list and does not include them in the relationship tree, even if a relationship exists.","pos":[16928,17095]},{"content":"To include a table from the Archive Object exception tables list, deselect the table, and click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> before you click <bpt id=\"p2\">**</bpt>Continue<ept id=\"p2\">**</ept> to begin the discovery process.","pos":[17096,17262],"source":" To include a table from the Archive Object exception tables list, deselect the table, and click **Save** before you click **Continue** to begin the discovery process."},{"content":"In this case, the discovery process includes the deselected table if a relationship exists.","pos":[17263,17354]},{"content":"You can also add other tables to the list and select to exclude the newly added table from the discovery process.","pos":[17355,17468]},{"pos":[17474,17530],"content":"Navigation of the Archive Object exception tables window","linkify":"Navigation of the Archive Object exception tables window","nodes":[{"content":"Navigation of the Archive Object exception tables window","pos":[0,56]}]},{"content":"The following tables provide descriptions for the controls in this window.","pos":[17597,17671]},{"pos":[17681,17686],"content":"Panes","linkify":"Panes","nodes":[{"content":"Panes","pos":[0,5]}]},{"content":"Pane","pos":[17694,17698]},{"content":"Description","pos":[17724,17735]},{"pos":[18070,18085],"content":"<bpt id=\"p1\">**</bpt>Main<ept id=\"p1\">**</ept> window","source":"**Main** window"},{"content":"Provides the driver table, and a list of exception tables for this driver table.","pos":[18100,18180]},{"content":"The list of exception tables changes, depending on the driver table.","pos":[18181,18249]},{"pos":[18258,18285],"content":"<bpt id=\"p1\">**</bpt>Add new exception table<ept id=\"p1\">**</ept>","source":"**Add new exception table**"},{"content":"Provides controls to add a table to the exception tables list.","pos":[18288,18350]},{"pos":[18461,18482],"content":"Buttons (main window)","linkify":"Buttons (main window)","nodes":[{"content":"Buttons (main window)","pos":[0,21]}]},{"content":"Button","pos":[18490,18496]},{"content":"Description","pos":[18505,18516]},{"pos":[18752,18760],"content":"<bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>","source":"**Save**"},{"pos":[18767,18874],"content":"Save the changes to the exception tables list, such as change to the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> field and any added tables.","source":"Save the changes to the exception tables list, such as change to the **Status** field and any added tables."},{"pos":[18883,18895],"content":"<bpt id=\"p1\">**</bpt>Continue<ept id=\"p1\">**</ept>","source":"**Continue**"},{"content":"Continue with the discovery process for the Archive Object.","pos":[18898,18957]},{"pos":[19029,19068],"content":"Buttons (Add new exception tables pane)","linkify":"Buttons (Add new exception tables pane)","nodes":[{"content":"Buttons (Add new exception tables pane)","pos":[0,39]}]},{"content":"Button","pos":[19076,19082]},{"content":"Description","pos":[19088,19099]},{"pos":[19376,19383],"content":"<bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>","source":"**Add**"},{"content":"Add the selected table to the exception tables list.","pos":[19388,19440]},{"content":"You must select a table in the <bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept> list before you click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","pos":[19441,19517],"source":" You must select a table in the **Table name** list before you click **Add**."},{"pos":[19526,19535],"content":"<bpt id=\"p1\">**</bpt>Clear<ept id=\"p1\">**</ept>","source":"**Clear**"},{"pos":[19538,19568],"content":"Clear the <bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept> list.","source":"Clear the **Table name** list."},{"pos":[19691,19711],"content":"Fields (main window)","linkify":"Fields (main window)","nodes":[{"content":"Fields (main window)","pos":[0,20]}]},{"content":"Field","pos":[19719,19724]},{"content":"Description","pos":[19742,19753]},{"pos":[20291,20305],"content":"<bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept>","source":"**Table name**"},{"content":"The name of the driver table.","pos":[20314,20343]},{"pos":[20577,20597],"content":"<bpt id=\"p1\">**</bpt>Exception tables<ept id=\"p1\">**</ept>","source":"**Exception tables**"},{"content":"The names of the exception tables.","pos":[20600,20634]},{"content":"Each table in the list can become a driver table.","pos":[20635,20684]},{"pos":[20863,20873],"content":"<bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept>","source":"**Status**"},{"content":"A table with the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> field selected is not added to the relationship tree during the discovery process, even if a relationship exists.","pos":[20886,21027],"source":"A table with the **Status** field selected is not added to the relationship tree during the discovery process, even if a relationship exists."},{"content":"If the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> field is not selected, the table is added to the relationship tree if there is a relationship.","pos":[21028,21140],"source":" If the **Status** field is not selected, the table is added to the relationship tree if there is a relationship."},{"content":"Modified by","pos":[21149,21160]},{"content":"The Windows ID of the user who changed the status of an existing table or added a new table to the list.","pos":[21172,21276]},{"pos":[21450,21477],"content":"Fields (Add exception list)","linkify":"Fields (Add exception list)","nodes":[{"content":"Fields (Add exception list)","pos":[0,27]}]},{"content":"Field","pos":[21485,21490]},{"content":"Description","pos":[21502,21513]},{"pos":[21671,21685],"content":"<bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept>","source":"**Table name**"},{"content":"Select the table that you want to add to the exception tables list.","pos":[21688,21755]},{"pos":[21764,21791],"content":"Create a new Archive Object","linkify":"Create a new Archive Object","nodes":[{"content":"Create a new Archive Object","pos":[0,27]}]},{"content":"You can create an Archive Object by selecting a driver table and creating a relationship tree based on the driver table, instead of selecting a template that is included with IDMF.","pos":[21830,22010]},{"content":"Follow these steps to create a new Archive Object:","pos":[22011,22061]},{"pos":[22070,22118],"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Create Archive Object<ept id=\"p1\">**</ept>.","source":"On the toolbar, click **Create Archive Object**."},{"content":"In the <bpt id=\"p1\">**</bpt>Create Archive Object<ept id=\"p1\">**</ept> dialog box, select a table from the <bpt id=\"p2\">**</bpt>Driver table<ept id=\"p2\">**</ept> list.","pos":[22127,22218],"source":"In the **Create Archive Object** dialog box, select a table from the **Driver table** list."},{"content":"The list excludes tables from the exception parameters list, which is covered later in this topic.","pos":[22219,22317]},{"content":"Navigate to and select <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept>.","pos":[22318,22354],"source":" Navigate to and select **WMSOrder**."},{"content":"A driver table is the parent table that defines the relationship tree for a specific Archive Object.","pos":[22355,22455]},{"content":"In an Archive Object, the driver table may have child entities but does not have a parent entity in the relationship tree.","pos":[22456,22578]},{"content":"To continue, you must select the most unique index for the table.","pos":[22587,22652]},{"content":"This index is used to create the parent-child relationship in the Archive Object.","pos":[22653,22734]},{"content":"In the Unique keys field, select orderid.","pos":[22735,22776]},{"content":"The <bpt id=\"p1\">**</bpt>WMSOrderIdx<ept id=\"p1\">**</ept> index is created by using the <bpt id=\"p2\">**</bpt>orderid<ept id=\"p2\">**</ept> field.","pos":[22777,22845],"source":" The **WMSOrderIdx** index is created by using the **orderid** field."},{"content":"Click <bpt id=\"p1\">**</bpt>Discover<ept id=\"p1\">**</ept>.","pos":[22854,22873],"source":"Click **Discover**."},{"content":"In the <bpt id=\"p1\">**</bpt>Archive Object exception tables<ept id=\"p1\">**</ept> dialog box, review the exception tables list carefully.","pos":[22874,22972],"source":" In the **Archive Object exception tables** dialog box, review the exception tables list carefully."},{"content":"If you want a table from the list to be included in the relationship tree, clear the <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> field.","pos":[22973,23075],"source":" If you want a table from the list to be included in the relationship tree, clear the **Status** field."},{"content":"Use the <bpt id=\"p1\">**</bpt>Add new exception table<ept id=\"p1\">**</ept> pane to add a new table to the list.","pos":[23076,23148],"source":" Use the **Add new exception table** pane to add a new table to the list."},{"content":"The <bpt id=\"p1\">**</bpt>Status<ept id=\"p1\">**</ept> field for the newly added table is selected by default.","pos":[23149,23219],"source":" The **Status** field for the newly added table is selected by default."},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> to save your changes in the Archive Object exception tables window.","pos":[23220,23302],"source":" Click **Save** to save your changes in the Archive Object exception tables window."},{"content":"Click <bpt id=\"p1\">**</bpt>Continue<ept id=\"p1\">**</ept> to start the discovery process and create the Archive Object.","pos":[23303,23383],"source":" Click **Continue** to start the discovery process and create the Archive Object."},{"content":"<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>: The <bpt id=\"p2\">**</bpt>Administer<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Discovery<ept id=\"p3\">**</ept> command lets you maintain an exception parameters list.","pos":[23384,23487],"source":"**Note**: The **Administer** &gt; **Discovery** command lets you maintain an exception parameters list."},{"content":"A table that belongs to the exception parameters list, with Archive discovery selected, is excluded from the relationship tree when the Archive Object is created, even if there is a relationship between the driver table and the excluded table.","pos":[23488,23731]},{"content":"Using the metadata that is imported from the Microsoft Dynamics AX database, the exception parameters, and the Archive Object exception tables list, IDMF generates a hierarchical relationship tree.","pos":[23737,23934]},{"content":"The relationship tree starts with the driver table, in level 0, and creates a hierarchy of parent-child relationships.","pos":[23935,24053]},{"content":"Make sure that your Archive Object resembles the following screen shot.","pos":[24054,24125]},{"content":"Do not save the Archive Object.","pos":[24126,24157]},{"content":"IDMF Archive Object Expanded","pos":[24170,24198]},{"content":"The relationship tree in this Archive Object is five levels deep.","pos":[24249,24314]},{"content":"Level 0, the topmost level, contains the driver table, <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept>.","pos":[24315,24383],"source":" Level 0, the topmost level, contains the driver table, **WMSOrder**."},{"content":"Level 1 contains the child entities of the driver table.","pos":[24384,24440]},{"content":"Level 2 contains child entities of tables in level 1.","pos":[24441,24494]},{"content":"The last level, level 4, contains the child entities of tables in level 3.","pos":[24495,24569]},{"content":"This relationship tree is created based on the following data:","pos":[24570,24632]},{"content":"The Microsoft Dynamics AX metadata.","pos":[24641,24676]},{"content":"The discovery process uses the metadata to create a list of related tables that form the parent-child hierarchy based on the driver table.","pos":[24677,24815]},{"content":"The exception parameters.","pos":[24824,24849]},{"content":"Tables that belong to the exception parameters list are filtered out of the relationship tree.","pos":[24850,24944]},{"content":"Use the <bpt id=\"p1\">**</bpt>Administer<ept id=\"p1\">**</ept> menu to configure the exception parameters.","pos":[24945,25011],"source":" Use the **Administer** menu to configure the exception parameters."},{"content":"The tables listed in the Archive Object exception tables dialog box.","pos":[25020,25088]},{"content":"The tables you selected in this dialog box are also filtered out of the hierarchical relationship tree.","pos":[25089,25192]},{"pos":[25200,25211],"content":"<bpt id=\"p1\">**</bpt>Caution<ept id=\"p1\">**</ept>","source":"**Caution**"},{"content":"Tables that you configure as master tables by clicking <bpt id=\"p1\">**</bpt>Administer<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Master data tables<ept id=\"p2\">**</ept> are replicated from the production database to the archive database by a master data synchronization task.","pos":[26686,26890],"source":"Tables that you configure as master tables by clicking **Administer** &gt; **Master data tables** are replicated from the production database to the archive database by a master data synchronization task."},{"content":"The relationship tree created by the discovery process may include tables that are configured as master tables.","pos":[26891,27002]},{"content":"Verify the tables in the relationship tree, and remove any tables that must be treated as master tables.","pos":[27003,27107]},{"content":"Right-click the table, and select <bpt id=\"p1\">**</bpt>Add to data replicate<ept id=\"p1\">**</ept> to remove the table from the relationship and configure it as a master data table.","pos":[27108,27250],"source":" Right-click the table, and select **Add to data replicate** to remove the table from the relationship and configure it as a master data table."},{"content":"If you do not remove these tables, tables in the relationship tree are automatically removed from that master data synchronization list when you save the Archive Object.","pos":[27251,27420]},{"content":"Verify the relationship tree, and assess the functional effect of the tree on your Microsoft Dynamics AX application.","pos":[27428,27545]},{"content":"As a result of your assessment, you may have to manually add, modify, or remove some relations and rules.","pos":[27546,27651]},{"content":"For example, click <bpt id=\"p1\">**</bpt>Show versions<ept id=\"p1\">**</ept> to display the Archive Object from the default template that is included with IDMF.","pos":[27652,27772],"source":" For example, click **Show versions** to display the Archive Object from the default template that is included with IDMF."},{"content":"Compare the relationship tree from the template with the relationship tree you created in the previous procedure.","pos":[27773,27886]},{"content":"The relationship tree in the <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept> archive template differs from the <bpt id=\"p2\">**</bpt>WMSOrder<ept id=\"p2\">**</ept> Archive Object you created.","pos":[27887,28003],"source":" The relationship tree in the **WMSOrder** archive template differs from the **WMSOrder** Archive Object you created."},{"content":"The difference is caused by the modification made to the default template, based on the functionality assessment of the Microsoft Dynamics AX application.","pos":[28004,28158]},{"content":"As demonstrated by this walkthrough, an Archive Object you create through discovery may not match the default template that is included with IDMF.","pos":[28159,28305]},{"content":"Be careful with your selection of the driver table.","pos":[28306,28357]},{"content":"If you select a table such as <bpt id=\"p1\">**</bpt>ProdTable<ept id=\"p1\">**</ept>, the relationship tree can go many levels deep, spanning many tables on each level.","pos":[28358,28485],"source":" If you select a table such as **ProdTable**, the relationship tree can go many levels deep, spanning many tables on each level."},{"content":"Such an Archive Object creates a complex relationship tree and increases the potential for error, and for resulting data corruption and application downtime.","pos":[28486,28643]},{"content":"IDMF Archive Object with Invalid Tables","pos":[28656,28695]},{"content":"The default template that is included with IDMF may not match the metadata of your Microsoft Dynamics AX implementation.","pos":[28754,28874]},{"content":"A table in the default template that is not found in the metadata from the production database is marked invalid.","pos":[28875,28988]},{"content":"An invalid table appears with a dotted red border, as shown in Figure 2.","pos":[28989,29061]},{"content":"You must remove invalid tables.","pos":[29062,29093]},{"content":"When you use fields from valid tables to create relations and rules, IDMF validates those fields.","pos":[29094,29191]},{"content":"A field with a disabled configuration key is considered invalid.","pos":[29192,29256]},{"content":"A valid table with invalid fields is shown with a yellow dotted border.","pos":[29257,29328]},{"content":"You must either remove valid tables with invalid rules from the relationship tree or fix the relationships before you can save the Archive Object.","pos":[29329,29475]},{"pos":[29481,29530],"content":"Navigation of the Create Archive Object workspace","linkify":"Navigation of the Create Archive Object workspace","nodes":[{"content":"Navigation of the Create Archive Object workspace","pos":[0,49]}]},{"content":"The following tables provide descriptions for the controls in this workspace.","pos":[29590,29667]},{"pos":[29677,29682],"content":"Panes","linkify":"Panes","nodes":[{"content":"Panes","pos":[0,5]}]},{"content":"Pane","pos":[29819,29823]},{"content":"Description","pos":[29837,29848]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Relationship tree<ept id=\"p1\">&lt;/strong&gt;</ept> pane","pos":[29918,29957],"source":"<strong>Relationship tree</strong> pane"},{"content":"Provides a graphical view of all the tables in the Archive Object.","pos":[29971,30037]},{"content":"The following list provides controls and commands that you can use to navigate the relationship tree pane:","pos":[30038,30148],"source":" The following list provides controls and commands that you can use to navigate the relationship tree pane:\n    "},{"content":"With the <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Level<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> slider, you can select a level and show only the tables at the selected and higher levels.","pos":[30162,30308],"source":"With the <strong><span class=\"ui\">Level</span></strong> slider, you can select a level and show only the tables at the selected and higher levels."},{"content":"With the <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Zoom<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> slider, you can change the diagram size.","pos":[30322,30417],"source":"With the <strong><span class=\"ui\">Zoom</span></strong> slider, you can change the diagram size."},{"content":"Right-click the driver table to work with the following commands:","pos":[30431,30500],"source":"Right-click the driver table to work with the following commands:\n    "},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Add Related Archive Object<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to add a Related Archive Object.","pos":[30514,30620],"source":"Click <strong><span class=\"ui\">Add Related Archive Object</span></strong> to add a Related Archive Object."},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Remove all invalid tables<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to remove all invalid tables, together with all their related tables, from the nested hierarchy.","pos":[30634,30803],"source":"Click <strong><span class=\"ui\">Remove all invalid tables</span></strong> to remove all invalid tables, together with all their related tables, from the nested hierarchy."},{"content":"Right-click a child table to work with the following commands:","pos":[30832,30898],"source":"Right-click a child table to work with the following commands:\n    "},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Remove<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to remove the selected table from the level, and to remove its nested child tables from the hierarchical tree.","pos":[30912,31076],"source":"Click <strong><span class=\"ui\">Remove</span></strong> to remove the selected table from the level, and to remove its nested child tables from the hierarchical tree."},{"content":"For example, the <bpt id=\"p1\">&lt;strong&gt;</bpt>SpecTrans<ept id=\"p1\">&lt;/strong&gt;</ept> table appears in level 2 and level 3.","pos":[31077,31158],"source":" For example, the <strong>SpecTrans</strong> table appears in level 2 and level 3."},{"content":"If you right-click the table in level 2, and then select <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Remove<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>, the table is removed from level 2, together with its nested child relations.","pos":[31159,31341],"source":" If you right-click the table in level 2, and then select <strong><span class=\"ui\">Remove</span></strong>, the table is removed from level 2, together with its nested child relations."},{"content":"The occurrence of the table remains intact in level 3.","pos":[31342,31396]},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Select all occurrences<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to display all occurrences of the selected table and its related tables in a dotted green border.","pos":[31410,31577],"source":"Click <strong><span class=\"ui\">Select all occurrences</span></strong> to display all occurrences of the selected table and its related tables in a dotted green border."},{"content":"In this case, the table <bpt id=\"p1\">&lt;strong&gt;</bpt>SpecTrans<ept id=\"p1\">&lt;/strong&gt;</ept> is selected in levels 2 and 3, together with all its nested child relationships.","pos":[31578,31709],"source":" In this case, the table <strong>SpecTrans</strong> is selected in levels 2 and 3, together with all its nested child relationships."},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Remove all occurrences<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to remove all occurrences of the selected table and its related tables.","pos":[31723,31864],"source":"Click <strong><span class=\"ui\">Remove all occurrences</span></strong> to remove all occurrences of the selected table and its related tables."},{"content":"In this case, the table <bpt id=\"p1\">&lt;strong&gt;</bpt>SpecTrans<ept id=\"p1\">&lt;/strong&gt;</ept> is removed from levels 2 and 3, together with all its nested child relationships.","pos":[31865,31997],"source":" In this case, the table <strong>SpecTrans</strong> is removed from levels 2 and 3, together with all its nested child relationships."},{"content":"The removed tables appear in a gray shape with a solid red border.","pos":[31998,32064]},{"content":"Click <bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt><bpt id=\"p2\">&lt;strong&gt;</bpt>Add to data replicate<ept id=\"p2\">&lt;/strong&gt;</ept><ept id=\"p1\">&lt;/span&gt;</ept> to remove the selected table from the relationship tree and add it to the master tables list.","pos":[32078,32240],"source":"Click <span class=\"ui\"><strong>Add to data replicate</strong></span> to remove the selected table from the relationship tree and add it to the master tables list."},{"content":"This command performs these tasks:","pos":[32241,32279],"source":" This command performs these tasks:\n    "},{"content":"Remove the selected table, together with all its nested child tables, from the relationship tree of all existing Archive Objects and archive templates.","pos":[32293,32444]},{"content":"Add the selected table to the <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Recommended tables<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> tab in the master data tables list (<bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Administer<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p5\">&lt;strong&gt;</bpt><bpt id=\"p6\">&lt;span class=\"ui\"&gt;</bpt>Master data tables<ept id=\"p6\">&lt;/span&gt;</ept><ept id=\"p5\">&lt;/strong&gt;</ept>).","pos":[32458,32702],"source":"Add the selected table to the <strong><span class=\"ui\">Recommended tables</span></strong> tab in the master data tables list (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Master data tables</span></strong>)."},{"content":"Click <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Discover<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> to regenerate the hierarchical parent-child relationship for the selected table.","pos":[32746,32882],"source":"Click <strong><span class=\"ui\">Discover</span></strong> to regenerate the hierarchical parent-child relationship for the selected table."},{"content":"This command is available only when you select a table with the table group property of <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>WorkSheetHeader<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>.","pos":[32883,33028],"source":" This command is available only when you select a table with the table group property of <strong><span class=\"ui\">WorkSheetHeader</span></strong>."},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Note<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[33124,33145],"source":"<strong>Note</strong>"},{"content":"A table with the symbol X in the top-right corner meets the row size or table size configuration in the Framework options window (<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Administer<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Framework options<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept>).","pos":[33215,33462],"source":"A table with the symbol X in the top-right corner meets the row size or table size configuration in the Framework options window (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Framework options</span></strong>)."},{"content":"Review these tables carefully to determine whether such tables have to be removed from the relationship and added to the master data tables list (<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Administer<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">&lt;strong&gt;</bpt><bpt id=\"p4\">&lt;span class=\"ui\"&gt;</bpt>Master data tables<ept id=\"p4\">&lt;/span&gt;</ept><ept id=\"p3\">&lt;/strong&gt;</ept>).","pos":[33463,33727],"source":" Review these tables carefully to determine whether such tables have to be removed from the relationship and added to the master data tables list (<strong><span class=\"ui\">Administer</span></strong> &gt; <strong><span class=\"ui\">Master data tables</span></strong>)."},{"content":"To add a table to the master data tables list, right-click the table, and then select <bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Add to data replicate<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>.","pos":[33728,33877],"source":" To add a table to the master data tables list, right-click the table, and then select <strong><span class=\"ui\">Add to data replicate</span></strong>."},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Properties<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[33975,34026],"source":"<strong><span class=\"ui\">Properties</span></strong>"},{"content":"Shows properties for the selected table and provides commands that you can use for the selected table.When a table in the Archive Object contains multiple relations, you can use the <bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt>Relations<ept id=\"p1\">&lt;/span&gt;</ept> node in the tree view to disable one or more relations, as detailed later in this section.","pos":[34040,34346],"source":"Shows properties for the selected table and provides commands that you can use for the selected table.When a table in the Archive Object contains multiple relations, you can use the <span class=\"ui\">Relations</span> node in the tree view to disable one or more relations, as detailed later in this section."},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Remove table<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[34391,34444],"source":"<strong><span class=\"ui\">Remove table</span></strong>"},{"content":"Provides a data grid that you can use to select tables that you want to remove from the relationship tree.","pos":[34458,34564]},{"content":"This pane also provides an <bpt id=\"p1\">&lt;span class=\"ui\"&gt;</bpt>Advanced filter<ept id=\"p1\">&lt;/span&gt;</ept> control that you can use to filter the data grid.","pos":[34565,34681],"source":" This pane also provides an <span class=\"ui\">Advanced filter</span> control that you can use to filter the data grid."},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt><bpt id=\"p2\">&lt;span class=\"ui\"&gt;</bpt>Related Information<ept id=\"p2\">&lt;/span&gt;</ept><ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[34727,34787],"source":"<strong><span class=\"ui\">Related Information</span></strong>"},{"content":"Provides additional information for some of the tables.","pos":[34801,34856]},{"content":"If related information is provided, read it carefully to understand the archive relevance of the table.","pos":[34857,34960]},{"pos":[35023,35030],"content":"Buttons","linkify":"Buttons","nodes":[{"content":"Buttons","pos":[0,7]}]},{"content":"Button","pos":[35038,35044]},{"content":"Description","pos":[35066,35077]},{"pos":[35704,35714],"content":"<bpt id=\"p1\">**</bpt>Remove<ept id=\"p1\">**</ept>","source":"**Remove**"},{"content":"Remove tables that are selected in the data grid in the <bpt id=\"p1\">**</bpt>Remove table<ept id=\"p1\">**</ept> pane.","pos":[35732,35810],"source":"Remove tables that are selected in the data grid in the **Remove table** pane."},{"content":"When you remove a table, all the child tables for the selected table are removed.","pos":[35811,35892]},{"content":"The removal spans the whole relationship tree, and all nested parent-child relations for the selected table's child tables are removed.","pos":[35893,36028]},{"pos":[36037,36047],"content":"<bpt id=\"p1\">**</bpt>Revert<ept id=\"p1\">**</ept>","source":"**Revert**"},{"content":"Reverse the modifications made to the Archive Object, back to the last save.","pos":[36065,36141]},{"content":"This resembles an \"undo\" command.","pos":[36142,36175]},{"pos":[36370,36395],"content":"<bpt id=\"p1\">**</bpt>Show allShow selected<ept id=\"p1\">**</ept>","source":"**Show allShow selected**"},{"content":"Show all tables or selected tables, and toggle the label of the button.","pos":[36398,36469]},{"content":"Removed tables appear in gray boxes with a solid red line around them.","pos":[36470,36540]},{"pos":[36718,36744],"content":"Fields (Remove table pane)","linkify":"Fields (Remove table pane)","nodes":[{"content":"Fields (Remove table pane)","pos":[0,26]}]},{"content":"Field","pos":[36752,36757]},{"content":"Description","pos":[36776,36787]},{"pos":[36948,36963],"content":"<bpt id=\"p1\">**</bpt>Check boxes<ept id=\"p1\">**</ept>","source":"**Check boxes**"},{"content":"Select tables that you want to remove from the relationship tree.","pos":[36972,37037]},{"pos":[37046,37060],"content":"<bpt id=\"p1\">**</bpt>Table name<ept id=\"p1\">**</ept>","source":"**Table name**"},{"content":"The name of the table.","pos":[37070,37092]},{"pos":[37144,37165],"content":"<bpt id=\"p1\">**</bpt>Configuration key<ept id=\"p1\">**</ept>","source":"**Configuration key**"},{"content":"The configuration key of the table.","pos":[37168,37203]},{"pos":[37242,37251],"content":"<bpt id=\"p1\">**</bpt>Level<ept id=\"p1\">**</ept>","source":"**Level**"},{"content":"The level of the table in the relationship tree.","pos":[37266,37314]},{"pos":[37340,37353],"content":"<bpt id=\"p1\">**</bpt>Row count<ept id=\"p1\">**</ept>","source":"**Row count**"},{"content":"The number of rows in the table.","pos":[37364,37396]},{"pos":[37438,37478],"content":"Walkthrough: Work with an Archive Object","linkify":"Walkthrough: Work with an Archive Object","nodes":[{"content":"Walkthrough: Work with an Archive Object","pos":[0,40]}]},{"content":"This section provides a walkthrough for working with an Archive Object.","pos":[37530,37601]},{"content":"If you have not created the Archive Object already, create one.","pos":[37610,37673]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[37674,37705],"source":" On the toolbar, click **Save**."},{"content":"In the next dialog box, read the warning message carefully, and then click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept>.","pos":[37706,37789],"source":" In the next dialog box, read the warning message carefully, and then click **Yes**."},{"content":"In the <bpt id=\"p1\">**</bpt>Save as<ept id=\"p1\">**</ept> dialog box, enter <bpt id=\"p2\">**</bpt>WmsOrder1<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Save<ept id=\"p3\">**</ept>.","pos":[37790,37866],"source":" In the **Save as** dialog box, enter **WmsOrder1**, and then click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[37867,37880],"source":" Click **OK**."},{"pos":[37889,37943],"content":"Click the <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept> table in the hierarchy diagram.","source":"Click the **WMSOrder** table in the hierarchy diagram."},{"pos":[37952,38047],"content":"Use the <bpt id=\"p1\">**</bpt>Zoom<ept id=\"p1\">**</ept> slider to change the diagram size so that you can read the table names easily.","source":"Use the **Zoom** slider to change the diagram size so that you can read the table names easily."},{"content":"In the relationship tree, move the mouse pointer over table <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept> to see the information that is displayed in the tooltip.","pos":[38056,38185],"source":"In the relationship tree, move the mouse pointer over table **WMSOrder** to see the information that is displayed in the tooltip."},{"content":"In the relationship tree, move the mouse pointer over the <bpt id=\"p1\">**</bpt>1:N relationship description<ept id=\"p1\">**</ept> above the <bpt id=\"p2\">**</bpt>WMSOrderTrans<ept id=\"p2\">**</ept> table to see the information that is displayed in the tooltip.","pos":[38186,38367],"source":" In the relationship tree, move the mouse pointer over the **1:N relationship description** above the **WMSOrderTrans** table to see the information that is displayed in the tooltip."},{"pos":[38376,38478],"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, expand each node in the tree view to see the information that is provided.","source":"In the **Properties** pane, expand each node in the tree view to see the information that is provided."},{"content":"If the <bpt id=\"p1\">**</bpt>Advanced<ept id=\"p1\">**</ept> filter control does not show the selection criteria, click the <bpt id=\"p2\">**</bpt>Advanced<ept id=\"p2\">**</ept> filter arrow.","pos":[38487,38596],"source":"If the **Advanced** filter control does not show the selection criteria, click the **Advanced** filter arrow."},{"content":"Type 1 in the <bpt id=\"p1\">**</bpt>Level<ept id=\"p1\">**</ept> field, and then click <bpt id=\"p2\">**</bpt>Search<ept id=\"p2\">**</ept>.","pos":[38597,38654],"source":" Type 1 in the **Level** field, and then click **Search**."},{"content":"This changes the grid to show only those tables that are in level 1.","pos":[38655,38723]},{"pos":[38732,38805],"content":"Select the <bpt id=\"p1\">**</bpt>WMSOrderTrans<ept id=\"p1\">**</ept> table by selecting the check box next to it.","source":"Select the **WMSOrderTrans** table by selecting the check box next to it."},{"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, click <bpt id=\"p2\">**</bpt>Remove<ept id=\"p2\">**</ept>.","pos":[38814,38859],"source":"In the **Properties** pane, click **Remove**."},{"content":"Note that table <bpt id=\"p1\">**</bpt>WMSOrderTrans<ept id=\"p1\">**</ept> and all its child tables in levels 2, 3, and 4 are removed.","pos":[38860,38953],"source":" Note that table **WMSOrderTrans** and all its child tables in levels 2, 3, and 4 are removed."},{"content":"Click the <bpt id=\"p1\">**</bpt>Show all<ept id=\"p1\">**</ept> button in the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> pane.","pos":[38962,39019],"source":"Click the **Show all** button in the **Properties** pane."},{"content":"The diagram shows all the tables, with the removed tables in red lines.","pos":[39020,39091]},{"content":"Click <bpt id=\"p1\">**</bpt>Revert<ept id=\"p1\">**</ept> to restore the original Archive Object.","pos":[39100,39156],"source":"Click **Revert** to restore the original Archive Object."},{"content":"The diagram now reverts to the state it was in before you deleted <bpt id=\"p1\">**</bpt>WMSOrderTrans<ept id=\"p1\">**</ept> in step 8.","pos":[39157,39251],"source":" The diagram now reverts to the state it was in before you deleted **WMSOrderTrans** in step 8."},{"content":"Repeat steps 7, 8, and 9 to remove the tables again.","pos":[39260,39312]},{"content":"All the removed tables appear in gray shapes with solid red lines.","pos":[39313,39379]},{"content":"Click <bpt id=\"p1\">**</bpt>Show selected<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> pane to see the revised Archive Object.","pos":[39388,39473],"source":"Click **Show selected** in the **Properties** pane to see the revised Archive Object."},{"content":"Verify that the removed tables are not in the Archive Object.","pos":[39474,39535]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[39544,39575],"source":"On the toolbar, click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> in the dialog box to save the Archive Object with a new version.","pos":[39576,39655],"source":" Click **Save** in the dialog box to save the Archive Object with a new version."},{"content":"You must provide a unique name when you save an Archive Object.","pos":[39656,39719]},{"content":"IDMF treats the saved Archive Object as a new version of the original Archive Object or archive template.","pos":[39720,39825]},{"pos":[39834,39922],"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Archive template/Archive Objects<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>WMSOrder<ept id=\"p2\">**</ept>.","source":"On the toolbar, click **Archive template/Archive Objects**, and then click **WMSOrder**."},{"content":"Verify that the Archive Object diagram does not contain the tables you removed in step 11.","pos":[39931,40021]},{"content":"Switch between <bpt id=\"p1\">**</bpt>Show all/****Show<ept id=\"p1\">**</ept> selected to confirm that the removed tables still appear in gray shapes with solid red lines.","pos":[40022,40152],"source":" Switch between **Show all/****Show** selected to confirm that the removed tables still appear in gray shapes with solid red lines."},{"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, click <bpt id=\"p2\">**</bpt>Revert<ept id=\"p2\">**</ept>.","pos":[40161,40206],"source":"In the **Properties** pane, click **Revert**."},{"content":"The Archive Object does not change.","pos":[40207,40242]},{"content":"The revert action cannot undo the changes, because the Archive Object has been saved.","pos":[40243,40328]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Show versions<ept id=\"p1\">**</ept>.","pos":[40337,40377],"source":"On the toolbar, click **Show versions**."},{"content":"In the <bpt id=\"p1\">**</bpt>Version history<ept id=\"p1\">**</ept> dialog box, select <bpt id=\"p2\">**</bpt>WMSOrder<ept id=\"p2\">**</ept> from the list, and select the version of the Archive Object in the Archive Object list.","pos":[40378,40524],"source":" In the **Version history** dialog box, select **WMSOrder** from the list, and select the version of the Archive Object in the Archive Object list."},{"content":"Each version of the Archive Object is saved with a unique name.","pos":[40525,40588]},{"content":"Therefore, each Archive Object in the list provides a different version of <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept>.","pos":[40589,40677],"source":" Therefore, each Archive Object in the list provides a different version of **WMSOrder**."},{"content":"Select the last item in the list, <bpt id=\"p1\">**</bpt>WMSOrder<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Show<ept id=\"p2\">**</ept> to restore the Archive Object to the first version that is included as the archive template in IDMF.","pos":[40686,40858],"source":"Select the last item in the list, **WMSOrder**, and then click **Show** to restore the Archive Object to the first version that is included as the archive template in IDMF."},{"content":"The restored Archive Object differs from the Archive Object you started working with in step 1.","pos":[40859,40954]},{"content":"The relationship tree in the default archive template has been adjusted based on the functional assessment of the Microsoft Dynamics AX application.","pos":[40955,41103]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[41112,41143],"source":"On the toolbar, click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> to overwrite the object.","pos":[41144,41182],"source":" Click **Yes** to overwrite the object."},{"content":"In the <bpt id=\"p1\">**</bpt>Save as<ept id=\"p1\">**</ept> dialog box, enter the name for the Archive Object, and then click <bpt id=\"p2\">**</bpt>Save<ept id=\"p2\">**</ept>.","pos":[41183,41277],"source":" In the **Save as** dialog box, enter the name for the Archive Object, and then click **Save**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> to close the message indicating the success or failure of the save operation.","pos":[41278,41368],"source":" Click **OK** to close the message indicating the success or failure of the save operation."},{"content":"Keep the Archive Object open, because it is also used in the next section.","pos":[41369,41443]},{"content":"Archive templates/Archive Object","pos":[41450,41482]},{"content":"This command provides a list of archive templates and Archive Objects in your system.","pos":[41526,41611]},{"content":"An archive template is a template that is included with IDMF with a predefined relationship tree.","pos":[41612,41709]},{"content":"You can use an archive template as a starting point to create an Archive Object.","pos":[41710,41790]},{"content":"You must review an archive template to make sure that it meets your requirements, and save it before you can use it in a scheduled archive task.","pos":[41791,41935]},{"content":"This command uses the same navigation and toolbar commands as the <bpt id=\"p1\">**</bpt>Create Archive Object<ept id=\"p1\">**</ept> workspace.","pos":[41936,42038],"source":" This command uses the same navigation and toolbar commands as the **Create Archive Object** workspace."},{"pos":[42047,42089],"content":"Walkthrough: Work with an archive template","linkify":"Walkthrough: Work with an archive template","nodes":[{"content":"Walkthrough: Work with an archive template","pos":[0,42]}]},{"content":"This section provides a walkthrough for working with an archive template.","pos":[42095,42168]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Archive templates/Archive Object<ept id=\"p1\">**</ept>.","pos":[42177,42236],"source":"On the toolbar, click **Archive templates/Archive Object**."},{"content":"Observe the icon of the <bpt id=\"p1\">**</bpt>BankChequeTable<ept id=\"p1\">**</ept> template.","pos":[42237,42290],"source":" Observe the icon of the **BankChequeTable** template."},{"pos":[42299,42340],"content":"Select <bpt id=\"p1\">**</bpt>BankChequeTable<ept id=\"p1\">**</ept> from the list.","source":"Select **BankChequeTable** from the list."},{"content":"Review the tables, table properties, and relationship tree to understand how the data archiving for <bpt id=\"p1\">**</bpt>BankChequeTable<ept id=\"p1\">**</ept> cascades through the relationship tree in the archive template.","pos":[42349,42532],"source":"Review the tables, table properties, and relationship tree to understand how the data archiving for **BankChequeTable** cascades through the relationship tree in the archive template."},{"content":"Make sure that this relationship tree covers your application and any customizations you may have made to the Microsoft Dynamics AX application.","pos":[42533,42677]},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[42686,42717],"source":"On the toolbar, click **Save**."},{"content":"You must provide a unique name when you save an Archive Object.","pos":[42718,42781]},{"content":"Change the name to BankChequeTable<ph id=\"ph1\">\\_</ph>object to identify this saved object as an Archive Object.","pos":[42782,42876],"source":" Change the name to BankChequeTable\\_object to identify this saved object as an Archive Object."},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","pos":[42877,42892],"source":" Click **Save**."},{"pos":[42901,42944],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept> in the dialog box to continue.","source":"Click **OK** in the dialog box to continue."},{"content":"On the toolbar, click <bpt id=\"p1\">**</bpt>Archive templates/Archive Objects<ept id=\"p1\">**</ept>.","pos":[42953,43013],"source":"On the toolbar, click **Archive templates/Archive Objects**."},{"content":"You do not see <bpt id=\"p1\">**</bpt>BankChequeTable<ph id=\"ph1\">\\_</ph>object<ept id=\"p1\">**</ept> in the list.","pos":[43014,43069],"source":" You do not see **BankChequeTable\\_object** in the list."},{"content":"Unlike Purge Objects, Archive Objects are saved with the same name, but with a new version.","pos":[43070,43161]},{"content":"In this case, the <bpt id=\"p1\">**</bpt>BankChequeTable<ept id=\"p1\">**</ept> object is created with a version name <bpt id=\"p2\">**</bpt>BankChequeTable<ph id=\"ph1\">\\_</ph>object<ept id=\"p2\">**</ept>.","pos":[43162,43266],"source":" In this case, the **BankChequeTable** object is created with a version name **BankChequeTable\\_object**."},{"content":"As always, the latest version is effective.","pos":[43267,43310]},{"pos":[43319,43441],"content":"Notice that the icon of <bpt id=\"p1\">**</bpt>BankChequeTable<ept id=\"p1\">**</ept> is changed compared to earlier, which indicates that it is saved as an object.","source":"Notice that the icon of **BankChequeTable** is changed compared to earlier, which indicates that it is saved as an object."}]}