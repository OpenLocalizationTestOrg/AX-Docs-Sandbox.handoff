{"content":"---\n# required metadata\n\ntitle: Electronic invoices (CFDI)\ndescription: This article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT). It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.\nauthor: ShylaThompson\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\nms.search.form: EInvoiceCFDIJour_MX, EInvoiceCFDIPACTable_MX, EInvoiceParameters_MX, SalesTable, SalesTablePostings\n# ROBOTS: \naudience: Application User\n# ms.devlang: \nms.reviewer: ShylaThompson\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 29791\nms.assetid: b6861a2c-c132-48a2-97b5-9cb1020e0512\nms.search.region: Mexico\n# ms.search.industry: \nms.author: sndray\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Electronic invoices (CFDI)\n\nThis article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT). It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.\n\nAn electronic invoice is a legally accepted digital tax receipt that your organization submits to the Mexican tax authority (Servicio de Administración Tributaria \\[SAT\\]). Microsoft Dynamics 365 for Operations helps guarantee that the electronic invoices that your organization generates are secure, confidential, authentic, and legally acceptable. You can also make sure that international standards are applied to your electronic invoices. You can generate an electronic invoice for the following documents when a transaction is posted:\n\n-   Sales order\n-   Free text invoice\n-   Credit note\n-   Return order\n-   Project invoice\n-   Project sales order\n\n## Methods for generating electronic invoices\nThere are two methods for generating electronic invoices:\n\n-   **Comprobantes fiscales digitales (CFD)** – Electronic invoices are generated by using Dynamics 365 for Operations. The invoices are then verified and certified by using a government website. Finally, your organization submits the invoices to SAT. Although this method is now obsolete because of changes in the legislation, you can inquire about CFD transactions that were previously generated in Dynamics 365 for Operations.\n-   **Comprobantes fiscales digitales por internet (CFDI)** – This is the current method for generating electronic invoices in the format that SAT requires. In this method, the invoices are verified and certified by a digital signature service provider (PAC). Before you can use the CFDI method to generate electronic invoices, your organization must set up a web service connection to an authorized PAC. For the CFDI method, you send an XML message from Dynamics 365 for Operations to the PAC. The PAC validates each invoice, assigns a folio number, and then incorporates the digital stamp that the service tax authorities provide. After the PAC completes the approval process, your organization receives the approved XML message, and can then submit the invoice to the customer in XML or PDF format.\n\n> [!NOTE]\n>  Integration with the PAC web service is not part of the Mexican localization. For information about how to customize a web service connection with a PAC, see “Customizing the integration with PAC web services” later in this article. \n\nThe following illustration shows the process for generating an electronic invoice by using the CFDI method. ![The electronic invoice process for Mexico](./media/about-electronic-invoices-cfdi.jpg \"Electronic invoicing generation process for CFDI method\")    \n\n### Requirements for using electronic invoices\n\nTo use electronic invoices, your organization must complete the following tasks:\n\n-   Obtain authorization from SAT to use the CFDI method, and acquire the related SAT certificate to issue electronic invoices.\n-   Obtain a Registro Federal de Contribuyentes (RFC) number, a Clave Única de Registro de Población (CURP) number, and a state inscription number from SAT.\n-   Contract a PAC web service. You can find the authorized PAC services on the SAT website. Some PACs require that you install an additional certificate to enable the connection between your instance of Dynamics 365 for Operationsand the PAC web service.\n-   Make sure that PDF and XML files meet SAT requirements. These files are sent to customers as email attachments. The XML file that is generated must be based on the XML schema definition (XSD) that SAT provides. You must archive the XML file of each electronic invoice.\n-   An RFC or CURP tax registration ID is required for your organization and your customers. Be sure to complete this information in the related configuration.\n-   Install the SAT certificate and PAC service certificate on the server, and make sure that the NETWORK SERVICE user has the appropriate permissions for private keys.\n-   Identify the PAC web service that is used. (Click **Accounts receivable** &gt; **Invoices** &gt; **E-invoice** &gt; **PAC accounts**.) You can use test and production environments if your PAC services allow for these types of environments.\n-   Enable the configuration to send email, and define the email template that is used to transmit XML and PDF files. (Click **Organization administration** &gt; **Setup** &gt; **E-mail parameters**.)\n-   Enable the configuration to issue CFDI electronic invoices. (Click **Accounts receivable** &gt; **Invoices** &gt; **E-invoice** &gt; **Electronic invoice parameters**.)\n-   Prepare the integration with your PAC web service.\n\n### Information that is included in electronic invoices\n\nAn electronic invoice includes the following details:\n\n-   The name, address, and tax registration numbers of your organization and the customer.\n-   The invoice number, the date, and the name of the city where the invoice was generated.\n-   The serial number of the digital certificate, the authorization number, and the year when the certificate was authorized.\n-   The description and quantity of each item that is included in the invoice.\n-   The unit price of each item.\n-   The amount that was withheld for income tax (Impuesto sobre la renta \\[ISR\\]) and value-added tax (VAT). To obtain this information, you must set up the tax type (VAT or ISR) on the **Sales tax code configuration** page (click **Tax** &gt; **Indirect taxes, Sales tax** &gt; **Sales tax code** &gt; **General** &gt; **Tax type**).\n-   The total amount of the invoice transaction.\n-   The name, number, and date of the customs document that is generated for imported items. This information is available in each invoice transaction form that is mentioned earlier.\n-   The registration number of the property if the invoice transaction includes leasing services. This information is available in each invoice transaction form that is mentioned earlier.\n-   The digital stamp of the organization.\n-   For a printed CFDI version, the bidimensional bar code.\n\n## Customizing the integration PAC web services\nAs is explained in detail in the Mexican localization scope document, integration with PAC web services requires customization. This customization varies, depending on the PAC web services that are contracted.\n\n","nodes":[{"pos":[32,58],"content":"Electronic invoices (CFDI)","needQuote":true,"needEscape":true,"nodes":[{"content":"Electronic invoices (CFDI)","pos":[0,26]}]},{"pos":[72,363],"content":"This article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT). It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT). It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.","pos":[0,291],"nodes":[{"content":"This article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT).","pos":[0,133]},{"content":"It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.","pos":[134,291]}]}]},{"pos":[983,1009],"content":"Electronic invoices (CFDI)","linkify":"Electronic invoices (CFDI)","nodes":[{"content":"Electronic invoices (CFDI)","pos":[0,26]}]},{"content":"This article provides information about the electronic invoices that your organization can submit to the Mexican tax authority (SAT).","pos":[1011,1144]},{"content":"It describes the currently approved method for submitting electronic invoices (CFDI), the requirements for using them, and the information that they include.","pos":[1145,1302]},{"content":"An electronic invoice is a legally accepted digital tax receipt that your organization submits to the Mexican tax authority (Servicio de Administración Tributaria <ph id=\"ph1\">\\[</ph>SAT<ph id=\"ph2\">\\]</ph>).","pos":[1304,1476],"source":"An electronic invoice is a legally accepted digital tax receipt that your organization submits to the Mexican tax authority (Servicio de Administración Tributaria \\[SAT\\])."},{"content":"Microsoft Dynamics 365 for Operations helps guarantee that the electronic invoices that your organization generates are secure, confidential, authentic, and legally acceptable.","pos":[1477,1653]},{"content":"You can also make sure that international standards are applied to your electronic invoices.","pos":[1654,1746]},{"content":"You can generate an electronic invoice for the following documents when a transaction is posted:","pos":[1747,1843]},{"content":"Sales order","pos":[1849,1860]},{"content":"Free text invoice","pos":[1865,1882]},{"content":"Credit note","pos":[1887,1898]},{"content":"Return order","pos":[1903,1915]},{"content":"Project invoice","pos":[1920,1935]},{"content":"Project sales order","pos":[1940,1959]},{"pos":[1964,2006],"content":"Methods for generating electronic invoices","linkify":"Methods for generating electronic invoices","nodes":[{"content":"Methods for generating electronic invoices","pos":[0,42]}]},{"content":"There are two methods for generating electronic invoices:","pos":[2007,2064]},{"content":"<bpt id=\"p1\">**</bpt>Comprobantes fiscales digitales (CFD)<ept id=\"p1\">**</ept> – Electronic invoices are generated by using Dynamics 365 for Operations.","pos":[2070,2185],"source":"**Comprobantes fiscales digitales (CFD)** – Electronic invoices are generated by using Dynamics 365 for Operations."},{"content":"The invoices are then verified and certified by using a government website.","pos":[2186,2261]},{"content":"Finally, your organization submits the invoices to SAT.","pos":[2262,2317]},{"content":"Although this method is now obsolete because of changes in the legislation, you can inquire about CFD transactions that were previously generated in Dynamics 365 for Operations.","pos":[2318,2495]},{"content":"<bpt id=\"p1\">**</bpt>Comprobantes fiscales digitales por internet (CFDI)<ept id=\"p1\">**</ept> – This is the current method for generating electronic invoices in the format that SAT requires.","pos":[2500,2652],"source":"**Comprobantes fiscales digitales por internet (CFDI)** – This is the current method for generating electronic invoices in the format that SAT requires."},{"content":"In this method, the invoices are verified and certified by a digital signature service provider (PAC).","pos":[2653,2755]},{"content":"Before you can use the CFDI method to generate electronic invoices, your organization must set up a web service connection to an authorized PAC.","pos":[2756,2900]},{"content":"For the CFDI method, you send an XML message from Dynamics 365 for Operations to the PAC.","pos":[2901,2990]},{"content":"The PAC validates each invoice, assigns a folio number, and then incorporates the digital stamp that the service tax authorities provide.","pos":[2991,3128]},{"content":"After the PAC completes the approval process, your organization receives the approved XML message, and can then submit the invoice to the customer in XML or PDF format.","pos":[3129,3297]},{"pos":[3301,3544],"content":"[!NOTE]\n Integration with the PAC web service is not part of the Mexican localization. For information about how to customize a web service connection with a PAC, see “Customizing the integration with PAC web services” later in this article.","leadings":["","> "],"nodes":[{"content":" Integration with the PAC web service is not part of the Mexican localization. For information about how to customize a web service connection with a PAC, see “Customizing the integration with PAC web services” later in this article.","pos":[8,241],"nodes":[{"content":"Integration with the PAC web service is not part of the Mexican localization.","pos":[1,78]},{"content":"For information about how to customize a web service connection with a PAC, see “Customizing the integration with PAC web services” later in this article.","pos":[79,233]}]}]},{"content":"The following illustration shows the process for generating an electronic invoice by using the CFDI method.","pos":[3547,3654]},{"content":"<bpt id=\"p1\">![</bpt>The electronic invoice process for Mexico<ept id=\"p1\">]</ept><bpt id=\"p2\">(./media/about-electronic-invoices-cfdi.jpg \"</bpt>Electronic invoicing generation process for CFDI method<ept id=\"p2\">\")</ept>","pos":[3655,3801],"source":"![The electronic invoice process for Mexico](./media/about-electronic-invoices-cfdi.jpg \"Electronic invoicing generation process for CFDI method\")"},{"pos":[3811,3853],"content":"Requirements for using electronic invoices","linkify":"Requirements for using electronic invoices","nodes":[{"content":"Requirements for using electronic invoices","pos":[0,42]}]},{"content":"To use electronic invoices, your organization must complete the following tasks:","pos":[3855,3935]},{"content":"Obtain authorization from SAT to use the CFDI method, and acquire the related SAT certificate to issue electronic invoices.","pos":[3941,4064]},{"content":"Obtain a Registro Federal de Contribuyentes (RFC) number, a Clave Única de Registro de Población (CURP) number, and a state inscription number from SAT.","pos":[4069,4221]},{"content":"Contract a PAC web service.","pos":[4226,4253]},{"content":"You can find the authorized PAC services on the SAT website.","pos":[4254,4314]},{"content":"Some PACs require that you install an additional certificate to enable the connection between your instance of Dynamics 365 for Operationsand the PAC web service.","pos":[4315,4477]},{"content":"Make sure that PDF and XML files meet SAT requirements.","pos":[4482,4537]},{"content":"These files are sent to customers as email attachments.","pos":[4538,4593]},{"content":"The XML file that is generated must be based on the XML schema definition (XSD) that SAT provides.","pos":[4594,4692]},{"content":"You must archive the XML file of each electronic invoice.","pos":[4693,4750]},{"content":"An RFC or CURP tax registration ID is required for your organization and your customers.","pos":[4755,4843]},{"content":"Be sure to complete this information in the related configuration.","pos":[4844,4910]},{"content":"Install the SAT certificate and PAC service certificate on the server, and make sure that the NETWORK SERVICE user has the appropriate permissions for private keys.","pos":[4915,5079]},{"content":"Identify the PAC web service that is used.","pos":[5084,5126]},{"content":"(Click <bpt id=\"p1\">**</bpt>Accounts receivable<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Invoices<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>E-invoice<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>PAC accounts<ept id=\"p4\">**</ept>.) You can use test and production environments if your PAC services allow for these types of environments.","pos":[5127,5323],"source":" (Click **Accounts receivable** &gt; **Invoices** &gt; **E-invoice** &gt; **PAC accounts**.) You can use test and production environments if your PAC services allow for these types of environments."},{"content":"Enable the configuration to send email, and define the email template that is used to transmit XML and PDF files.","pos":[5328,5441]},{"content":"(Click <bpt id=\"p1\">**</bpt>Organization administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>E-mail parameters<ept id=\"p3\">**</ept>.)","pos":[5442,5524],"source":" (Click **Organization administration** &gt; **Setup** &gt; **E-mail parameters**.)"},{"content":"Enable the configuration to issue CFDI electronic invoices.","pos":[5529,5588]},{"content":"(Click <bpt id=\"p1\">**</bpt>Accounts receivable<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Invoices<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>E-invoice<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Electronic invoice parameters<ept id=\"p4\">**</ept>.)","pos":[5589,5697],"source":" (Click **Accounts receivable** &gt; **Invoices** &gt; **E-invoice** &gt; **Electronic invoice parameters**.)"},{"content":"Prepare the integration with your PAC web service.","pos":[5702,5752]},{"pos":[5758,5809],"content":"Information that is included in electronic invoices","linkify":"Information that is included in electronic invoices","nodes":[{"content":"Information that is included in electronic invoices","pos":[0,51]}]},{"content":"An electronic invoice includes the following details:","pos":[5811,5864]},{"content":"The name, address, and tax registration numbers of your organization and the customer.","pos":[5870,5956]},{"content":"The invoice number, the date, and the name of the city where the invoice was generated.","pos":[5961,6048]},{"content":"The serial number of the digital certificate, the authorization number, and the year when the certificate was authorized.","pos":[6053,6174]},{"content":"The description and quantity of each item that is included in the invoice.","pos":[6179,6253]},{"content":"The unit price of each item.","pos":[6258,6286]},{"content":"The amount that was withheld for income tax (Impuesto sobre la renta <ph id=\"ph1\">\\[</ph>ISR<ph id=\"ph2\">\\]</ph>) and value-added tax (VAT).","pos":[6291,6395],"source":"The amount that was withheld for income tax (Impuesto sobre la renta \\[ISR\\]) and value-added tax (VAT)."},{"content":"To obtain this information, you must set up the tax type (VAT or ISR) on the <bpt id=\"p1\">**</bpt>Sales tax code configuration<ept id=\"p1\">**</ept> page (click <bpt id=\"p2\">**</bpt>Tax<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Indirect taxes, Sales tax<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Sales tax code<ept id=\"p4\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>General<ept id=\"p5\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Tax type<ept id=\"p6\">**</ept>).","pos":[6396,6621],"source":" To obtain this information, you must set up the tax type (VAT or ISR) on the **Sales tax code configuration** page (click **Tax** &gt; **Indirect taxes, Sales tax** &gt; **Sales tax code** &gt; **General** &gt; **Tax type**)."},{"content":"The total amount of the invoice transaction.","pos":[6626,6670]},{"content":"The name, number, and date of the customs document that is generated for imported items.","pos":[6675,6763]},{"content":"This information is available in each invoice transaction form that is mentioned earlier.","pos":[6764,6853]},{"content":"The registration number of the property if the invoice transaction includes leasing services.","pos":[6858,6951]},{"content":"This information is available in each invoice transaction form that is mentioned earlier.","pos":[6952,7041]},{"content":"The digital stamp of the organization.","pos":[7046,7084]},{"content":"For a printed CFDI version, the bidimensional bar code.","pos":[7089,7144]},{"pos":[7149,7193],"content":"Customizing the integration PAC web services","linkify":"Customizing the integration PAC web services","nodes":[{"content":"Customizing the integration PAC web services","pos":[0,44]}]},{"content":"As is explained in detail in the Mexican localization scope document, integration with PAC web services requires customization.","pos":[7194,7321]},{"content":"This customization varies, depending on the PAC web services that are contracted.","pos":[7322,7403]}]}