{"content":"---\n# required metadata\n\ntitle: Define retail channel communications (Commerce Data Exchange)\ndescription: This article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.\nauthor: josaw1\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Core, Retail\n# ms.tgt_pltfrm: \nms.custom: 27021\nms.assetid: 179b1629-ac90-4cfb-b46a-5bda56c4f451\nms.search.region: global\nms.search.industry: Retail\nms.author: josaw\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Define retail channel communications (Commerce Data Exchange)\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.\n\nOverview\n--------\n\nCommerce Data Exchange is a system that transfers data between Dynamics 365 for Operations and retail channels, such as online stores or brick-and-mortar stores. The database that stores data for a retail channel is separate from the Dynamics 365 for Operations database. The channel database holds only the data that is required for retail transactions. Master data is configured in Dynamics 365 for Operations and distributed to channels. Transactional data is created in the point of sale (POS) system or the online store, and then uploaded to Dynamics 365 for Operations. Data distribution is asynchronous. In other words, the process of gathering and packaging data at the source occurs separately from the process of receiving and applying data at the destination. For some scenarios, such as price and inventory lookups, data must be retrieved in real time. To support these scenarios, Commerce Data Exchange also includes a service that enables real-time communication between Dynamics 365 for Operations and a channel. \n\n[![updated-retail-graphic](./media/updated-retail-graphic.png)](./media/updated-retail-graphic.png)  \n\n## Async Service\nMicrosoft SQL Server change tracking on the Dynamics 365 for Operations database is used to determine the data changes that must be sent to channels. Based on a distribution schedule, Dynamics 365 for Operations packages that data and saves it to central storage (Azure blob storage). A separate batch process uses the Commerce Data Exchange: Async Client library to insert this data package into the channel database. \n\n[![Async Service](./media/async-300x239.png)](./media/async.png)\n\n### Retail scheduler\n\nScheduler jobs are the mechanism for distributing data to and from locations. Jobs are made up of subjobs, which specify the tables and table fields that contain the data to distribute. Dynamics 365 for Operations includes predefined scheduler jobs and subjobs that meet the replication requirements of most organizations. The following types of predefined jobs are created:\n\n-   **Download jobs** – Download jobs send data that has changed from Dynamics 365 for Operations to channel databases. Modifications to records are tracked through SQL Server change tracking.\n-   **Upload jobs (P jobs)** – Upload jobs pull sales transactions from a channel into the Dynamics 365 for Operations database. P jobs upload data incrementally. When a P job runs, the Async Client library checks the replication counter for records that have already been received from a location. A record is uploaded only if its replication counter is more than the largest value that is found. P jobs don't update data that was previously uploaded.\n\nThe distribution schedule is used to run the data transfer, either manually or by scheduling a batch job in Dynamics 365 for Operations. A distribution schedule can contain one or more channel data groups, and one or more scheduler jobs.\n\n## Realtime Service\nCommerce Data Exchange: Real-time Service is an integrated service that provides real-time communication between Dynamics 365 for Operations and retail channels. Real-time Service enables individual POS computers and online stores to retrieve specific data from Dynamics 365 for Operations in real time. Although most key operations can be performed in the local channel database, the following scenarios require direct access to the data that is stored in Dynamics 365 for Operations:\n\n-   Issuing and redeeming gift cards.\n-   Redeeming loyalty points.\n-   Issuing and redeeming credit memos.\n-   Creating and updating customer records.\n-   Creating, updating, and completing sales orders.\n-   Receiving inventory against a purchase order or transfer order.\n-   Performing inventory counts.\n-   Retrieving sales transactions across stores and completing return transactions.\n\n[![Real-time Service](./media/rts.png)](./media/rts.png) \n\nA predefined Real-time Service profile is created.\n\n\n\n","nodes":[{"pos":[4,838],"content":"# required metadata\n\ntitle: Define retail channel communications (Commerce Data Exchange)\ndescription: This article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.\nauthor: josaw1\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Core, Retail\n# ms.tgt_pltfrm: \nms.custom: 27021\nms.assetid: 179b1629-ac90-4cfb-b46a-5bda56c4f451\nms.search.region: global\nms.search.industry: Retail\nms.author: josaw\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Define retail channel communications (Commerce Data Exchange)","nodes":[{"pos":[0,61],"content":"Define retail channel communications (Commerce Data Exchange)","nodes":[{"content":"Define retail channel communications (Commerce Data Exchange)","pos":[0,61]}]}],"path":["title"]},{"content":"This article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.","nodes":[{"pos":[0,217],"content":"This article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.","nodes":[{"content":"This article provides an overview of Commerce Data Exchange and its components. It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.","pos":[0,217],"nodes":[{"content":"This article provides an overview of Commerce Data Exchange and its components.","pos":[0,79]},{"content":"It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.","pos":[80,217]}]}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[846,907],"content":"Define retail channel communications (Commerce Data Exchange)","linkify":"Define retail channel communications (Commerce Data Exchange)","nodes":[{"content":"Define retail channel communications (Commerce Data Exchange)","pos":[0,61]}]},{"content":"This article provides an overview of Commerce Data Exchange and its components.","pos":[953,1032]},{"content":"It explains the part that each component plays in the transfer of data between Microsoft Dynamics 365 for Operations and retail channels.","pos":[1033,1170]},{"pos":[1172,1180],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"Commerce Data Exchange is a system that transfers data between Dynamics 365 for Operations and retail channels, such as online stores or brick-and-mortar stores.","pos":[1191,1352]},{"content":"The database that stores data for a retail channel is separate from the Dynamics 365 for Operations database.","pos":[1353,1462]},{"content":"The channel database holds only the data that is required for retail transactions.","pos":[1463,1545]},{"content":"Master data is configured in Dynamics 365 for Operations and distributed to channels.","pos":[1546,1631]},{"content":"Transactional data is created in the point of sale (POS) system or the online store, and then uploaded to Dynamics 365 for Operations.","pos":[1632,1766]},{"content":"Data distribution is asynchronous.","pos":[1767,1801]},{"content":"In other words, the process of gathering and packaging data at the source occurs separately from the process of receiving and applying data at the destination.","pos":[1802,1961]},{"content":"For some scenarios, such as price and inventory lookups, data must be retrieved in real time.","pos":[1962,2055]},{"content":"To support these scenarios, Commerce Data Exchange also includes a service that enables real-time communication between Dynamics 365 for Operations and a channel.","pos":[2056,2218]},{"pos":[2221,2320],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>updated-retail-graphic<ept id=\"p1\">](./media/updated-retail-graphic.png)](./media/updated-retail-graphic.png)</ept>","source":"[![updated-retail-graphic](./media/updated-retail-graphic.png)](./media/updated-retail-graphic.png)"},{"pos":[2327,2340],"content":"Async Service","linkify":"Async Service","nodes":[{"content":"Async Service","pos":[0,13]}]},{"content":"Microsoft SQL Server change tracking on the Dynamics 365 for Operations database is used to determine the data changes that must be sent to channels.","pos":[2341,2490]},{"content":"Based on a distribution schedule, Dynamics 365 for Operations packages that data and saves it to central storage (Azure blob storage).","pos":[2491,2625]},{"content":"A separate batch process uses the Commerce Data Exchange: Async Client library to insert this data package into the channel database.","pos":[2626,2759]},{"pos":[2762,2826],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Async Service<ept id=\"p1\">](./media/async-300x239.png)](./media/async.png)</ept>","source":"[![Async Service](./media/async-300x239.png)](./media/async.png)"},{"pos":[2832,2848],"content":"Retail scheduler","linkify":"Retail scheduler","nodes":[{"content":"Retail scheduler","pos":[0,16]}]},{"content":"Scheduler jobs are the mechanism for distributing data to and from locations.","pos":[2850,2927]},{"content":"Jobs are made up of subjobs, which specify the tables and table fields that contain the data to distribute.","pos":[2928,3035]},{"content":"Dynamics 365 for Operations includes predefined scheduler jobs and subjobs that meet the replication requirements of most organizations.","pos":[3036,3172]},{"content":"The following types of predefined jobs are created:","pos":[3173,3224]},{"content":"<bpt id=\"p1\">**</bpt>Download jobs<ept id=\"p1\">**</ept> – Download jobs send data that has changed from Dynamics 365 for Operations to channel databases.","pos":[3230,3345],"source":"**Download jobs** – Download jobs send data that has changed from Dynamics 365 for Operations to channel databases."},{"content":"Modifications to records are tracked through SQL Server change tracking.","pos":[3346,3418]},{"content":"<bpt id=\"p1\">**</bpt>Upload jobs (P jobs)<ept id=\"p1\">**</ept> – Upload jobs pull sales transactions from a channel into the Dynamics 365 for Operations database.","pos":[3423,3547],"source":"**Upload jobs (P jobs)** – Upload jobs pull sales transactions from a channel into the Dynamics 365 for Operations database."},{"content":"P jobs upload data incrementally.","pos":[3548,3581]},{"content":"When a P job runs, the Async Client library checks the replication counter for records that have already been received from a location.","pos":[3582,3717]},{"content":"A record is uploaded only if its replication counter is more than the largest value that is found.","pos":[3718,3816]},{"content":"P jobs don't update data that was previously uploaded.","pos":[3817,3871]},{"content":"The distribution schedule is used to run the data transfer, either manually or by scheduling a batch job in Dynamics 365 for Operations.","pos":[3873,4009]},{"content":"A distribution schedule can contain one or more channel data groups, and one or more scheduler jobs.","pos":[4010,4110]},{"pos":[4115,4131],"content":"Realtime Service","linkify":"Realtime Service","nodes":[{"content":"Realtime Service","pos":[0,16]}]},{"content":"Commerce Data Exchange: Real-time Service is an integrated service that provides real-time communication between Dynamics 365 for Operations and retail channels.","pos":[4132,4293]},{"content":"Real-time Service enables individual POS computers and online stores to retrieve specific data from Dynamics 365 for Operations in real time.","pos":[4294,4435]},{"content":"Although most key operations can be performed in the local channel database, the following scenarios require direct access to the data that is stored in Dynamics 365 for Operations:","pos":[4436,4617]},{"content":"Issuing and redeeming gift cards.","pos":[4623,4656]},{"content":"Redeeming loyalty points.","pos":[4661,4686]},{"content":"Issuing and redeeming credit memos.","pos":[4691,4726]},{"content":"Creating and updating customer records.","pos":[4731,4770]},{"content":"Creating, updating, and completing sales orders.","pos":[4775,4823]},{"content":"Receiving inventory against a purchase order or transfer order.","pos":[4828,4891]},{"content":"Performing inventory counts.","pos":[4896,4924]},{"content":"Retrieving sales transactions across stores and completing return transactions.","pos":[4929,5008]},{"pos":[5010,5066],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Real-time Service<ept id=\"p1\">](./media/rts.png)](./media/rts.png)</ept>","source":"[![Real-time Service](./media/rts.png)](./media/rts.png)"},{"content":"A predefined Real-time Service profile is created.","pos":[5069,5119]}]}