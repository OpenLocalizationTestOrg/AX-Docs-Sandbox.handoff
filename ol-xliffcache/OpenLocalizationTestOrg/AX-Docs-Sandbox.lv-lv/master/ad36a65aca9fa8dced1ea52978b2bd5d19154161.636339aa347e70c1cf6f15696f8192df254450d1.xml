{"content":"---\n# required metadata\n\ntitle: Message center, message bar, and message details API\ndescription: This topic describes the messaging system.\nauthor: sericks007\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 64153\nms.assetid: b69ec992-9bde-469e-99bb-773feb9489ff\nms.search.region: Global\n# ms.search.industry: \nms.author: aorth\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Message center, message bar, and message details API\n\n[!include[banner](../includes/banner.md)]\n\n\nThis topic describes the messaging system.\n\nMessage API\n-----------\n\nMicrosoft Dynamics AX 2012 has an all-purpose, \"one size fits all\" window that displays a list of the most calls to **info()**, **warning()**, and **error()**. This window was appropriately and generically named the \"Information Log,\" or “Infolog” for short. Although the Infolog was a useful tool in some cases, its “one size fits all” approach was deemed ineffective for differentiating severity and determining whether the user should be interrupted. Microsoft Dynamics 365 for Operations has implemented a new messaging system to improve the experience. This richer, more powerful messaging system that includes the following features:\n\n-   Improved association of a message with its context (form versus global).\n-   Improved level of interruption (none, subtle, and interrupting).\n-   Improved clarity between types of messages and their use.\n-   The control that is used to display messages is deterministic and based on form context.\n\n## Legacy API support: info(), warning()/checkfailed(), and error()\nThe legacy **info()**, **warning()**, and **error()** application programming interfaces (APIs) are still supported. However, they now sit upon the framework's new messaging system, and their destination is deterministic. In other words, it uses the context of the call to determine the best way to present the message to the user. In general, if the use of the API originated from a form, the message appears in a message bar on that same form. (A drop dialog and a slider dialog are both considered forms.) **Note:** There are a few exceptions to this rule. If the message API was called from a slider dialog, and that dialog was closed, the message appears on the slider's parent form. Alternatively, if that slider was closed, and it was hosted by a workspace, the message is routed to the Message center. The message API never \"eats\" a message. If an appropriate host form isn't found, the message is sent to the Message center. The following screen shot shows the info, warning/checkfailed, and error bars. [![1\\_API](./media/1_api.jpg)](./media/1_api.jpg)\n\n## Message API and batch or asynchronous operations\nIf **info()**, **warning()**/**checkfailed()**, or **error()** is called from an asynchronous process (for example, a batch), there is no form context to consider, and the messages are sent to the Message center. (To open the Message center, click the flag icon on the navigation bar.) [![2\\_API](./media/2_api.png)](./media/2_api.png)\n\n## Legacy API support: SetPrefix()\nThis version also supports the **SetPrefix()** API. This too remains backward-compatible. However, in Dynamics 365 for Operations, the results of **SetPrefix()** don't actively interrupt the user. Instead, the results are collected and stored (as in previous versions), and a message bar or Message center notification is presented to the user. This notification indicates that the related task has been completed, and that it might have messages that the user should review. The \"Notification of results\" message actually uses the task's first call to **SetPrefix()** to frame the message. This behavior is similar to the behavior in previous versions, where the first call was the \"title\" of the results. In this example, \"Posting Results\" comes from the application's first call to **SetPrefix()**.[![3\\_API](./media/3_api.png)](./media/3_api.png) The user can then click **Message Details** to open the new **Message details** pane. [![4\\_API](./media/4_api.png)](./media/4_api.png)\n\n| Message type | Description                                                                                                                                                                                                                                                                                                                                  |\n|--------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| Info         | A *notification* informs a user about events that are unrelated to the current user activity. The notification can be caused by a user action or significant system event, or it can offer potentially useful information from the product. You notify the user by using the **info()** API.                                                 |\n| Warning      | A *warning* alerts the user about a condition that might cause a problem in the future. Data that is in an incorrect state isn’t an error. However, an attempt to use that data might cause an error, and therefore invalid data triggers a warning. You express data validation issues by using the **warning()** or **checkfailed()** API. |\n| Error        | An *error* alerts a user about a problem that has already occurred. A user action that has failed triggers an error. You express a passive error (non-interrupting) by using the **error()** API. You express an interrupting error to the user by using the **box::** API.                                                                  |\n\nThe messaging system is deterministic. Results are displayed in either a message bar or the Message center, depending where the message is called from in the code:\n\n-   For messages that are the result of synchronous form actions (actions where the user must wait for the result), the results are displayed in a message bar on the current form. The exceptions are messages for a slider dialog that was closed just after the action was started. Those messages appear on the parent form.\n-   For asynchronous (disconnected) actions, where the user can continue to do other tasks while the action is being processed, the results are displayed in the Message center.\n\nIf a synchronous or other form action or evaluation produces an error, there can be two types of errors:\n\n-   An interrupting error, where a direct action can't be completed and must be corrected immediately. This type of error is shown in a dialog.\n-   A non-interrupting error, which is often the result of a task/batch operation failure. This type of error is shown in a message bar.\n\n\nSee also\n--------\n\n[User interface development home page](user-interface-development-home-page.md)\n\n\n\n","nodes":[{"pos":[32,84],"content":"Message center, message bar, and message details API","needQuote":true,"needEscape":true,"nodes":[{"content":"Message center, message bar, and message details API","pos":[0,52]}]},{"pos":[98,140],"content":"This topic describes the messaging system.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes the messaging system.","pos":[0,42]}]},{"pos":[636,688],"content":"Message center, message bar, and message details API","linkify":"Message center, message bar, and message details API","nodes":[{"content":"Message center, message bar, and message details API","pos":[0,52]}]},{"content":"This topic describes the messaging system.","pos":[734,776]},{"pos":[778,789],"content":"Message API","linkify":"Message API","nodes":[{"content":"Message API","pos":[0,11]}]},{"content":"Microsoft Dynamics AX 2012 has an all-purpose, \"one size fits all\" window that displays a list of the most calls to <bpt id=\"p1\">**</bpt>info()<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>warning()<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>error()<ept id=\"p3\">**</ept>.","pos":[803,962],"source":"Microsoft Dynamics AX 2012 has an all-purpose, \"one size fits all\" window that displays a list of the most calls to **info()**, **warning()**, and **error()**."},{"content":"This window was appropriately and generically named the \"Information Log,\" or “Infolog” for short.","pos":[963,1061]},{"content":"Although the Infolog was a useful tool in some cases, its “one size fits all” approach was deemed ineffective for differentiating severity and determining whether the user should be interrupted.","pos":[1062,1256]},{"content":"Microsoft Dynamics 365 for Operations has implemented a new messaging system to improve the experience.","pos":[1257,1360]},{"content":"This richer, more powerful messaging system that includes the following features:","pos":[1361,1442]},{"content":"Improved association of a message with its context (form versus global).","pos":[1448,1520]},{"content":"Improved level of interruption (none, subtle, and interrupting).","pos":[1525,1589]},{"content":"Improved clarity between types of messages and their use.","pos":[1594,1651]},{"content":"The control that is used to display messages is deterministic and based on form context.","pos":[1656,1744]},{"pos":[1749,1813],"content":"Legacy API support: info(), warning()/checkfailed(), and error()","linkify":"Legacy API support: info(), warning()/checkfailed(), and error()","nodes":[{"content":"Legacy API support: info(), warning()/checkfailed(), and error()","pos":[0,64]}]},{"content":"The legacy <bpt id=\"p1\">**</bpt>info()<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>warning()<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>error()<ept id=\"p3\">**</ept> application programming interfaces (APIs) are still supported.","pos":[1814,1930],"source":"The legacy **info()**, **warning()**, and **error()** application programming interfaces (APIs) are still supported."},{"content":"However, they now sit upon the framework's new messaging system, and their destination is deterministic.","pos":[1931,2035]},{"content":"In other words, it uses the context of the call to determine the best way to present the message to the user.","pos":[2036,2145]},{"content":"In general, if the use of the API originated from a form, the message appears in a message bar on that same form.","pos":[2146,2259]},{"content":"(A drop dialog and a slider dialog are both considered forms.) <bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> There are a few exceptions to this rule.","pos":[2260,2373],"source":" (A drop dialog and a slider dialog are both considered forms.) **Note:** There are a few exceptions to this rule."},{"content":"If the message API was called from a slider dialog, and that dialog was closed, the message appears on the slider's parent form.","pos":[2374,2502]},{"content":"Alternatively, if that slider was closed, and it was hosted by a workspace, the message is routed to the Message center.","pos":[2503,2623]},{"content":"The message API never \"eats\" a message.","pos":[2624,2663]},{"content":"If an appropriate host form isn't found, the message is sent to the Message center.","pos":[2664,2747]},{"content":"The following screen shot shows the info, warning/checkfailed, and error bars.","pos":[2748,2826]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>1<ph id=\"ph2\">\\_</ph>API<ept id=\"p1\">](./media/1_api.jpg)](./media/1_api.jpg)</ept>","pos":[2827,2876],"source":"[![1\\_API](./media/1_api.jpg)](./media/1_api.jpg)"},{"pos":[2881,2929],"content":"Message API and batch or asynchronous operations","linkify":"Message API and batch or asynchronous operations","nodes":[{"content":"Message API and batch or asynchronous operations","pos":[0,48]}]},{"content":"If <bpt id=\"p1\">**</bpt>info()<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>warning()<ept id=\"p2\">**</ept><ph id=\"ph1\">/</ph><bpt id=\"p3\">**</bpt>checkfailed()<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>error()<ept id=\"p4\">**</ept> is called from an asynchronous process (for example, a batch), there is no form context to consider, and the messages are sent to the Message center.","pos":[2930,3142],"source":"If **info()**, **warning()**/**checkfailed()**, or **error()** is called from an asynchronous process (for example, a batch), there is no form context to consider, and the messages are sent to the Message center."},{"content":"(To open the Message center, click the flag icon on the navigation bar.) <bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>2<ph id=\"ph2\">\\_</ph>API<ept id=\"p1\">](./media/2_api.png)](./media/2_api.png)</ept>","pos":[3143,3265],"source":" (To open the Message center, click the flag icon on the navigation bar.) [![2\\_API](./media/2_api.png)](./media/2_api.png)"},{"pos":[3270,3301],"content":"Legacy API support: SetPrefix()","linkify":"Legacy API support: SetPrefix()","nodes":[{"content":"Legacy API support: SetPrefix()","pos":[0,31]}]},{"content":"This version also supports the <bpt id=\"p1\">**</bpt>SetPrefix()<ept id=\"p1\">**</ept> API.","pos":[3302,3353],"source":"This version also supports the **SetPrefix()** API."},{"content":"This too remains backward-compatible.","pos":[3354,3391]},{"content":"However, in Dynamics 365 for Operations, the results of <bpt id=\"p1\">**</bpt>SetPrefix()<ept id=\"p1\">**</ept> don't actively interrupt the user.","pos":[3392,3498],"source":" However, in Dynamics 365 for Operations, the results of **SetPrefix()** don't actively interrupt the user."},{"content":"Instead, the results are collected and stored (as in previous versions), and a message bar or Message center notification is presented to the user.","pos":[3499,3646]},{"content":"This notification indicates that the related task has been completed, and that it might have messages that the user should review.","pos":[3647,3777]},{"content":"The \"Notification of results\" message actually uses the task's first call to <bpt id=\"p1\">**</bpt>SetPrefix()<ept id=\"p1\">**</ept> to frame the message.","pos":[3778,3892],"source":" The \"Notification of results\" message actually uses the task's first call to **SetPrefix()** to frame the message."},{"content":"This behavior is similar to the behavior in previous versions, where the first call was the \"title\" of the results.","pos":[3893,4008]},{"content":"In this example, \"Posting Results\" comes from the application's first call to <bpt id=\"p1\">**</bpt>SetPrefix()<ept id=\"p1\">**</ept>.<bpt id=\"p2\">[</bpt><ph id=\"ph1\">![</ph>3<ph id=\"ph2\">\\_</ph>API<ept id=\"p2\">](./media/3_api.png)](./media/3_api.png)</ept> The user can then click <bpt id=\"p3\">**</bpt>Message Details<ept id=\"p3\">**</ept> to open the new <bpt id=\"p4\">**</bpt>Message details<ept id=\"p4\">**</ept> pane.","pos":[4009,4238],"source":" In this example, \"Posting Results\" comes from the application's first call to **SetPrefix()**.[![3\\_API](./media/3_api.png)](./media/3_api.png) The user can then click **Message Details** to open the new **Message details** pane."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>4<ph id=\"ph2\">\\_</ph>API<ept id=\"p1\">](./media/4_api.png)](./media/4_api.png)</ept>","pos":[4239,4288],"source":"[![4\\_API](./media/4_api.png)](./media/4_api.png)"},{"content":"Message type","pos":[4292,4304]},{"content":"Description","pos":[4307,4318]},{"content":"Info","pos":[4996,5000]},{"content":"A <bpt id=\"p1\">*</bpt>notification<ept id=\"p1\">*</ept> informs a user about events that are unrelated to the current user activity.","pos":[5011,5104],"source":"A *notification* informs a user about events that are unrelated to the current user activity."},{"content":"The notification can be caused by a user action or significant system event, or it can offer potentially useful information from the product.","pos":[5105,5246]},{"content":"You notify the user by using the <bpt id=\"p1\">**</bpt>info()<ept id=\"p1\">**</ept> API.","pos":[5247,5295],"source":" You notify the user by using the **info()** API."},{"content":"Warning","pos":[5348,5355]},{"content":"A <bpt id=\"p1\">*</bpt>warning<ept id=\"p1\">*</ept> alerts the user about a condition that might cause a problem in the future.","pos":[5363,5450],"source":"A *warning* alerts the user about a condition that might cause a problem in the future."},{"content":"Data that is in an incorrect state isn’t an error.","pos":[5451,5501]},{"content":"However, an attempt to use that data might cause an error, and therefore invalid data triggers a warning.","pos":[5502,5607]},{"content":"You express data validation issues by using the <bpt id=\"p1\">**</bpt>warning()<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>checkfailed()<ept id=\"p2\">**</ept> API.","pos":[5608,5695],"source":" You express data validation issues by using the **warning()** or **checkfailed()** API."},{"content":"Error","pos":[5700,5705]},{"content":"An <bpt id=\"p1\">*</bpt>error<ept id=\"p1\">*</ept> alerts a user about a problem that has already occurred.","pos":[5715,5782],"source":"An *error* alerts a user about a problem that has already occurred."},{"content":"A user action that has failed triggers an error.","pos":[5783,5831]},{"content":"You express a passive error (non-interrupting) by using the <bpt id=\"p1\">**</bpt>error()<ept id=\"p1\">**</ept> API.","pos":[5832,5908],"source":" You express a passive error (non-interrupting) by using the **error()** API."},{"content":"You express an interrupting error to the user by using the <bpt id=\"p1\">**</bpt>box::<ept id=\"p1\">**</ept> API.","pos":[5909,5982],"source":" You express an interrupting error to the user by using the **box::** API."},{"content":"The messaging system is deterministic.","pos":[6051,6089]},{"content":"Results are displayed in either a message bar or the Message center, depending where the message is called from in the code:","pos":[6090,6214]},{"content":"For messages that are the result of synchronous form actions (actions where the user must wait for the result), the results are displayed in a message bar on the current form.","pos":[6220,6395]},{"content":"The exceptions are messages for a slider dialog that was closed just after the action was started.","pos":[6396,6494]},{"content":"Those messages appear on the parent form.","pos":[6495,6536]},{"content":"For asynchronous (disconnected) actions, where the user can continue to do other tasks while the action is being processed, the results are displayed in the Message center.","pos":[6541,6713]},{"content":"If a synchronous or other form action or evaluation produces an error, there can be two types of errors:","pos":[6715,6819]},{"content":"An interrupting error, where a direct action can't be completed and must be corrected immediately.","pos":[6825,6923]},{"content":"This type of error is shown in a dialog.","pos":[6924,6964]},{"content":"A non-interrupting error, which is often the result of a task/batch operation failure.","pos":[6969,7055]},{"content":"This type of error is shown in a message bar.","pos":[7056,7101]},{"pos":[7104,7112],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[7123,7202],"content":"<bpt id=\"p1\">[</bpt>User interface development home page<ept id=\"p1\">](user-interface-development-home-page.md)</ept>","source":"[User interface development home page](user-interface-development-home-page.md)"}]}