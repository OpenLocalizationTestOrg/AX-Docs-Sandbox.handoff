{"nodes":[{"pos":[32,91],"content":"Retail component events for diagnostics and troubleshooting","needQuote":true,"needEscape":true,"nodes":[{"content":"Retail component events for diagnostics and troubleshooting","pos":[0,59]}]},{"pos":[105,458],"content":"To enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS). This article explains where to find events from Retail-specific components.","needQuote":true,"needEscape":true,"nodes":[{"content":"To enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS). This article explains where to find events from Retail-specific components.","pos":[0,353],"nodes":[{"content":"To enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS).","pos":[0,277]},{"content":"This article explains where to find events from Retail-specific components.","pos":[278,353]}]}]},{"pos":[963,1022],"content":"Retail component events for diagnostics and troubleshooting","linkify":"Retail component events for diagnostics and troubleshooting","nodes":[{"content":"Retail component events for diagnostics and troubleshooting","pos":[0,59]}]},{"content":"To enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS).","pos":[1024,1301]},{"content":"This article explains where to find events from Retail-specific components.","pos":[1302,1377]},{"pos":[1379,1409],"content":"Viewing events in Event Viewer","linkify":"Viewing events in Event Viewer","nodes":[{"content":"Viewing events in Event Viewer","pos":[0,30]}]},{"content":"You can use Event Viewer to view events for Microsoft Dynamics 365 for Operations components that are installed on computers that run Microsoft Windows, if you have physical access to the computer where the events are logged.","pos":[1442,1667]},{"content":"For more information about Event Viewer, see <bpt id=\"p1\">[</bpt>Event Viewer<ept id=\"p1\">](https://technet.microsoft.com/en-us/library/4229f239-16a6-4ecd-b3cf-aec03dc08cd5)</ept> on TechNet.","pos":[1668,1821],"source":" For more information about Event Viewer, see [Event Viewer](https://technet.microsoft.com/en-us/library/4229f239-16a6-4ecd-b3cf-aec03dc08cd5) on TechNet."},{"content":"You can also use Event Viewer to view events remotely from computers that you have access to.","pos":[1822,1915]},{"content":"For more information about how to use Event Viewer to view events remotely, see <bpt id=\"p1\">[</bpt>Work with Event Logs on a Remote Computer<ept id=\"p1\">](https://technet.microsoft.com/en-us/library/cc766438.aspx)</ept> on TechNet.","pos":[1916,2110],"source":" For more information about how to use Event Viewer to view events remotely, see [Work with Event Logs on a Remote Computer](https://technet.microsoft.com/en-us/library/cc766438.aspx) on TechNet."},{"content":"Typically, Event Viewer is used for troubleshooting in the following use cases:","pos":[2111,2190]},{"content":"Development on a developer topology or on a downloadable virtual hard disk (VHD) that provides access to Event Viewer","pos":[2196,2313]},{"content":"Client components, when you're running a conference room pilot and have access to Event Viewer for that computer","pos":[2318,2430]},{"content":"However, for most other cases, and especially when you don't have access to Event Viewer for the computer, you can use Log Search on Microsoft Dynamics Lifecycle Services (LCS).","pos":[2432,2609]},{"content":"Log Search is discussed later in this article.","pos":[2610,2656]},{"content":"This section applies to the following components:","pos":[2657,2706]},{"content":"Retail Server","pos":[2712,2725]},{"content":"Retail Modern POS","pos":[2730,2747]},{"content":"Retail Hardware Station","pos":[2752,2775]},{"pos":[2781,2824],"content":"Find Retail-specific events in Event Viewer","linkify":"Find Retail-specific events in Event Viewer","nodes":[{"content":"Find Retail-specific events in Event Viewer","pos":[0,43]}]},{"content":"To start Event Viewer on a computer, right-click the <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> button, and then click <bpt id=\"p2\">**</bpt>Event Viewer<ept id=\"p2\">**</ept>.","pos":[2826,2929],"source":"To start Event Viewer on a computer, right-click the **Start** button, and then click **Event Viewer**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Event Viewer command on the shortcut menu for the Start button<ept id=\"p1\">](./media/launch-event-viewer.png)](./media/launch-event-viewer.png)</ept> All Retail-specific event logs can be found under the following path in Event Viewer: Application and Services Logs<ph id=\"ph2\">\\\\</ph>Microsoft<ph id=\"ph3\">\\\\</ph>Dynamics We provide the following Retail-specific event logs:","pos":[2930,3253],"source":"[![Event Viewer command on the shortcut menu for the Start button](./media/launch-event-viewer.png)](./media/launch-event-viewer.png) All Retail-specific event logs can be found under the following path in Event Viewer: Application and Services Logs\\\\Microsoft\\\\Dynamics We provide the following Retail-specific event logs:"},{"pos":[3259,3360],"content":"<bpt id=\"p1\">**</bpt>Commerce-RetailServer<ept id=\"p1\">**</ept> – This log contains events that are logged by the Retail Server components.","source":"**Commerce-RetailServer** – This log contains events that are logged by the Retail Server components."},{"content":"<bpt id=\"p1\">**</bpt>Commerce-ModernPos<ept id=\"p1\">**</ept> – This log contains events that are logged by Retail Modern POS.","pos":[3365,3452],"source":"**Commerce-ModernPos** – This log contains events that are logged by Retail Modern POS."},{"content":"These events include events from the TypeScript and C<ph id=\"ph1\">\\#</ph> (CRT) layer.","pos":[3453,3521],"source":" These events include events from the TypeScript and C\\# (CRT) layer."},{"pos":[3526,3686],"content":"<bpt id=\"p1\">**</bpt>Commerce-LoggingProvider<ept id=\"p1\">**</ept> – This log contains events that are logged by all other Retail components that aren't included in the list earlier in this article.","source":"**Commerce-LoggingProvider** – This log contains events that are logged by all other Retail components that aren't included in the list earlier in this article."},{"pos":[3692,3715],"content":"Enable debug event logs","linkify":"Enable debug event logs","nodes":[{"content":"Enable debug event logs","pos":[0,23]}]},{"content":"Currently, some of the events that are logged by various Retail components are sent to debug event logs.","pos":[3717,3821]},{"content":"These events are verbose events that are logged at very high rates and are useful only for detailed debugging scenarios.","pos":[3822,3942]},{"content":"Follow this step to enable the debug event logs in Event Viewer.","pos":[3943,4007]},{"pos":[4013,4068],"content":"Right-click a debug log, and then click <bpt id=\"p1\">**</bpt>Enable Log<ept id=\"p1\">**</ept>.","source":"Right-click a debug log, and then click **Enable Log**."},{"pos":[4070,4198],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Enable Log command on the shortcut menu for a debug log<ept id=\"p1\">](./media/enable-debugging-log.png)](./media/enable-debugging-log.png)</ept>","source":"[![Enable Log command on the shortcut menu for a debug log](./media/enable-debugging-log.png)](./media/enable-debugging-log.png)"},{"pos":[4203,4268],"content":"Viewing events by using the (F12) browser developer tools console","linkify":"Viewing events by using the (F12) browser developer tools console","nodes":[{"content":"Viewing events by using the (F12) browser developer tools console","pos":[0,65]}]},{"content":"Because Retail Cloud POS is a browser-based component, you can use the browser developer tools console to view events for it.","pos":[4269,4394]},{"content":"For information about the Microsoft browser developer tools console, see <bpt id=\"p1\">[</bpt>Using the Console to view errors and debug<ept id=\"p1\">](https://msdn.microsoft.com/en-us/library/dn255006(v=vs.85).aspx)</ept> on MSDN.","pos":[4395,4586],"source":" For information about the Microsoft browser developer tools console, see [Using the Console to view errors and debug](https://msdn.microsoft.com/en-us/library/dn255006(v=vs.85).aspx) on MSDN."},{"content":"To use the browser developer tools for Retail Cloud POS, you must use a supported browser version.","pos":[4587,4685]},{"pos":[4691,4741],"content":"View events in the browser developer tools console","linkify":"View events in the browser developer tools console","nodes":[{"content":"View events in the browser developer tools console","pos":[0,50]}]},{"content":"Start Internet Explorer or Microsoft Edge, and go to Retail Cloud POS.","pos":[4747,4817]},{"pos":[4822,4868],"content":"Press F12, and then click the <bpt id=\"p1\">**</bpt>Console<ept id=\"p1\">**</ept> tab.","source":"Press F12, and then click the **Console** tab."},{"content":"As you perform operations on Retail Cloud POS, events are logged in the console.","pos":[4873,4953]},{"content":"You can filter by event severity to view events that have different severity levels.","pos":[4954,5038]},{"pos":[5040,5154],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Console tab in the browser developer tools<ept id=\"p1\">](./media/browser-console-1024x522.png)](./media/browser-console.png)</ept>","source":"[![Console tab in the browser developer tools](./media/browser-console-1024x522.png)](./media/browser-console.png)"},{"pos":[5159,5177],"content":"Correlating events","linkify":"Correlating events","nodes":[{"content":"Correlating events","pos":[0,18]}]},{"content":"This sections explains how to correlate events from various Retail components.","pos":[5178,5256]},{"pos":[5262,5310],"content":"Data flow between a POS client and Retail Server","linkify":"Data flow between a POS client and Retail Server","nodes":[{"content":"Data flow between a POS client and Retail Server","pos":[0,48]}]},{"content":"The diagram that follows shows the data flow between a point of sale (POS) client and the Retail Server.","pos":[5312,5416]},{"pos":[5423,5441],"content":"POS client startup","linkify":"POS client startup","nodes":[{"content":"POS client startup","pos":[0,18]}]},{"content":"When a user starts a POS client, a new AppSessionID is generated.","pos":[5443,5508]},{"content":"The AppSessionID is used to log every event that is instrumented in the POS client.","pos":[5509,5592]},{"content":"All events that are logged to Event Viewer and App Insights have this ID.","pos":[5593,5666]},{"pos":[5673,5685],"content":"User sign-in","linkify":"User sign-in","nodes":[{"content":"User sign-in","pos":[0,12]}]},{"content":"When a user signs in to a POS client, a new UserSessionID is generated.","pos":[5687,5758]},{"content":"The UserSessionID is used to log every event that is instrumented in the POS client.","pos":[5759,5843]},{"content":"All user events that are logged to Event Viewer have this ID.","pos":[5844,5905]},{"content":"This ID is maintained for as long as the user is signed in.","pos":[5906,5965]},{"content":"When the current user signs out and a new user sign in, a new UserSessionID is generated.","pos":[5966,6055]},{"pos":[6062,6095],"content":"POS client calls to Retail Server","linkify":"POS client calls to Retail Server","nodes":[{"content":"POS client calls to Retail Server","pos":[0,33]}]},{"content":"Whenever a POS client makes a call to the Retail Server, the AppSessionID and UserSessionID are sent as headers.","pos":[6097,6209]},{"content":"The Retail Server then logs an event for the incoming request (Event ID 5000).","pos":[6210,6288]},{"content":"This event includes those two IDs and also an ActivityID.","pos":[6289,6346]},{"content":"The ActivityID is then also used for all related Retail Server events.","pos":[6347,6417]},{"content":"The AppSessionID, UserSessionID, and ActivityID are available in the event log where Retail Server is hosted.","pos":[6418,6527]},{"content":"They are also available in LCS Log Search.","pos":[6528,6570]},{"pos":[6577,6610],"content":"Request activity on Retail Server","linkify":"Request activity on Retail Server","nodes":[{"content":"Request activity on Retail Server","pos":[0,33]}]},{"content":"Every event that is logged as part of a Retail Server request has the same ActivityID as the initial event that was logged for the initial incoming request event (Event ID 5000).","pos":[6612,6790]},{"content":"These events are available in both Event Viewer and LCS Log Search.","pos":[6791,6858]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Data flow between a POS client and Retail Server<ept id=\"p1\">](./media/event-log-data-flow1-1018x1024.png)](./media/event-log-data-flow1.png)</ept>","pos":[6859,6990],"source":"[![Data flow between a POS client and Retail Server](./media/event-log-data-flow1-1018x1024.png)](./media/event-log-data-flow1.png)"},{"pos":[6996,7044],"content":"Finding Retail Modern POS events in Event Viewer","linkify":"Finding Retail Modern POS events in Event Viewer","nodes":[{"content":"Finding Retail Modern POS events in Event Viewer","pos":[0,48]}]},{"content":"Every event that is logged by Retail Modern POS includes the following data points:","pos":[7046,7129]},{"content":"<bpt id=\"p1\">**</bpt>AppSessionID<ept id=\"p1\">**</ept> – A unique ID that is generated when the app is first started.","pos":[7135,7214],"source":"**AppSessionID** – A unique ID that is generated when the app is first started."},{"content":"It's included with every event that is logged from Retail Modern POS.","pos":[7215,7284]},{"content":"<bpt id=\"p1\">**</bpt>UserSessionID<ept id=\"p1\">**</ept> – A unique ID that is generated when a user signs in to Retail Modern POS.","pos":[7289,7381],"source":"**UserSessionID** – A unique ID that is generated when a user signs in to Retail Modern POS."},{"content":"It's included with every event that is logged from Retail Modern POS, for as long as the user remains signed in.","pos":[7382,7494]},{"content":"When a new user signs in, a new UserSessionID is created.","pos":[7495,7552]},{"content":"You can find the AppSessionID and UserSessionID values on the <bpt id=\"p1\">**</bpt>Details<ept id=\"p1\">**</ept> tab in Event Viewer on the machine where Retail Modern POS is installed.","pos":[7554,7700],"source":"You can find the AppSessionID and UserSessionID values on the **Details** tab in Event Viewer on the machine where Retail Modern POS is installed."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Details tab in Event Viewer<ept id=\"p1\">](./media/correlation-1024x672.png)](./media/correlation.png)</ept>","pos":[7701,7792],"source":"[![Details tab in Event Viewer](./media/correlation-1024x672.png)](./media/correlation.png)"},{"pos":[7798,7859],"content":"Finding incoming Retail Server request events in Event Viewer","linkify":"Finding incoming Retail Server request events in Event Viewer","nodes":[{"content":"Finding incoming Retail Server request events in Event Viewer","pos":[0,61]}]},{"content":"To correlate data for incoming Retail Server requests in Event Viewer, you must first enable the <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> channel.","pos":[7861,7979],"source":"To correlate data for incoming Retail Server requests in Event Viewer, you must first enable the **Analytic** channel."},{"content":"To enable the Analytic channel, follow these steps.","pos":[7980,8031]},{"pos":[8037,8105],"content":"In Event Viewer, in the left pane, select <bpt id=\"p1\">**</bpt>Commerce-RetailServer<ept id=\"p1\">**</ept>.","source":"In Event Viewer, in the left pane, select **Commerce-RetailServer**."},{"content":"Click <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Enable Analytic and Debug log<ept id=\"p2\">**</ept>.","pos":[8110,8164],"source":"Click **View** &gt; **Enable Analytic and Debug log**."},{"content":"A new node for the Analytic channel appears under the <bpt id=\"p1\">**</bpt>Commerce-RetailServer<ept id=\"p1\">**</ept> logging provider.","pos":[8165,8262],"source":" A new node for the Analytic channel appears under the **Commerce-RetailServer** logging provider."},{"pos":[8267,8332],"content":"Right-click the <bpt id=\"p1\">**</bpt>Analytic<ept id=\"p1\">**</ept> node, and then click <bpt id=\"p2\">**</bpt>Enable log<ept id=\"p2\">**</ept>.","source":"Right-click the **Analytic** node, and then click **Enable log**."},{"content":"In Event Viewer, all incoming Retail Server requests are logged to the Analytic channel of the Commerce-RetailServer source as event 5000.","pos":[8334,8472]},{"content":"These events also have the AppSessionID and UserSessionID that were described earlier.","pos":[8473,8559]},{"content":"Every event also has a unique ActivityID that is instrumented for every logged event for the same Retail Server request.","pos":[8560,8680]},{"pos":[8685,8705],"content":"Using LCS Log Search","linkify":"Using LCS Log Search","nodes":[{"content":"Using LCS Log Search","pos":[0,20]}]},{"content":"LCS Log Search lets you view data from all Dynamics 365 for Operations components from a single portal.","pos":[8706,8809]},{"content":"You can access events from both cloud-hosted components (such as Retail Server) and in-store components (such as Retail Modern POS and Retail Hardware Station).","pos":[8810,8970]},{"content":"Event data from all cloud-hosted and in-store components flows to LCS Log Search, where it's indexed and made searchable.","pos":[8971,9092]},{"content":"Data is typically available within 5 minutes after it's logged.","pos":[9093,9156]},{"content":"For POS clients and Retail Hardware Station, all events are locally queued in persistent storage and then uploaded in batches after the queue is filled.","pos":[9157,9309]},{"content":"This behavior enables network traffic to be optimized.","pos":[9310,9364]},{"content":"It also enables events to be saved even when there is no Internet connectivity.","pos":[9365,9444]},{"content":"After connectivity is restored, all pending events are uploaded.","pos":[9445,9509]},{"content":"LCS Log Search is available for the HA production topology.","pos":[9510,9569]},{"content":"It can be used for the following Retail components:","pos":[9570,9621]},{"content":"Retail Modern POS","pos":[9627,9644]},{"content":"Retail Cloud POS","pos":[9649,9665]},{"content":"Retail Hardware Station","pos":[9670,9693]},{"content":"Retail Server","pos":[9698,9711]},{"pos":[9713,9791],"content":"LCS Log Search does <bpt id=\"p1\">**</bpt>not<ept id=\"p1\">**</ept> include logs from the following Retail components:","source":"LCS Log Search does **not** include logs from the following Retail components:"},{"content":"Retail layout designer","pos":[9797,9819]},{"content":"Retail receipt designer","pos":[9824,9847]},{"content":"Self-service installer for Retail Modern POS","pos":[9852,9896]},{"content":"Self-service installer for Retail Hardware Station","pos":[9901,9951]},{"pos":[9957,9978],"content":"Access LCS Log Search","linkify":"Access LCS Log Search","nodes":[{"content":"Access LCS Log Search","pos":[0,21]}]},{"content":"To access LCS Log Search, follow these steps.","pos":[9980,10025]},{"pos":[10031,10085],"content":"Go to <bpt id=\"p1\">[</bpt>Lifecycle Services<ept id=\"p1\">](https://lcs.dynamics.com/)</ept>.","source":"Go to [Lifecycle Services](https://lcs.dynamics.com/)."},{"content":"Sign in by using the credentials that are associated with your project.","pos":[10090,10161]},{"content":"On the project page, select the correct project.","pos":[10166,10214]},{"pos":[10219,10283],"content":"On the <bpt id=\"p1\">**</bpt>Project details<ept id=\"p1\">**</ept> page, select the correct environment.","source":"On the **Project details** page, select the correct environment."},{"pos":[10288,10358],"content":"On the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Environment Monitoring<ept id=\"p2\">**</ept>.","source":"On the **Environment details** page, click **Environment Monitoring**."},{"pos":[10363,10427],"content":"On the <bpt id=\"p1\">**</bpt>Environment monitoring<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>View raw logs<ept id=\"p2\">**</ept>.","source":"On the **Environment monitoring** page, click **View raw logs**."},{"pos":[10432,10496],"content":"On the <bpt id=\"p1\">**</bpt>Log Search<ept id=\"p1\">**</ept> page, select one of the following queries:","source":"On the **Log Search** page, select one of the following queries:"},{"pos":[10505,10627],"content":"<bpt id=\"p1\">**</bpt>Retail error events<ept id=\"p1\">**</ept> query, which includes events from Retail Modern POS, Retail Cloud POS, and Retail Hardware Station","source":"**Retail error events** query, which includes events from Retail Modern POS, Retail Cloud POS, and Retail Hardware Station"},{"pos":[10636,10765],"content":"<bpt id=\"p1\">**</bpt>All logs<ept id=\"p1\">**</ept> query, which includes data from Retail Server, Commerce Data Exchange, and Commerce Data Exchange: Real-time Service","source":"**All logs** query, which includes data from Retail Server, Commerce Data Exchange, and Commerce Data Exchange: Real-time Service"},{"content":"You can filter by the following criteria to refine your query:","pos":[10767,10829]},{"content":"Start and end dates and times (in Coordinated Universal Time <ph id=\"ph1\">\\[</ph>UTC<ph id=\"ph2\">\\]</ph>)","pos":[10835,10904],"source":"Start and end dates and times (in Coordinated Universal Time \\[UTC\\])"},{"content":"Device ID","pos":[10909,10918]},{"content":"POS user","pos":[10923,10931]},{"content":"POS application session ID","pos":[10936,10962]},{"content":"POS user session ID","pos":[10967,10986]},{"content":"Severity level","pos":[10991,11005]},{"pos":[11007,11134],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Search results on the Environment monitoring page<ept id=\"p1\">](./media/log-search-results-1024x485.png)](./media/log-search-results.png)</ept>","source":"[![Search results on the Environment monitoring page](./media/log-search-results-1024x485.png)](./media/log-search-results.png)"}],"content":"---\n# required metadata\n\ntitle: Retail component events for diagnostics and troubleshooting\ndescription: To enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS). This article explains where to find events from Retail-specific components.\nauthor: MargoC\nmanager: AnnBe\nms.date: 2016-05-12 22 - 11 - 53\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: IT Pro\n# ms.devlang: \n# ms.reviewer: 11\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 85493\nms.assetid: ed58bcfc-f708-4556-9db1-5bf5c9cf60d7\nms.search.region: Global\nms.search.industry: Retail\nms.author: aamiral\nms.dyn365.ops.intro: Feb-16\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Retail component events for diagnostics and troubleshooting\n\nTo enable diagnostics and troubleshooting, all Retail components, which include clients such as the Retail Modern POS and server components such as Retail Server, log their events locally to Event Viewer (or to the browser developer tools console, in case of Retail Cloud POS). This article explains where to find events from Retail-specific components.\n\nViewing events in Event Viewer\n------------------------------\n\nYou can use Event Viewer to view events for Microsoft Dynamics 365 for Operations components that are installed on computers that run Microsoft Windows, if you have physical access to the computer where the events are logged. For more information about Event Viewer, see [Event Viewer](https://technet.microsoft.com/en-us/library/4229f239-16a6-4ecd-b3cf-aec03dc08cd5) on TechNet. You can also use Event Viewer to view events remotely from computers that you have access to. For more information about how to use Event Viewer to view events remotely, see [Work with Event Logs on a Remote Computer](https://technet.microsoft.com/en-us/library/cc766438.aspx) on TechNet. Typically, Event Viewer is used for troubleshooting in the following use cases:\n\n-   Development on a developer topology or on a downloadable virtual hard disk (VHD) that provides access to Event Viewer\n-   Client components, when you're running a conference room pilot and have access to Event Viewer for that computer\n\nHowever, for most other cases, and especially when you don't have access to Event Viewer for the computer, you can use Log Search on Microsoft Dynamics Lifecycle Services (LCS). Log Search is discussed later in this article. This section applies to the following components:\n\n-   Retail Server\n-   Retail Modern POS\n-   Retail Hardware Station\n\n### Find Retail-specific events in Event Viewer\n\nTo start Event Viewer on a computer, right-click the **Start** button, and then click **Event Viewer**. [![Event Viewer command on the shortcut menu for the Start button](./media/launch-event-viewer.png)](./media/launch-event-viewer.png) All Retail-specific event logs can be found under the following path in Event Viewer: Application and Services Logs\\\\Microsoft\\\\Dynamics We provide the following Retail-specific event logs:\n\n-   **Commerce-RetailServer** – This log contains events that are logged by the Retail Server components.\n-   **Commerce-ModernPos** – This log contains events that are logged by Retail Modern POS. These events include events from the TypeScript and C\\# (CRT) layer.\n-   **Commerce-LoggingProvider** – This log contains events that are logged by all other Retail components that aren't included in the list earlier in this article.\n\n### Enable debug event logs\n\nCurrently, some of the events that are logged by various Retail components are sent to debug event logs. These events are verbose events that are logged at very high rates and are useful only for detailed debugging scenarios. Follow this step to enable the debug event logs in Event Viewer.\n\n-   Right-click a debug log, and then click **Enable Log**.\n\n[![Enable Log command on the shortcut menu for a debug log](./media/enable-debugging-log.png)](./media/enable-debugging-log.png)\n\n## Viewing events by using the (F12) browser developer tools console\nBecause Retail Cloud POS is a browser-based component, you can use the browser developer tools console to view events for it. For information about the Microsoft browser developer tools console, see [Using the Console to view errors and debug](https://msdn.microsoft.com/en-us/library/dn255006(v=vs.85).aspx) on MSDN. To use the browser developer tools for Retail Cloud POS, you must use a supported browser version.\n\n### View events in the browser developer tools console\n\n1.  Start Internet Explorer or Microsoft Edge, and go to Retail Cloud POS.\n2.  Press F12, and then click the **Console** tab.\n3.  As you perform operations on Retail Cloud POS, events are logged in the console. You can filter by event severity to view events that have different severity levels.\n\n[![Console tab in the browser developer tools](./media/browser-console-1024x522.png)](./media/browser-console.png)\n\n## Correlating events\nThis sections explains how to correlate events from various Retail components.\n\n### Data flow between a POS client and Retail Server\n\nThe diagram that follows shows the data flow between a point of sale (POS) client and the Retail Server.\n\n#### POS client startup\n\nWhen a user starts a POS client, a new AppSessionID is generated. The AppSessionID is used to log every event that is instrumented in the POS client. All events that are logged to Event Viewer and App Insights have this ID.\n\n#### User sign-in\n\nWhen a user signs in to a POS client, a new UserSessionID is generated. The UserSessionID is used to log every event that is instrumented in the POS client. All user events that are logged to Event Viewer have this ID. This ID is maintained for as long as the user is signed in. When the current user signs out and a new user sign in, a new UserSessionID is generated.\n\n#### POS client calls to Retail Server\n\nWhenever a POS client makes a call to the Retail Server, the AppSessionID and UserSessionID are sent as headers. The Retail Server then logs an event for the incoming request (Event ID 5000). This event includes those two IDs and also an ActivityID. The ActivityID is then also used for all related Retail Server events. The AppSessionID, UserSessionID, and ActivityID are available in the event log where Retail Server is hosted. They are also available in LCS Log Search.\n\n#### Request activity on Retail Server\n\nEvery event that is logged as part of a Retail Server request has the same ActivityID as the initial event that was logged for the initial incoming request event (Event ID 5000). These events are available in both Event Viewer and LCS Log Search. [![Data flow between a POS client and Retail Server](./media/event-log-data-flow1-1018x1024.png)](./media/event-log-data-flow1.png)\n\n### Finding Retail Modern POS events in Event Viewer\n\nEvery event that is logged by Retail Modern POS includes the following data points:\n\n-   **AppSessionID** – A unique ID that is generated when the app is first started. It's included with every event that is logged from Retail Modern POS.\n-   **UserSessionID** – A unique ID that is generated when a user signs in to Retail Modern POS. It's included with every event that is logged from Retail Modern POS, for as long as the user remains signed in. When a new user signs in, a new UserSessionID is created.\n\nYou can find the AppSessionID and UserSessionID values on the **Details** tab in Event Viewer on the machine where Retail Modern POS is installed. [![Details tab in Event Viewer](./media/correlation-1024x672.png)](./media/correlation.png)\n\n### Finding incoming Retail Server request events in Event Viewer\n\nTo correlate data for incoming Retail Server requests in Event Viewer, you must first enable the **Analytic** channel. To enable the Analytic channel, follow these steps.\n\n1.  In Event Viewer, in the left pane, select **Commerce-RetailServer**.\n2.  Click **View** &gt; **Enable Analytic and Debug log**. A new node for the Analytic channel appears under the **Commerce-RetailServer** logging provider.\n3.  Right-click the **Analytic** node, and then click **Enable log**.\n\nIn Event Viewer, all incoming Retail Server requests are logged to the Analytic channel of the Commerce-RetailServer source as event 5000. These events also have the AppSessionID and UserSessionID that were described earlier. Every event also has a unique ActivityID that is instrumented for every logged event for the same Retail Server request.\n\n## Using LCS Log Search\nLCS Log Search lets you view data from all Dynamics 365 for Operations components from a single portal. You can access events from both cloud-hosted components (such as Retail Server) and in-store components (such as Retail Modern POS and Retail Hardware Station). Event data from all cloud-hosted and in-store components flows to LCS Log Search, where it's indexed and made searchable. Data is typically available within 5 minutes after it's logged. For POS clients and Retail Hardware Station, all events are locally queued in persistent storage and then uploaded in batches after the queue is filled. This behavior enables network traffic to be optimized. It also enables events to be saved even when there is no Internet connectivity. After connectivity is restored, all pending events are uploaded. LCS Log Search is available for the HA production topology. It can be used for the following Retail components:\n\n-   Retail Modern POS\n-   Retail Cloud POS\n-   Retail Hardware Station\n-   Retail Server\n\nLCS Log Search does **not** include logs from the following Retail components:\n\n-   Retail layout designer\n-   Retail receipt designer\n-   Self-service installer for Retail Modern POS\n-   Self-service installer for Retail Hardware Station\n\n### Access LCS Log Search\n\nTo access LCS Log Search, follow these steps.\n\n1.  Go to [Lifecycle Services](https://lcs.dynamics.com/).\n2.  Sign in by using the credentials that are associated with your project.\n3.  On the project page, select the correct project.\n4.  On the **Project details** page, select the correct environment.\n5.  On the **Environment details** page, click **Environment Monitoring**.\n6.  On the **Environment monitoring** page, click **View raw logs**.\n7.  On the **Log Search** page, select one of the following queries:\n    -   **Retail error events** query, which includes events from Retail Modern POS, Retail Cloud POS, and Retail Hardware Station\n    -   **All logs** query, which includes data from Retail Server, Commerce Data Exchange, and Commerce Data Exchange: Real-time Service\n\nYou can filter by the following criteria to refine your query:\n\n-   Start and end dates and times (in Coordinated Universal Time \\[UTC\\])\n-   Device ID\n-   POS user\n-   POS application session ID\n-   POS user session ID\n-   Severity level\n\n[![Search results on the Environment monitoring page](./media/log-search-results-1024x485.png)](./media/log-search-results.png)\n\n"}