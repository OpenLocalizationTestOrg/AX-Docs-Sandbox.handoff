{"content":"---\n# required metadata\n\ntitle: Create localizable labels\ndescription: This article explains how to create localizable labels for client components and HTML/JavaScript controls.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 18531\nms.assetid: 73615d1b-9088-496e-989e-d8996f30e76b\nms.search.region: Global\n# ms.search.industry: \nms.author: shshabazz\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Create localizable labels\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article explains how to create localizable labels for client components and HTML/JavaScript controls.\n\nThis article details the process for creating **localizable** labels for client components and HTML/JavaScript controls. This process uses the existing localization tools and process for labels to bring localization support to client components and HMTL/JavaScript controls. The following process relies on the label resource controller that can serialize label files into their JavaScript equivalents so that the labels can be used by the client components and HTML/JavaScript controls. The label resource controller is deployed automatically. It is an MVC service that is located at the /Resources/Labels endpoint.\n\n## 1. Create a label file\nUse the developer tools to create a new label file for your control's area, or use an existing label file for your control's area. A control's area is determined by the owning team.\n\n-   For extensible controls, your goal should be to create one label file for each HTM resource file. If multiple HTM resources share the same set of labels, only one label file should be required for the set of HTM resource files.\n-   For client controls and components, in general, controls that share a lot of the same functionality (for example, the Input controls: StringEdit, ComboBox, CheckBox, and so on) should also share the same label file.\n\n*Don't use a label file that also contains labels that are only used in X++.* The whole label file is serialized when itâ€™s loaded by the client, so be sure to keep the labels that aren't required by the client components/controls in a separate label file.\n\n## 2. Add label strings to the label file\nUse the developer tools to add label strings to the label file. **Example for extensible controls:**\n\n-   **Label file name:** ClockControl\n-   **Label ID:** Seconds\n-   **Label string:** seconds\n\n## 3. Request the label file as a JavaScript file by using Resource manager\nUse the script loading tag to load the JavaScript file. The loading tag should reference the label file from /Resources/Labels, because the label resource controller is located there. **Note:** For extensible controls, the controller automatically appends the label file name to the beginning of the label identifier in JavaScript.\n\n    <script src=\"/Resources/Labels/ClockControl.js\"></script>\n\nThe JavaScript file that is returned will contain code that resembles the following example.\n\n    Globalize.addCultureInfo(\"en-us\", {\n        messages: {\n            ClockControl_Seconds: \"seconds\"\n        }\n    });\n\nThe culture information is injected automatically, based on the current user's culture. No action is required on the part of the control to set, modify, or read the user's culture. The preceding code adds each of your label strings to the jQuery Globalize label storage. You can then reference your labels throughout your HTML and JavaScript. The JavaScript code in the script file is run the moment that the file is loaded by the browser. Therefore, your labels are immediately ready for use. Be sure to add the label script loading tag **after** any other script loading tags in your HTML. The script loading tags are processed in order, from top to bottom. By loading the label script last, you help guarantee that no other scripts cause conflicts or override the labels that are set in the script label file.\n\n## 4. Use localizable labels in HTML and JavaScript\nThe following framework application programming interface (API) can be used in HTML (inside **data-dyn-bind**) or in JavaScript to access the labels. **HTML**\n\n    <!-- Example of using a localizable label with a Label Control. Supply the label to the \"Text\" property on the control -->\n    <div data-dyn-role=\"Label\" data-dyn-bind=\"Text: $dyn.label('ClockControl_Seconds')\"></div>\n    <!-- Example of using a localizable label with a basic HTML element. Supply the label to the \"text\" binding handler for the element -->\n    <div data-dyn-bind=\"text: $dyn.label('ClockControl_Seconds')\"></div>\n\n**JavaScript**\n\n    /* Example of using a localizable label in JavaScript. */\n    var string mylabel = $dyn.label('ClockControl_Seconds');\n\nYou can also pass the label ID via a variable in HTML or JavaScript. **HTML**\n\n    <div data-dyn-bind=\"text: $dyn.label($data.SecondsLabel)\"></div>\n\n**JavaScript**\n\n    var string mylabel = $dyn.label(self.SecondsLabel);\n\nThe **$dyn.label** API will find the appropriately named label and return the string that can be used to display text to the user. This API will automatically select the label, based on the current user's culture.\n\n## Troubleshooting\nIf you have correctly created a label file, and the label has been deployed, you should be able to load the JavaScript version of the label file directly from the browser. You can access the JavaScript label file by navigating to the home page in the client and appending the following path to the URL: **/Resources/Labels/MyLabelFile.js**, where **MyLabelFile** is the name of the label file without the language suffix. For a deployed label file that is named MyLabelFile.en-us, follow these steps:\n\n1.  Navigate to the home page, and sign in. (On one-box deployments, the URL of the home page is https://usncax1aos.cloud.onebox.dynamics.com/en/.)\n2.  Make sure that the desired language has been set by going to **Options** &gt; **Language and Region**. (You don't have to change the language if it's already set to the language that you want.) Now that the user's language has been set in the current session, the label resource controller will know what language to use when the label file is loaded.\n3.  To load the JavaScript version of the label file, navigate to the label file by adding **Resources/Labels/MyLabelFile.js** to the URL. (On one-box deployments, the whole URL is https://usncax1aos.cloud.onebox.dynamics.com/en/Resources/Labels/MyLabelFile.js.)\n4.  The corresponding label file will be JSON-serialized, and the browser will either show the text on the current tab or prompt you to download the .js file. If you download the file, you can then open it locally to inspect it.\n\nIf the browser doesn't find the file, you might have mistyped the name of the label, or you might not have deployed the label correctly. There is never a physical .js file for the label in the web folder /Resources/Labels. The .js file is dynamically generated by the label resource controller.\n\n### Microsoft Visual Studio form previewer\n\nThe form previewer isn't currently configured to load labels via the label resource controller. The form previewer will load only labels that are defined directly in the .js file for the code behind (located at /Resources/Scripts). Until the form previewer is updated so that it can load .js files from the label resource controller, make sure that you also define the labels in the .js file for the code behind of the control. The dependency on these labels will be removed in a future update.\n\n\n\n","nodes":[{"pos":[32,57],"content":"Create localizable labels","needQuote":true,"needEscape":true,"nodes":[{"content":"Create localizable labels","pos":[0,25]}]},{"pos":[71,177],"content":"This article explains how to create localizable labels for client components and HTML/JavaScript controls.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article explains how to create localizable labels for client components and HTML/JavaScript controls.","pos":[0,106]}]},{"pos":[676,701],"content":"Create localizable labels","linkify":"Create localizable labels","nodes":[{"content":"Create localizable labels","pos":[0,25]}]},{"content":"This article explains how to create localizable labels for client components and HTML/JavaScript controls.","pos":[747,853]},{"content":"This article details the process for creating <bpt id=\"p1\">**</bpt>localizable<ept id=\"p1\">**</ept> labels for client components and HTML/JavaScript controls.","pos":[855,975],"source":"This article details the process for creating **localizable** labels for client components and HTML/JavaScript controls."},{"content":"This process uses the existing localization tools and process for labels to bring localization support to client components and HMTL/JavaScript controls.","pos":[976,1129]},{"content":"The following process relies on the label resource controller that can serialize label files into their JavaScript equivalents so that the labels can be used by the client components and HTML/JavaScript controls.","pos":[1130,1342]},{"content":"The label resource controller is deployed automatically.","pos":[1343,1399]},{"content":"It is an MVC service that is located at the /Resources/Labels endpoint.","pos":[1400,1471]},{"pos":[1476,1498],"content":"1. Create a label file","linkify":"1. Create a label file","nodes":[{"content":"1. Create a label file","pos":[0,22]}]},{"content":"Use the developer tools to create a new label file for your control's area, or use an existing label file for your control's area.","pos":[1499,1629]},{"content":"A control's area is determined by the owning team.","pos":[1630,1680]},{"content":"For extensible controls, your goal should be to create one label file for each HTM resource file.","pos":[1686,1783]},{"content":"If multiple HTM resources share the same set of labels, only one label file should be required for the set of HTM resource files.","pos":[1784,1913]},{"content":"For client controls and components, in general, controls that share a lot of the same functionality (for example, the Input controls: StringEdit, ComboBox, CheckBox, and so on) should also share the same label file.","pos":[1918,2133]},{"content":"<bpt id=\"p1\">*</bpt>Don't use a label file that also contains labels that are only used in X++.<ept id=\"p1\">*</ept>","pos":[2135,2212],"source":"*Don't use a label file that also contains labels that are only used in X++.*"},{"content":"The whole label file is serialized when itâ€™s loaded by the client, so be sure to keep the labels that aren't required by the client components/controls in a separate label file.","pos":[2213,2390]},{"pos":[2395,2433],"content":"2. Add label strings to the label file","linkify":"2. Add label strings to the label file","nodes":[{"content":"2. Add label strings to the label file","pos":[0,38]}]},{"content":"Use the developer tools to add label strings to the label file.","pos":[2434,2497]},{"content":"<bpt id=\"p1\">**</bpt>Example for extensible controls:<ept id=\"p1\">**</ept>","pos":[2498,2534],"source":"**Example for extensible controls:**"},{"pos":[2540,2573],"content":"<bpt id=\"p1\">**</bpt>Label file name:<ept id=\"p1\">**</ept> ClockControl","source":"**Label file name:** ClockControl"},{"pos":[2578,2599],"content":"<bpt id=\"p1\">**</bpt>Label ID:<ept id=\"p1\">**</ept> Seconds","source":"**Label ID:** Seconds"},{"pos":[2604,2629],"content":"<bpt id=\"p1\">**</bpt>Label string:<ept id=\"p1\">**</ept> seconds","source":"**Label string:** seconds"},{"pos":[2634,2706],"content":"3. Request the label file as a JavaScript file by using Resource manager","linkify":"3. Request the label file as a JavaScript file by using Resource manager","nodes":[{"content":"3. Request the label file as a JavaScript file by using Resource manager","pos":[0,72]}]},{"content":"Use the script loading tag to load the JavaScript file.","pos":[2707,2762]},{"content":"The loading tag should reference the label file from /Resources/Labels, because the label resource controller is located there.","pos":[2763,2890]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> For extensible controls, the controller automatically appends the label file name to the beginning of the label identifier in JavaScript.","pos":[2891,3038],"source":"**Note:** For extensible controls, the controller automatically appends the label file name to the beginning of the label identifier in JavaScript."},{"content":"The JavaScript file that is returned will contain code that resembles the following example.","pos":[3103,3195]},{"content":"The culture information is injected automatically, based on the current user's culture.","pos":[3320,3407]},{"content":"No action is required on the part of the control to set, modify, or read the user's culture.","pos":[3408,3500]},{"content":"The preceding code adds each of your label strings to the jQuery Globalize label storage.","pos":[3501,3590]},{"content":"You can then reference your labels throughout your HTML and JavaScript.","pos":[3591,3662]},{"content":"The JavaScript code in the script file is run the moment that the file is loaded by the browser.","pos":[3663,3759]},{"content":"Therefore, your labels are immediately ready for use.","pos":[3760,3813]},{"content":"Be sure to add the label script loading tag <bpt id=\"p1\">**</bpt>after<ept id=\"p1\">**</ept> any other script loading tags in your HTML.","pos":[3814,3911],"source":" Be sure to add the label script loading tag **after** any other script loading tags in your HTML."},{"content":"The script loading tags are processed in order, from top to bottom.","pos":[3912,3979]},{"content":"By loading the label script last, you help guarantee that no other scripts cause conflicts or override the labels that are set in the script label file.","pos":[3980,4132]},{"pos":[4137,4185],"content":"4. Use localizable labels in HTML and JavaScript","linkify":"4. Use localizable labels in HTML and JavaScript","nodes":[{"content":"4. Use localizable labels in HTML and JavaScript","pos":[0,48]}]},{"content":"The following framework application programming interface (API) can be used in HTML (inside <bpt id=\"p1\">**</bpt>data-dyn-bind<ept id=\"p1\">**</ept>) or in JavaScript to access the labels.","pos":[4186,4335],"source":"The following framework application programming interface (API) can be used in HTML (inside **data-dyn-bind**) or in JavaScript to access the labels."},{"content":"<bpt id=\"p1\">**</bpt>HTML<ept id=\"p1\">**</ept>","pos":[4336,4344],"source":"**HTML**"},{"pos":[4782,4796],"content":"<bpt id=\"p1\">**</bpt>JavaScript<ept id=\"p1\">**</ept>","source":"**JavaScript**"},{"content":"You can also pass the label ID via a variable in HTML or JavaScript.","pos":[4922,4990]},{"content":"<bpt id=\"p1\">**</bpt>HTML<ept id=\"p1\">**</ept>","pos":[4991,4999],"source":"**HTML**"},{"pos":[5071,5085],"content":"<bpt id=\"p1\">**</bpt>JavaScript<ept id=\"p1\">**</ept>","source":"**JavaScript**"},{"content":"The <bpt id=\"p1\">**</bpt>$dyn.label<ept id=\"p1\">**</ept> API will find the appropriately named label and return the string that can be used to display text to the user.","pos":[5144,5274],"source":"The **$dyn.label** API will find the appropriately named label and return the string that can be used to display text to the user."},{"content":"This API will automatically select the label, based on the current user's culture.","pos":[5275,5357]},{"pos":[5362,5377],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"If you have correctly created a label file, and the label has been deployed, you should be able to load the JavaScript version of the label file directly from the browser.","pos":[5378,5549]},{"content":"You can access the JavaScript label file by navigating to the home page in the client and appending the following path to the URL: <bpt id=\"p1\">**</bpt>/Resources/Labels/MyLabelFile.js<ept id=\"p1\">**</ept>, where <bpt id=\"p2\">**</bpt>MyLabelFile<ept id=\"p2\">**</ept> is the name of the label file without the language suffix.","pos":[5550,5799],"source":" You can access the JavaScript label file by navigating to the home page in the client and appending the following path to the URL: **/Resources/Labels/MyLabelFile.js**, where **MyLabelFile** is the name of the label file without the language suffix."},{"content":"For a deployed label file that is named MyLabelFile.en-us, follow these steps:","pos":[5800,5878]},{"content":"Navigate to the home page, and sign in.","pos":[5884,5923]},{"content":"(On one-box deployments, the URL of the home page is https://usncax1aos.cloud.onebox.dynamics.com/en/.)","pos":[5924,6027]},{"content":"Make sure that the desired language has been set by going to <bpt id=\"p1\">**</bpt>Options<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Language and Region<ept id=\"p2\">**</ept>.","pos":[6032,6134],"source":"Make sure that the desired language has been set by going to **Options** &gt; **Language and Region**."},{"content":"(You don't have to change the language if it's already set to the language that you want.) Now that the user's language has been set in the current session, the label resource controller will know what language to use when the label file is loaded.","pos":[6135,6383]},{"content":"To load the JavaScript version of the label file, navigate to the label file by adding <bpt id=\"p1\">**</bpt>Resources/Labels/MyLabelFile.js<ept id=\"p1\">**</ept> to the URL.","pos":[6388,6522],"source":"To load the JavaScript version of the label file, navigate to the label file by adding **Resources/Labels/MyLabelFile.js** to the URL."},{"content":"(On one-box deployments, the whole URL is https://usncax1aos.cloud.onebox.dynamics.com/en/Resources/Labels/MyLabelFile.js.)","pos":[6523,6646]},{"content":"The corresponding label file will be JSON-serialized, and the browser will either show the text on the current tab or prompt you to download the .js file.","pos":[6651,6805]},{"content":"If you download the file, you can then open it locally to inspect it.","pos":[6806,6875]},{"content":"If the browser doesn't find the file, you might have mistyped the name of the label, or you might not have deployed the label correctly.","pos":[6877,7013]},{"content":"There is never a physical .js file for the label in the web folder /Resources/Labels.","pos":[7014,7099]},{"content":"The .js file is dynamically generated by the label resource controller.","pos":[7100,7171]},{"pos":[7177,7215],"content":"Microsoft Visual Studio form previewer","linkify":"Microsoft Visual Studio form previewer","nodes":[{"content":"Microsoft Visual Studio form previewer","pos":[0,38]}]},{"content":"The form previewer isn't currently configured to load labels via the label resource controller.","pos":[7217,7312]},{"content":"The form previewer will load only labels that are defined directly in the .js file for the code behind (located at /Resources/Scripts).","pos":[7313,7448]},{"content":"Until the form previewer is updated so that it can load .js files from the label resource controller, make sure that you also define the labels in the .js file for the code behind of the control.","pos":[7449,7644]},{"content":"The dependency on these labels will be removed in a future update.","pos":[7645,7711]}]}