{"nodes":[{"pos":[32,109],"content":"Create a Power BI report by using Microsoft Dynamics AX data | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Create a Power BI report by using Microsoft Dynamics AX data | Microsoft Docs","pos":[0,77]}]},{"pos":[123,311],"content":"This tutorial outlines the process for creating an end user–friendly data model, reports, and dashboards in the version of Power BI that is currently available from http://app.powerbi.com.","needQuote":true,"needEscape":true,"nodes":[{"content":"This tutorial outlines the process for creating an end user–friendly data model, reports, and dashboards in the version of Power BI that is currently available from http://app.powerbi.com.","pos":[0,188]}]},{"pos":[727,787],"content":"Create a Power BI report by using Microsoft Dynamics AX data","linkify":"Create a Power BI report by using Microsoft Dynamics AX data","nodes":[{"content":"Create a Power BI report by using Microsoft Dynamics AX data","pos":[0,60]}]},{"pos":[789,801],"content":"Key concepts","linkify":"Key concepts","nodes":[{"content":"Key concepts","pos":[0,12]}]},{"pos":[820,1051],"content":"<bpt id=\"p1\">**</bpt>Power BI<ept id=\"p1\">**</ept> refers to the cloud-based analytics visualization platform that is used to extract, transform, and present data from Microsoft Dynamics AX (together with other systems), so that users can interact with it and share it.","source":"**Power BI** refers to the cloud-based analytics visualization platform that is used to extract, transform, and present data from Microsoft Dynamics AX (together with other systems), so that users can interact with it and share it."},{"pos":[1056,1257],"content":"<bpt id=\"p1\">**</bpt>Power Query<ept id=\"p1\">**</ept> refers to the Microsoft Excel–based tool set for extracting and transforming data from Dynamics AX through OData feeds into an Excel-based data model that is used in Power BI reporting.","source":"**Power Query** refers to the Microsoft Excel–based tool set for extracting and transforming data from Dynamics AX through OData feeds into an Excel-based data model that is used in Power BI reporting."},{"pos":[1262,1442],"content":"<bpt id=\"p1\">**</bpt>Self-service BI<ept id=\"p1\">**</ept> refers to enabling users to tweak existing analytic content and create new analytic content, such as reports, key performance indicators (KPIs), and dashboards.","source":"**Self-service BI** refers to enabling users to tweak existing analytic content and create new analytic content, such as reports, key performance indicators (KPIs), and dashboards."},{"pos":[1447,1483],"content":"Supported platforms and environments","linkify":"Supported platforms and environments","nodes":[{"content":"Supported platforms and environments","pos":[0,36]}]},{"content":"This tutorial is based on Dynamics AX.","pos":[1488,1526]},{"content":"Earlier versions of Microsoft Dynamics AX will not include the entities that are described in this tutorial.","pos":[1527,1635]},{"content":"It’s a good idea to use your local desktop version of Excel to connect to the cloud instance, not Excel within the Dynamics AX virtual machines (VMs).","pos":[1640,1790]},{"content":"There is a known limitation in PowerPivot on Windows Data Center VMs.","pos":[1791,1860]},{"content":"PowerQuery authentication is supported completely in Dynamics AX.","pos":[1865,1930]},{"content":"Earlier versions aren't registered for Microsoft Azure Active Directory authentication.","pos":[1931,2018]},{"content":"Registration of the instance with Azure AD is a required step and is automated as part of the deployment process.","pos":[2019,2132]},{"content":"Microsoft Excel 2013 is required, together with PowerQuery (a post–February 2015 update of PowerQuery is required).","pos":[2134,2249]},{"content":"Both 32-bit and 64-bit versions of Microsoft Office are supported, but the 64-bit version is recommended for optimal performance.","pos":[2250,2379]},{"pos":[2384,2400],"content":"Before you start","linkify":"Before you start","nodes":[{"content":"Before you start","pos":[0,16]}]},{"pos":[2405,2436],"content":"Download and install PowerQuery","linkify":"Download and install PowerQuery","nodes":[{"content":"Download and install PowerQuery","pos":[0,31]}]},{"content":"Download PowerQuery from the following location: <bpt id=\"p1\">&lt;</bpt>http://www.microsoft.com/en-us/download/details.aspx?id=39379<ept id=\"p1\">&gt;</ept> <bpt id=\"p2\">**</bpt>Note:<ept id=\"p2\">**</ept> PowerQuery comes in two versions that correspond to the two versions of Excel (32-bit and 64-bit).","pos":[2442,2663],"source":"Download PowerQuery from the following location: <http://www.microsoft.com/en-us/download/details.aspx?id=39379> **Note:** PowerQuery comes in two versions that correspond to the two versions of Excel (32-bit and 64-bit)."},{"content":"You must find out which version of Excel you have.","pos":[2664,2714]},{"content":"You must then choose and install either the 64-bit or the 32-bit versions of PowerQuery.","pos":[2715,2803]},{"content":"<bpt id=\"p1\">**</bpt>The 64-bit version of Excel 2013 is already installed in the developer environment.<ept id=\"p1\">**</ept>","pos":[2804,2891],"source":"**The 64-bit version of Excel 2013 is already installed in the developer environment.**"},{"pos":[2896,2966],"content":"Start Excel 2013, and verify that the <bpt id=\"p1\">**</bpt>PowerQuery<ept id=\"p1\">**</ept> tab is available.","source":"Start Excel 2013, and verify that the **PowerQuery** tab is available."},{"content":"Enable the PowerPivot and PowerView add-ins.","pos":[2971,3015]},{"pos":[3020,3071],"content":"Verify that Dynamics AX data entities are available","linkify":"Verify that Dynamics AX data entities are available","nodes":[{"content":"Verify that Dynamics AX data entities are available","pos":[0,51]}]},{"content":"Start Internet Explorer in <bpt id=\"p1\">**</bpt>InPrivate<ept id=\"p1\">**</ept> mode, and enter the URL that is used to access your Dynamics AX deployment.","pos":[3076,3192],"source":"Start Internet Explorer in **InPrivate** mode, and enter the URL that is used to access your Dynamics AX deployment."},{"content":"This URL will end with \".cloud.dynamics.com<bpt id=\"p1\">*</bpt>.\" <ept id=\"p1\">*</ept> Throughout this document, this URL will be referred to as <ph id=\"ph1\">\\[</ph>baseurl<ph id=\"ph2\">\\]</ph>.","pos":[3193,3312],"source":" This URL will end with \".cloud.dynamics.com*.\" * Throughout this document, this URL will be referred to as \\[baseurl\\]."},{"content":"You will be asked to sign in on a page that resembles the following screen shot.","pos":[3313,3393]},{"content":"<ph id=\"ph1\">![</ph>PowerBI1<ph id=\"ph2\">](media/PowerBI1-1024x718.png)</ph>","pos":[3394,3434],"source":"![PowerBI1](media/PowerBI1-1024x718.png)"},{"content":"Enter your user credentials for access to your environment.","pos":[3439,3498]},{"content":"After your credentials are authenticated, you will see the Dynamics AX user interface.","pos":[3499,3585]},{"content":"PowerBI2","pos":[3588,3596]},{"content":"To validate that data entities are exposed by using the ODatav4 endpoint, enter the following URL in the browser window: <ph id=\"ph1\">\\[</ph>baseurl<ph id=\"ph2\">\\]</ph>/data You will be asked whether you want to display the data in JSON format, as shown in the following screenshot.","pos":[3631,3877],"source":"To validate that data entities are exposed by using the ODatav4 endpoint, enter the following URL in the browser window: \\[baseurl\\]/data You will be asked whether you want to display the data in JSON format, as shown in the following screenshot."},{"content":"PowerBI3","pos":[3880,3888]},{"content":"Click <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept>.","pos":[3923,3938],"source":"Click **Open**."},{"content":"You will see the available entities in the JSON file downloaded, as shown in the following screen shot.","pos":[3939,4042]},{"content":"This feed shows all the entities that have been made public from your deployment.","pos":[4043,4124]},{"content":"As you develop new public entities, they will appear in this list.","pos":[4125,4191]},{"content":"<ph id=\"ph1\">![</ph>PowerBI4<ph id=\"ph2\">](media/PowerBI4-1024x616.png)</ph>","pos":[4192,4232],"source":"![PowerBI4](media/PowerBI4-1024x616.png)"},{"pos":[4234,4372],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> To enable the browser to display JSON content, run the file at C:<ph id=\"ph1\">\\\\</ph>FMLab<ph id=\"ph2\">\\\\</ph>ison-ie.reg, and click <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept> to change the registry.","source":"**Note:** To enable the browser to display JSON content, run the file at C:\\\\FMLab\\\\ison-ie.reg, and click **Yes** to change the registry."},{"pos":[4377,4425],"content":"Access Dynamics AX OData endpoints in PowerQuery","linkify":"Access Dynamics AX OData endpoints in PowerQuery","nodes":[{"content":"Access Dynamics AX OData endpoints in PowerQuery","pos":[0,48]}]},{"content":"Start Excel 2013.","pos":[4430,4447]},{"content":"On the <bpt id=\"p1\">**</bpt>PowerQuery<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>From other data sources<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>From OData feed<ept id=\"p3\">**</ept>.","pos":[4452,4538],"source":"On the **PowerQuery** tab, click **From other data sources** &gt; **From OData feed**."},{"content":"<ph id=\"ph1\">![</ph>PowerBI5<ph id=\"ph2\">](media/PowerBI5-1024x457.png)</ph>","pos":[4539,4579],"source":"![PowerBI5](media/PowerBI5-1024x457.png)"},{"content":"Enter the URL of the OData endpoint, as shown in the following screen shot.","pos":[4584,4659]},{"content":"Note that you must append <bpt id=\"p1\">**</bpt>/data<ept id=\"p1\">**</ept> to the <ph id=\"ph1\">\\[</ph>baseurl<ph id=\"ph2\">\\]</ph>.","pos":[4660,4715],"source":" Note that you must append **/data** to the \\[baseurl\\]."},{"content":"(You can copy <ph id=\"ph1\">\\[</ph>basurl<ph id=\"ph2\">\\]</ph> from your browser window and add <bpt id=\"p1\">**</bpt>/data<ept id=\"p1\">**</ept>.) ![PowerBI6]","pos":[4716,4797],"source":" (You can copy \\[basurl\\] from your browser window and add **/data**.) ![PowerBI6]"},{"content":"When PowerQuery requests that you authenticate the OData feed, select <bpt id=\"p1\">**</bpt>Organization ID<ept id=\"p1\">**</ept> as the authentication method, and enter the user name and password that you entered earlier.","pos":[4802,4984],"source":"When PowerQuery requests that you authenticate the OData feed, select **Organization ID** as the authentication method, and enter the user name and password that you entered earlier."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Dynamics AX uses Azure AD to authenticate users.","pos":[4985,5043],"source":"**Note:** Dynamics AX uses Azure AD to authenticate users."},{"content":"When you select <bpt id=\"p1\">**</bpt>Organization ID<ept id=\"p1\">**</ept> and enter your credentials, you're authenticated against Microsoft Dynamics AX.","pos":[5044,5159],"source":" When you select **Organization ID** and enter your credentials, you're authenticated against Microsoft Dynamics AX."},{"content":"Therefore, you will see only data that you have access to through the Microsoft Dynamics AX security model.","pos":[5160,5267]},{"content":"PowerQuery displays a list of available entities, as shown in the following screen shot.","pos":[5268,5356]},{"content":"![PowerBI7]","pos":[5357,5368]},{"pos":[5373,5458],"content":"Use the <bpt id=\"p1\">**</bpt>Navigator<ept id=\"p1\">**</ept> pane to select the following entities, and then click <bpt id=\"p2\">**</bpt>Load<ept id=\"p2\">**</ept>:","source":"Use the **Navigator** pane to select the following entities, and then click **Load**:"},{"content":"GeneralLedgerActivities","pos":[5467,5490]},{"content":"FiscalCalendars","pos":[5499,5514]},{"content":"MainAccounts","pos":[5523,5535]},{"content":"![PowerBI8] PowerQuery will load the data from Dynamics AX into the Excel data model.","pos":[5541,5626]},{"content":"Depending on the size of the data set, this step mtake some time.","pos":[5627,5692]},{"content":"![PowerBI9]","pos":[5693,5704]},{"content":"Double-click <bpt id=\"p1\">**</bpt>MainAccounts<ept id=\"p1\">**</ept> to load the query.","pos":[5709,5757],"source":"Double-click **MainAccounts** to load the query."},{"content":"![PowerBI10]","pos":[5758,5770]},{"content":"You can now use PowerQuery to transform your data set.","pos":[5775,5829]},{"content":"For example, you can rename columns and transform values within the data set.","pos":[5830,5907]},{"pos":[5916,6014],"content":"On the <bpt id=\"p1\">**</bpt>Home<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Choose Columns<ept id=\"p2\">**</ept>, select the following fields, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>:","source":"On the **Home** tab, click **Choose Columns**, select the following fields, and then click **OK**:"},{"content":"AccountCategoryDescription","pos":[6027,6053]},{"content":"MainAccountCategory","pos":[6066,6085]},{"content":"MainAccountID","pos":[6098,6111]},{"content":"MainAccountRecID","pos":[6124,6140]},{"content":"Type","pos":[6153,6157]},{"content":"Name","pos":[6170,6174]},{"content":"To rename columns to make them more readable (for example, by adding spaces), double-click the column header.","pos":[6184,6293]},{"content":"AccountCategoryDescription <ph id=\"ph1\">&amp;gt;</ph> Account Category Description","pos":[6306,6366],"source":"AccountCategoryDescription &gt; Account Category Description"},{"content":"MainAccountCategory <ph id=\"ph1\">&amp;gt;</ph> Main Account Category","pos":[6379,6425],"source":"MainAccountCategory &gt; Main Account Category"},{"content":"MainAccountID <ph id=\"ph1\">&amp;gt;</ph> Main Account ID","pos":[6438,6472],"source":"MainAccountID &gt; Main Account ID"},{"pos":[6482,6505],"content":"Click <bpt id=\"p1\">**</bpt>Close &amp; Load<ept id=\"p1\">**</ept>.","source":"Click **Close & Load**."},{"content":"Optional: You can now repeat this process for the other queries to guarantee that there is a clean data set within the data model.","pos":[6511,6641]},{"pos":[6646,6669],"content":"Data model optimization","linkify":"Data model optimization","nodes":[{"content":"Data model optimization","pos":[0,23]}]},{"content":"In this section, we will review the Excel data model to optimize our data for reports and PowerBI Q&amp;A.","pos":[6670,6772],"source":"In this section, we will review the Excel data model to optimize our data for reports and PowerBI Q&A."},{"pos":[6778,6833],"content":"On the <bpt id=\"p1\">**</bpt>PowerPivot<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Manage Data Model<ept id=\"p2\">**</ept>.","source":"On the **PowerPivot** tab, click **Manage Data Model**."},{"pos":[6838,6947],"content":"On the <bpt id=\"p1\">**</bpt>Design<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Manage Relationships<ept id=\"p2\">**</ept> to create the relationships between the three entities.","source":"On the **Design** tab, click **Manage Relationships** to create the relationships between the three entities."},{"pos":[6956,7054],"content":"Click <bpt id=\"p1\">**</bpt>Create<ept id=\"p1\">**</ept>, and select <bpt id=\"p2\">**</bpt>GeneralLedgerActivites<ept id=\"p2\">**</ept> as Table 1 and <bpt id=\"p3\">**</bpt>MainAccounts<ept id=\"p3\">**</ept> as Table2.","source":"Click **Create**, and select **GeneralLedgerActivites** as Table 1 and **MainAccounts** as Table2."},{"pos":[7063,7120],"content":"Select <bpt id=\"p1\">**</bpt>MainAccountRecID<ept id=\"p1\">**</ept> as the field for both tables.","source":"Select **MainAccountRecID** as the field for both tables."},{"pos":[7129,7142],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Click **OK**."},{"pos":[7151,7318],"content":"Repeat steps 1 through 3, selecting <bpt id=\"p1\">**</bpt>GeneralLedgerActivities<ept id=\"p1\">**</ept> as Table 1, <bpt id=\"p2\">**</bpt>FiscalCalendars<ept id=\"p2\">**</ept> as Table 2, and <bpt id=\"p3\">**</bpt>LedgerGregorianDateID<ept id=\"p3\">**</ept> as the field for both tables.","source":"Repeat steps 1 through 3, selecting **GeneralLedgerActivities** as Table 1, **FiscalCalendars** as Table 2, and **LedgerGregorianDateID** as the field for both tables."},{"content":"You should now have two relationships that join your three entities.","pos":[7324,7392]},{"content":"![PowerBI11]<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Depending on your version of Office, this form might appear slightly different.","pos":[7393,7494],"source":" ![PowerBI11]**Note:** Depending on your version of Office, this form might appear slightly different."},{"pos":[7499,7539],"content":"Close the <bpt id=\"p1\">**</bpt>Manage Relationships<ept id=\"p1\">**</ept> form.","source":"Close the **Manage Relationships** form."},{"content":"You can now hide fields that are used only for calculations or relationships from the end user.","pos":[7544,7639]},{"pos":[7648,7776],"content":"On the <bpt id=\"p1\">**</bpt>GeneralLedgerActivities<ept id=\"p1\">**</ept> tab, right-click the <bpt id=\"p2\">**</bpt>MainAccountRecID<ept id=\"p2\">**</ept> column, and then select <bpt id=\"p3\">**</bpt>Hide from Client Tools<ept id=\"p3\">**</ept>.","source":"On the **GeneralLedgerActivities** tab, right-click the **MainAccountRecID** column, and then select **Hide from Client Tools**."},{"content":"Repeat step 1 across all entities for fields that should not be shown to the end user.","pos":[7785,7871]},{"content":"To make sure that values are presented correctly, set the data type and format for all fields.","pos":[7877,7971]},{"pos":[7980,8067],"content":"Select the <bpt id=\"p1\">**</bpt>Expenses<ept id=\"p1\">**</ept> column, and set the data type and format to <bpt id=\"p2\">**</bpt>Decimal Number<ept id=\"p2\">**</ept>.","source":"Select the **Expenses** column, and set the data type and format to **Decimal Number**."},{"content":"Repeat step 1 across all fields to improve the presentation in visualizations and Power Q&amp;A.","pos":[8076,8168],"source":"Repeat step 1 across all fields to improve the presentation in visualizations and Power Q&A."},{"content":"![PowerBI12]","pos":[8169,8181]},{"content":"You can now add a calculated measure that can be used in your reports.","pos":[8187,8257]},{"pos":[8266,8397],"content":"Click in a cell in the <bpt id=\"p1\">**</bpt>Measure<ept id=\"p1\">**</ept> pane at the bottom of the PowerPivot window, enter the following formula, and then press Return.","source":"Click in a cell in the **Measure** pane at the bottom of the PowerPivot window, enter the following formula, and then press Return."},{"content":"Total Expenses this year: =calculate(sum(<ph id=\"ph1\">\\[</ph>Expenses<ph id=\"ph2\">\\]</ph>),'FiscalCalendars'<ph id=\"ph3\">\\[</ph>YearOffset<ph id=\"ph4\">\\]</ph>=0)","pos":[8409,8498],"source":"Total Expenses this year: =calculate(sum(\\[Expenses\\]),'FiscalCalendars'\\[YearOffset\\]=0)"},{"content":"Click in the cell below the previous cell, and enter the following formula.","pos":[8508,8583]},{"content":"Total Expenses last year: =calculate(sum(<ph id=\"ph1\">\\[</ph>Expenses<ph id=\"ph2\">\\]</ph>),'FiscalCalendars'<ph id=\"ph3\">\\[</ph>YearOffset<ph id=\"ph4\">\\]</ph>=-1)","pos":[8595,8685],"source":"Total Expenses last year: =calculate(sum(\\[Expenses\\]),'FiscalCalendars'\\[YearOffset\\]=-1)"},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> These formulas use the DAX language.","pos":[8695,8741],"source":"**Note:** These formulas use the DAX language."},{"content":"They will sum the <bpt id=\"p1\">**</bpt>Expenses<ept id=\"p1\">**</ept> column but apply a filter to your fiscal calendars on the year offset.","pos":[8742,8843],"source":" They will sum the **Expenses** column but apply a filter to your fiscal calendars on the year offset."},{"content":"A year offset of 0 indicates the current financial year, whereas a year offset of -1 indicates the last financial year.","pos":[8844,8963]},{"content":"Year offsets let users take advantage of their custom Microsoft Dynamics AX fiscal calendars in Power BI.","pos":[8964,9069]},{"content":"![PowerBI13]","pos":[9070,9082]},{"pos":[9092,9165],"content":"Click each of the new measures, and set the format to <bpt id=\"p1\">**</bpt>Decimal Number<ept id=\"p1\">**</ept>.","source":"Click each of the new measures, and set the format to **Decimal Number**."},{"content":"Close the PowerPivot data model.","pos":[9171,9203]},{"pos":[9208,9252],"content":"Optional: Additional data model optimization","linkify":"Optional: Additional data model optimization","nodes":[{"content":"Optional: Additional data model optimization","pos":[0,44]}]},{"content":"At this point, you can use the Excel PowerPivot data model to optimize your data, so that it includes additional measures that can be used in your visualizations.","pos":[9253,9415]},{"content":"Here are just some of these additional optimizations:","pos":[9416,9469]},{"content":"Additional calculated measures","pos":[9475,9505]},{"content":"New calculations","pos":[9514,9530]},{"content":"This year/last year measures","pos":[9539,9567]},{"content":"Synonyms for column names","pos":[9572,9597]},{"content":"Optimization for default field sets, and so on","pos":[9602,9648]},{"pos":[9653,9687],"content":"Create a report by using PowerView","linkify":"Create a report by using PowerView","nodes":[{"content":"Create a report by using PowerView","pos":[0,34]}]},{"content":"In this section you will create a basic report by using PowerView.","pos":[9688,9754]},{"content":"On the <bpt id=\"p1\">**</bpt>Insert<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>PowerView<ept id=\"p2\">**</ept>.","pos":[9760,9803],"source":"On the **Insert** tab, click **PowerView**."},{"content":"Excel will load a blank PowerView report.","pos":[9804,9845]},{"content":"You will see your three entities in the <bpt id=\"p1\">**</bpt>Power View Fields<ept id=\"p1\">**</ept> pane on the right side.","pos":[9846,9931],"source":" You will see your three entities in the **Power View Fields** pane on the right side."},{"content":"Expand <bpt id=\"p1\">**</bpt>GeneralLedgerActivites<ept id=\"p1\">**</ept>, and click <bpt id=\"p2\">**</bpt>Total Expense this year<ept id=\"p2\">**</ept>.","pos":[9936,10009],"source":"Expand **GeneralLedgerActivites**, and click **Total Expense this year**."},{"content":"PowerView adds the field to a table on the report.","pos":[10010,10060]},{"pos":[10065,10209],"content":"Click in the table, and then, on the <bpt id=\"p1\">**</bpt>Design<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Column Chart<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Stacked Column Chart<ept id=\"p3\">**</ept> to change the table to a column chart.","source":"Click in the table, and then, on the **Design** tab, click **Column Chart** &gt; **Stacked Column Chart** to change the table to a column chart."},{"content":"You can now customize the column chart:","pos":[10214,10253]},{"content":"To resize the column chart, drag the corners.","pos":[10262,10307]},{"content":"Expand the chart until it to take up two-thirds of your report.","pos":[10308,10371]},{"content":"PowerBI14","pos":[10374,10383]},{"pos":[10423,10523],"content":"To add some more detail to the chart, select the following fields in the <bpt id=\"p1\">**</bpt>Power View Fields<ept id=\"p1\">**</ept> pane:","source":"To add some more detail to the chart, select the following fields in the **Power View Fields** pane:"},{"content":"FiscalCalendars - Quarters","pos":[10536,10562]},{"content":"FiscalCalendars - PeriodName","pos":[10575,10603]},{"content":"MainAccounts - Main Account Category","pos":[10616,10652]},{"content":"You will notice that the fields on the chart aren't presented the way that you expected.","pos":[10662,10750]},{"content":"To fix this, drag the fields to the correct axis and legend areas.","pos":[10751,10817]},{"pos":[10830,10894],"content":"Drag <bpt id=\"p1\">**</bpt>PeriodName<ept id=\"p1\">**</ept> to the <bpt id=\"p2\">**</bpt>AXIS<ept id=\"p2\">**</ept> area underneath <bpt id=\"p3\">**</bpt>Quarter<ept id=\"p3\">**</ept>.","source":"Drag **PeriodName** to the **AXIS** area underneath **Quarter**."},{"content":"Drag <bpt id=\"p1\">**</bpt>Main Account Category<ept id=\"p1\">**</ept> to the <bpt id=\"p2\">**</bpt>Legend<ept id=\"p2\">**</ept> area.","pos":[10907,10961],"source":"Drag **Main Account Category** to the **Legend** area."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> As you add fields from the three entities, you wil notice that all three are presented in a single visualization.","pos":[10962,11085],"source":"**Note:** As you add fields from the three entities, you wil notice that all three are presented in a single visualization."},{"content":"This is possible because of the relationships that you set up in the PowerPivot data model earlier in this tutorial.","pos":[11086,11202]},{"content":"![PowerBI15]","pos":[11203,11215]},{"content":"You can now drill into the first quarter by double-clicking the <bpt id=\"p1\">**</bpt>Q1<ept id=\"p1\">**</ept> column.","pos":[11221,11299],"source":"You can now drill into the first quarter by double-clicking the **Q1** column."},{"content":"![PowerBI16]","pos":[11300,11312]},{"pos":[11317,11411],"content":"Specify a title for your report by clicking <bpt id=\"p1\">**</bpt>Click here to add a title<ept id=\"p1\">**</ept> and entering a name.","source":"Specify a title for your report by clicking **Click here to add a title** and entering a name."},{"content":"Save your Excel workbook to your local machine or your Microsoft OneDrive library.","pos":[11416,11498]},{"pos":[11503,11544],"content":"Upload the Excel worksheet to PowerBI.com","linkify":"Upload the Excel worksheet to PowerBI.com","nodes":[{"content":"Upload the Excel worksheet to PowerBI.com","pos":[0,41]}]},{"content":"In this section, you will create a dashboard by using the data model that you created in PowerQuery.","pos":[11545,11645]},{"pos":[11651,11721],"content":"In a browser, go to <bpt id=\"p1\">[</bpt>http://app.PowerBI.com<ept id=\"p1\">](http://app.powerbi.com/)</ept>.","source":"In a browser, go to [http://app.PowerBI.com](http://app.powerbi.com/)."},{"content":"Sign in by using the same credentials that you used to access Dynamics AX.","pos":[11726,11800]},{"content":"Create a new dashboard by click the plus sign (+) next to <bpt id=\"p1\">**</bpt>Dashboards<ept id=\"p1\">**</ept>.","pos":[11805,11878],"source":"Create a new dashboard by click the plus sign (+) next to **Dashboards**."},{"content":"Enter a suitable name.","pos":[11879,11901]},{"content":"A blank dashboard that resembles the following screen shot will appear.![PowerBI17]","pos":[11902,11985]},{"content":"Click <bpt id=\"p1\">**</bpt>Get data<ept id=\"p1\">**</ept> to import data into the dashboard.","pos":[11990,12043],"source":"Click **Get data** to import data into the dashboard."},{"content":"A page that resembles the following screen shot will open.","pos":[12044,12102]},{"content":"<ph id=\"ph1\">![</ph>PowerBI18<ph id=\"ph2\">](media/PowerBI18-1024x448.png)</ph>","pos":[12103,12145],"source":"![PowerBI18](media/PowerBI18-1024x448.png)"},{"content":"In the left pane, click <bpt id=\"p1\">**</bpt>Excel Workbook<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Connect<ept id=\"p2\">**</ept>.","pos":[12150,12221],"source":"In the left pane, click **Excel Workbook**, and then click **Connect**."},{"content":"In the <bpt id=\"p1\">**</bpt>File picker<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>Browse<ept id=\"p2\">**</ept> to select the Excel model that you saved in previous section.","pos":[12222,12335],"source":" In the **File picker** dialog box, click **Browse** to select the Excel model that you saved in previous section."},{"content":"Then click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>.","pos":[12336,12359],"source":" Then click **Connect**."},{"content":"<ph id=\"ph1\">![</ph>PowerBI19<ph id=\"ph2\">](media/PowerBI19-1024x490.png)</ph> A blank chart icon appears on the dashboard to indicate that the data is available.","pos":[12360,12486],"source":"![PowerBI19](media/PowerBI19-1024x490.png) A blank chart icon appears on the dashboard to indicate that the data is available."},{"content":"<ph id=\"ph1\">![</ph>PowerBI20<ph id=\"ph2\">](media/PowerBI20-1024x451.png)</ph>","pos":[12487,12529],"source":"![PowerBI20](media/PowerBI20-1024x451.png)"},{"content":"Click the blank chart icon.","pos":[12534,12561]},{"content":"The PowerView report that you authored earlier is displayed.","pos":[12562,12622]},{"content":"You can author additional reports and pin them to the dashboard by using PowerBI.com functionality.","pos":[12623,12722]},{"content":"PowerBI21","pos":[12725,12734]},{"content":"Click the chart, and then click the pushpin button in the upper-right corner to pin the report to your dashboard.","pos":[12770,12883]},{"content":"![PowerBI22]","pos":[12884,12896]},{"content":"In the navigation pane on the left side of the page, click the name of your dashboard.","pos":[12901,12987]},{"content":"You are returned to your dashboard, which now displays your chart.","pos":[12988,13054]},{"content":"![PowerBI23]","pos":[13055,13067]}],"content":"---\n# required metadata\n\ntitle: Create a Power BI report by using Microsoft Dynamics AX data | Microsoft Docs\ndescription: This tutorial outlines the process for creating an end user–friendly data model, reports, and dashboards in the version of Power BI that is currently available from http://app.powerbi.com.\nauthor: annbe\nmanager: AnnBe\nms.date: 2015-12-12 19:09:37\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: \nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 24531\nms.assetid: c748a9de-f6f6-4a53-bc49-e0f24af96776\n# ms.region: \n# ms.industry: \nms.author: sericks007\n\n---\n\n# Create a Power BI report by using Microsoft Dynamics AX data\n\nKey concepts\n------------\n\n-   **Power BI** refers to the cloud-based analytics visualization platform that is used to extract, transform, and present data from Microsoft Dynamics AX (together with other systems), so that users can interact with it and share it.\n-   **Power Query** refers to the Microsoft Excel–based tool set for extracting and transforming data from Dynamics AX through OData feeds into an Excel-based data model that is used in Power BI reporting.\n-   **Self-service BI** refers to enabling users to tweak existing analytic content and create new analytic content, such as reports, key performance indicators (KPIs), and dashboards.\n\n## Supported platforms and environments\n-   This tutorial is based on Dynamics AX. Earlier versions of Microsoft Dynamics AX will not include the entities that are described in this tutorial.\n-   It’s a good idea to use your local desktop version of Excel to connect to the cloud instance, not Excel within the Dynamics AX virtual machines (VMs). There is a known limitation in PowerPivot on Windows Data Center VMs.\n-   PowerQuery authentication is supported completely in Dynamics AX. Earlier versions aren't registered for Microsoft Azure Active Directory authentication. Registration of the instance with Azure AD is a required step and is automated as part of the deployment process.\n\nMicrosoft Excel 2013 is required, together with PowerQuery (a post–February 2015 update of PowerQuery is required). Both 32-bit and 64-bit versions of Microsoft Office are supported, but the 64-bit version is recommended for optimal performance.\n\n## Before you start\n### Download and install PowerQuery\n\n1.  Download PowerQuery from the following location: <http://www.microsoft.com/en-us/download/details.aspx?id=39379> **Note:** PowerQuery comes in two versions that correspond to the two versions of Excel (32-bit and 64-bit). You must find out which version of Excel you have. You must then choose and install either the 64-bit or the 32-bit versions of PowerQuery. **The 64-bit version of Excel 2013 is already installed in the developer environment.**\n2.  Start Excel 2013, and verify that the **PowerQuery** tab is available.\n3.  Enable the PowerPivot and PowerView add-ins.\n\n## Verify that Dynamics AX data entities are available\n1.  Start Internet Explorer in **InPrivate** mode, and enter the URL that is used to access your Dynamics AX deployment. This URL will end with \".cloud.dynamics.com*.\" * Throughout this document, this URL will be referred to as \\[baseurl\\]. You will be asked to sign in on a page that resembles the following screen shot. ![PowerBI1](media/PowerBI1-1024x718.png)\n2.  Enter your user credentials for access to your environment. After your credentials are authenticated, you will see the Dynamics AX user interface. ![PowerBI2](media/PowerBI2-1024x553.png)\n3.  To validate that data entities are exposed by using the ODatav4 endpoint, enter the following URL in the browser window: \\[baseurl\\]/data You will be asked whether you want to display the data in JSON format, as shown in the following screenshot. ![PowerBI3](media/PowerBI3-1024x554.png)\n4.  Click **Open**. You will see the available entities in the JSON file downloaded, as shown in the following screen shot. This feed shows all the entities that have been made public from your deployment. As you develop new public entities, they will appear in this list. ![PowerBI4](media/PowerBI4-1024x616.png)\n\n**Note:** To enable the browser to display JSON content, run the file at C:\\\\FMLab\\\\ison-ie.reg, and click **Yes** to change the registry.\n\n## Access Dynamics AX OData endpoints in PowerQuery\n1.  Start Excel 2013.\n2.  On the **PowerQuery** tab, click **From other data sources** &gt; **From OData feed**. ![PowerBI5](media/PowerBI5-1024x457.png)\n3.  Enter the URL of the OData endpoint, as shown in the following screen shot. Note that you must append **/data** to the \\[baseurl\\]. (You can copy \\[basurl\\] from your browser window and add **/data**.) ![PowerBI6]\n4.  When PowerQuery requests that you authenticate the OData feed, select **Organization ID** as the authentication method, and enter the user name and password that you entered earlier. **Note:** Dynamics AX uses Azure AD to authenticate users. When you select **Organization ID** and enter your credentials, you're authenticated against Microsoft Dynamics AX. Therefore, you will see only data that you have access to through the Microsoft Dynamics AX security model. PowerQuery displays a list of available entities, as shown in the following screen shot. ![PowerBI7]\n5.  Use the **Navigator** pane to select the following entities, and then click **Load**:\n    -   GeneralLedgerActivities\n    -   FiscalCalendars\n    -   MainAccounts\n\n    ![PowerBI8] PowerQuery will load the data from Dynamics AX into the Excel data model. Depending on the size of the data set, this step mtake some time. ![PowerBI9]\n6.  Double-click **MainAccounts** to load the query. ![PowerBI10]\n7.  You can now use PowerQuery to transform your data set. For example, you can rename columns and transform values within the data set.\n    1.  On the **Home** tab, click **Choose Columns**, select the following fields, and then click **OK**:\n        -   AccountCategoryDescription\n        -   MainAccountCategory\n        -   MainAccountID\n        -   MainAccountRecID\n        -   Type\n        -   Name\n\n    2.  To rename columns to make them more readable (for example, by adding spaces), double-click the column header.\n        -   AccountCategoryDescription &gt; Account Category Description\n        -   MainAccountCategory &gt; Main Account Category\n        -   MainAccountID &gt; Main Account ID\n\n    3.  Click **Close & Load**.\n\n8.  Optional: You can now repeat this process for the other queries to guarantee that there is a clean data set within the data model.\n\n## Data model optimization\nIn this section, we will review the Excel data model to optimize our data for reports and PowerBI Q&A.\n\n1.  On the **PowerPivot** tab, click **Manage Data Model**.\n2.  On the **Design** tab, click **Manage Relationships** to create the relationships between the three entities.\n    1.  Click **Create**, and select **GeneralLedgerActivites** as Table 1 and **MainAccounts** as Table2.\n    2.  Select **MainAccountRecID** as the field for both tables.\n    3.  Click **OK**.\n    4.  Repeat steps 1 through 3, selecting **GeneralLedgerActivities** as Table 1, **FiscalCalendars** as Table 2, and **LedgerGregorianDateID** as the field for both tables.\n\n    You should now have two relationships that join your three entities. ![PowerBI11]**Note:** Depending on your version of Office, this form might appear slightly different.\n3.  Close the **Manage Relationships** form.\n4.  You can now hide fields that are used only for calculations or relationships from the end user.\n    1.  On the **GeneralLedgerActivities** tab, right-click the **MainAccountRecID** column, and then select **Hide from Client Tools**.\n    2.  Repeat step 1 across all entities for fields that should not be shown to the end user.\n\n5.  To make sure that values are presented correctly, set the data type and format for all fields.\n    1.  Select the **Expenses** column, and set the data type and format to **Decimal Number**.\n    2.  Repeat step 1 across all fields to improve the presentation in visualizations and Power Q&A. ![PowerBI12]\n\n6.  You can now add a calculated measure that can be used in your reports.\n    1.  Click in a cell in the **Measure** pane at the bottom of the PowerPivot window, enter the following formula, and then press Return.\n\n        > Total Expenses this year: =calculate(sum(\\[Expenses\\]),'FiscalCalendars'\\[YearOffset\\]=0)\n\n    2.  Click in the cell below the previous cell, and enter the following formula.\n\n        > Total Expenses last year: =calculate(sum(\\[Expenses\\]),'FiscalCalendars'\\[YearOffset\\]=-1)\n\n        **Note:** These formulas use the DAX language. They will sum the **Expenses** column but apply a filter to your fiscal calendars on the year offset. A year offset of 0 indicates the current financial year, whereas a year offset of -1 indicates the last financial year. Year offsets let users take advantage of their custom Microsoft Dynamics AX fiscal calendars in Power BI. ![PowerBI13]\n\n    3.  Click each of the new measures, and set the format to **Decimal Number**.\n\n7.  Close the PowerPivot data model.\n\n## Optional: Additional data model optimization\nAt this point, you can use the Excel PowerPivot data model to optimize your data, so that it includes additional measures that can be used in your visualizations. Here are just some of these additional optimizations:\n\n-   Additional calculated measures\n    -   New calculations\n    -   This year/last year measures\n-   Synonyms for column names\n-   Optimization for default field sets, and so on\n\n## Create a report by using PowerView\nIn this section you will create a basic report by using PowerView.\n\n1.  On the **Insert** tab, click **PowerView**. Excel will load a blank PowerView report. You will see your three entities in the **Power View Fields** pane on the right side.\n2.  Expand **GeneralLedgerActivites**, and click **Total Expense this year**. PowerView adds the field to a table on the report.\n3.  Click in the table, and then, on the **Design** tab, click **Column Chart** &gt; **Stacked Column Chart** to change the table to a column chart.\n4.  You can now customize the column chart:\n    1.  To resize the column chart, drag the corners. Expand the chart until it to take up two-thirds of your report. ![PowerBI14](media/PowerBI14-1024x645.png)\n    2.  To add some more detail to the chart, select the following fields in the **Power View Fields** pane:\n        -   FiscalCalendars - Quarters\n        -   FiscalCalendars - PeriodName\n        -   MainAccounts - Main Account Category\n\n    3.  You will notice that the fields on the chart aren't presented the way that you expected. To fix this, drag the fields to the correct axis and legend areas.\n        1.  Drag **PeriodName** to the **AXIS** area underneath **Quarter**.\n        2.  Drag **Main Account Category** to the **Legend** area. **Note:** As you add fields from the three entities, you wil notice that all three are presented in a single visualization. This is possible because of the relationships that you set up in the PowerPivot data model earlier in this tutorial. ![PowerBI15]\n\n5.  You can now drill into the first quarter by double-clicking the **Q1** column. ![PowerBI16]\n6.  Specify a title for your report by clicking **Click here to add a title** and entering a name.\n7.  Save your Excel workbook to your local machine or your Microsoft OneDrive library.\n\n## Upload the Excel worksheet to PowerBI.com\nIn this section, you will create a dashboard by using the data model that you created in PowerQuery.\n\n1.  In a browser, go to [http://app.PowerBI.com](http://app.powerbi.com/).\n2.  Sign in by using the same credentials that you used to access Dynamics AX.\n3.  Create a new dashboard by click the plus sign (+) next to **Dashboards**. Enter a suitable name. A blank dashboard that resembles the following screen shot will appear.![PowerBI17]\n4.  Click **Get data** to import data into the dashboard. A page that resembles the following screen shot will open. ![PowerBI18](media/PowerBI18-1024x448.png)\n5.  In the left pane, click **Excel Workbook**, and then click **Connect**. In the **File picker** dialog box, click **Browse** to select the Excel model that you saved in previous section. Then click **Connect**. ![PowerBI19](media/PowerBI19-1024x490.png) A blank chart icon appears on the dashboard to indicate that the data is available. ![PowerBI20](media/PowerBI20-1024x451.png)\n6.  Click the blank chart icon. The PowerView report that you authored earlier is displayed. You can author additional reports and pin them to the dashboard by using PowerBI.com functionality. ![PowerBI21](media/PowerBI21-1024x395.png)\n7.  Click the chart, and then click the pushpin button in the upper-right corner to pin the report to your dashboard. ![PowerBI22]\n8.  In the navigation pane on the left side of the page, click the name of your dashboard. You are returned to your dashboard, which now displays your chart. ![PowerBI23]\n\n\n"}