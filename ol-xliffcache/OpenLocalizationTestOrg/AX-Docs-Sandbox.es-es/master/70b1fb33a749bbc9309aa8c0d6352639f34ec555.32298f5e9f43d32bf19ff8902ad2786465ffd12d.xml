{"nodes":[{"pos":[32,59],"content":"Retail peripheral simulator","needQuote":true,"needEscape":true,"nodes":[{"content":"Retail peripheral simulator","pos":[0,27]}]},{"pos":[73,193],"content":"This topic describes the peripheral simulator tool that is provided with Microsoft Dynamics 365 for Operations - Retail.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes the peripheral simulator tool that is provided with Microsoft Dynamics 365 for Operations - Retail.","pos":[0,120]}]},{"pos":[716,743],"content":"Retail peripheral simulator","linkify":"Retail peripheral simulator","nodes":[{"content":"Retail peripheral simulator","pos":[0,27]}]},{"content":"This topic describes the peripheral simulator tool that is provided with Microsoft Dynamics 365 for Operations - Retail.","pos":[745,865]},{"pos":[867,875],"content":"Overview","linkify":"Overview","nodes":[{"content":"Overview","pos":[0,8]}]},{"content":"The Microsoft Dynamics 365 for Operations - Retail peripheral simulator is a tool that helps you set up, test, and troubleshoot peripheral devices that are used in retail environments.","pos":[886,1070]},{"content":"You can use the peripheral simulator to streamline the testing of retail peripherals, and to isolate issues that are caused by incorrect setup or malfunctioning device drivers.","pos":[1071,1247]},{"content":"The peripheral simulator includes a desktop program that features virtual versions of devices that Dynamics 365 for Operations - Retail supports.","pos":[1248,1393]},{"content":"A section for each virtual device shows the interaction between the device and the retail point of sale (POS).","pos":[1394,1504]},{"content":"You can also use it to provide input that is valid for various POS scenarios.","pos":[1505,1582]},{"content":"The peripheral simulator supports interaction between the POS and the following virtual devices:","pos":[1583,1679]},{"pos":[1685,1780],"content":"<bpt id=\"p1\">**</bpt>Printer<ept id=\"p1\">**</ept> – The peripheral simulator can show receipts that are configured for a POS printer.","source":"**Printer** – The peripheral simulator can show receipts that are configured for a POS printer."},{"pos":[1785,1889],"content":"<bpt id=\"p1\">**</bpt>Line display<ept id=\"p1\">**</ept> – You can configure a virtual line display to show activity on a physical line display.","source":"**Line display** – You can configure a virtual line display to show activity on a physical line display."},{"pos":[1894,2016],"content":"<bpt id=\"p1\">**</bpt>Magnetic stripe reader (MSR)<ept id=\"p1\">**</ept> – You can send simulated magnetic stripe events to the POS from the peripheral simulator.","source":"**Magnetic stripe reader (MSR)** – You can send simulated magnetic stripe events to the POS from the peripheral simulator."},{"pos":[2021,2074],"content":"<bpt id=\"p1\">**</bpt>Drawer<ept id=\"p1\">**</ept> – You can simulate a physical cash drawer.","source":"**Drawer** – You can simulate a physical cash drawer."},{"pos":[2079,2247],"content":"<bpt id=\"p1\">**</bpt>Drawer 2<ept id=\"p1\">**</ept> – By setting up a second cash drawer in the peripheral simulator, you can simulate scenarios that involve a single POS register that has two active shifts.","source":"**Drawer 2** – By setting up a second cash drawer in the peripheral simulator, you can simulate scenarios that involve a single POS register that has two active shifts."},{"pos":[2252,2365],"content":"<bpt id=\"p1\">**</bpt>Scanner<ept id=\"p1\">**</ept> – The virtual bar code scanner that the peripheral simulator supports can issue bar code scan events.","source":"**Scanner** – The virtual bar code scanner that the peripheral simulator supports can issue bar code scan events."},{"pos":[2370,2462],"content":"<bpt id=\"p1\">**</bpt>Scale<ept id=\"p1\">**</ept> – A virtual scale lets you simulate the interaction of weighed items with the POS.","source":"**Scale** – A virtual scale lets you simulate the interaction of weighed items with the POS."},{"content":"<bpt id=\"p1\">**</bpt>Personal identification number (PIN) pad<ept id=\"p1\">**</ept> – You can simulate PIN pad operations.","pos":[2467,2550],"source":"**Personal identification number (PIN) pad** – You can simulate PIN pad operations."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> You must implement support for a physical PIN pad through the payment connector.","pos":[2551,2641],"source":"**Note:** You must implement support for a physical PIN pad through the payment connector."},{"pos":[2646,2854],"content":"<bpt id=\"p1\">**</bpt>Signature capture<ept id=\"p1\">**</ept> – The peripheral simulator includes a virtual signature capture device that you can set up to prompt for signatures that are required for some tenders, such as customer account payments.","source":"**Signature capture** – The peripheral simulator includes a virtual signature capture device that you can set up to prompt for signatures that are required for some tenders, such as customer account payments."},{"content":"You can also use the peripheral simulator to simulate keyboard wedge events that originate from a bar code scanner and MSR.","pos":[2856,2979]},{"content":"The virtual peripheral simulator specifically supports Object Linking and Embedding for Retail POS (OPOS) devices.","pos":[2980,3094]},{"pos":[3099,3112],"content":"Key scenarios","linkify":"Key scenarios","nodes":[{"content":"Key scenarios","pos":[0,13]}]},{"pos":[3117,3132],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"You can use the peripheral simulator to troubleshoot device setup.","pos":[3134,3200]},{"content":"If you don't have the peripheral simulator or a second device of the same class, it can be difficult to determine where issues originate.","pos":[3201,3338]},{"content":"However, when you have the peripheral simulator, you can set up virtual devices, and run the same code paths and business logic that are used for physical devices.","pos":[3339,3502]},{"content":"From the perspective of the peripheral simulator, the main difference between virtual devices and physical devices is the service object, or device driver.","pos":[3503,3658]},{"content":"For physical devices, the service object is provided by the device manufacturer.","pos":[3659,3739]},{"content":"By contrast, for the peripheral simulator, the service objects are provided as part of the peripheral simulator.","pos":[3740,3852]},{"content":"When the peripheral simulator is working correctly, if a device doesn't work correctly after the device name in the hardware profile is changed to the name of a real device, you can assume that there's an issue with the service object that the manufacturer provided.","pos":[3853,4119]},{"pos":[4125,4133],"content":"Training","linkify":"Training","nodes":[{"content":"Training","pos":[0,8]}]},{"content":"You can use the peripheral simulator to add a realistic layer to cashier training when a physical hardware setup isn't available.","pos":[4135,4264]},{"content":"When the peripheral simulator is included in training scenarios, the cashier can more effectively interact with the POS by providing input such as product bar code scans and gift card swipes, and by observing which receipts are printed for a specific transaction.","pos":[4265,4528]},{"pos":[4534,4541],"content":"Testing","linkify":"Testing","nodes":[{"content":"Testing","pos":[0,7]}]},{"content":"You can use the peripheral simulator to test product bar codes, receipt formats, and so on, without having to deploy physical hardware in a virtual environment.","pos":[4543,4703]},{"content":"Because physical hardware isn't required, and you don't have to deploy a POS client on a hardware station or a physical computer, you can more quickly test changes that are made in the back office.","pos":[4704,4901]},{"pos":[4906,4937],"content":"Set up the peripheral simulator","linkify":"Set up the peripheral simulator","nodes":[{"content":"Set up the peripheral simulator","pos":[0,31]}]},{"pos":[4942,4967],"content":"Set up a hardware profile","linkify":"Set up a hardware profile","nodes":[{"content":"Set up a hardware profile","pos":[0,25]}]},{"pos":[4973,5130],"content":"To set up the peripheral simulator, go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>POS setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>POS profiles<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Hardware profiles<ept id=\"p5\">**</ept>.","source":"To set up the peripheral simulator, go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**."},{"pos":[5135,5174],"content":"To create a new profile, click <bpt id=\"p1\">**</bpt>New<ept id=\"p1\">**</ept>.","source":"To create a new profile, click **New**."},{"pos":[5179,5245],"content":"Enter values in the <bpt id=\"p1\">**</bpt>Profile number<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Description<ept id=\"p2\">**</ept> fields.","source":"Enter values in the **Profile number** and **Description** fields."},{"content":"Use the following table to set up the virtual devices that must be tested.","pos":[5250,5324]},{"content":"Here is an explanation of the columns in the table:","pos":[5325,5376]},{"pos":[5385,5477],"content":"<bpt id=\"p1\">**</bpt>Device<ept id=\"p1\">**</ept> – This column gives the name of the FastTab that you expand to set up the device.","source":"**Device** – This column gives the name of the FastTab that you expand to set up the device."},{"pos":[5486,5605],"content":"<bpt id=\"p1\">**</bpt>Device type<ept id=\"p1\">**</ept> – This column gives the value that you select in the field that is labeled with the name of the device.","source":"**Device type** – This column gives the value that you select in the field that is labeled with the name of the device."},{"content":"<bpt id=\"p1\">**</bpt>Device name<ept id=\"p1\">**</ept> – This column gives the exact value that you enter for the device name.","pos":[5614,5701],"source":"**Device name** – This column gives the exact value that you enter for the device name."},{"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept> The device names that are given here are required, because the hardware station uses these specific names to address the devices.","pos":[5702,5846],"source":"**Important:** The device names that are given here are required, because the hardware station uses these specific names to address the devices."},{"content":"If you don't use these specific names, the device won't be usable.","pos":[5847,5913]},{"content":"Device","pos":[5921,5927]},{"content":"Device type","pos":[5941,5952]},{"content":"Device name","pos":[5955,5966]},{"content":"Printer","pos":[6055,6062]},{"content":"OPOS","pos":[6075,6079]},{"content":"MockOPOSPrinter","pos":[6089,6104]},{"content":"Line display","pos":[6122,6134]},{"content":"OPOS","pos":[6142,6146]},{"content":"MockOPOSLineDisplay","pos":[6156,6175]},{"content":"MSR","pos":[6189,6192]},{"content":"OPOS","pos":[6209,6213]},{"content":"MockOPOSMSR","pos":[6223,6234]},{"content":"Drawer","pos":[6256,6262]},{"content":"OPOS","pos":[6276,6280]},{"content":"MockOPOSDrawer1","pos":[6290,6305]},{"content":"Drawer2","pos":[6323,6330]},{"content":"OPOS","pos":[6343,6347]},{"content":"MockOPOSDrawers","pos":[6357,6372]},{"content":"Scanner","pos":[6390,6397]},{"content":"OPOS","pos":[6410,6414]},{"content":"MockOPOSScanner","pos":[6424,6439]},{"content":"Scale","pos":[6457,6462]},{"content":"OPOS","pos":[6477,6481]},{"content":"MockOPOSScale","pos":[6491,6504]},{"content":"PIN Pad","pos":[6524,6531]},{"content":"OPOS","pos":[6544,6548]},{"content":"MockOPOSPinPad","pos":[6558,6572]},{"content":"Signature capture","pos":[6591,6608]},{"content":"OPOS","pos":[6611,6615]},{"content":"MockOPOSSignatureCapture","pos":[6625,6649]},{"pos":[6653,6785],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> No specific setup in the hardware profile is required to simulate keyboard wedge events from the bar code scanner and MSR.","source":"**Note:** No specific setup in the hardware profile is required to simulate keyboard wedge events from the bar code scanner and MSR."},{"pos":[6791,6832],"content":"Assign the hardware profile to a register","linkify":"Assign the hardware profile to a register","nodes":[{"content":"Assign the hardware profile to a register","pos":[0,41]}]},{"pos":[6838,6968],"content":"After the hardware profile is created, go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>POS setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Registers<ept id=\"p4\">**</ept>.","source":"After the hardware profile is created, go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **Registers**."},{"pos":[6973,7110],"content":"In the <bpt id=\"p1\">**</bpt>POS registers<ept id=\"p1\">**</ept> list, click the link in the <bpt id=\"p2\">**</bpt>Register number<ept id=\"p2\">**</ept> field for the register that should use the peripheral simulator.","source":"In the **POS registers** list, click the link in the **Register number** field for the register that should use the peripheral simulator."},{"pos":[7115,7130],"content":"Click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>.","source":"Click **Edit**."},{"pos":[7135,7268],"content":"In the <bpt id=\"p1\">**</bpt>Profiles<ept id=\"p1\">**</ept> section, in the <bpt id=\"p2\">**</bpt>Hardware profile<ept id=\"p2\">**</ept> field, select the hardware profile that you created for virtual peripherals.","source":"In the **Profiles** section, in the **Hardware profile** field, select the hardware profile that you created for virtual peripherals."},{"pos":[7273,7288],"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"Click **Save**."},{"pos":[7294,7337],"content":"Synchronize changes to the channel database","linkify":"Synchronize changes to the channel database","nodes":[{"content":"Synchronize changes to the channel database","pos":[0,43]}]},{"pos":[7343,7423],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Retail IT<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**."},{"pos":[7428,7470],"content":"Select the <bpt id=\"p1\">**</bpt>1090<ept id=\"p1\">**</ept> distribution schedule.","source":"Select the **1090** distribution schedule."},{"pos":[7475,7527],"content":"Click <bpt id=\"p1\">**</bpt>Run now<ept id=\"p1\">**</ept> to synchronize changes to the POS.","source":"Click **Run now** to synchronize changes to the POS."},{"content":"After the data is synchronized, the new hardware profile and changes on the register are available in the channel database.","pos":[7529,7652]},{"pos":[7657,7689],"content":"Install the peripheral simulator","linkify":"Install the peripheral simulator","nodes":[{"content":"Install the peripheral simulator","pos":[0,32]}]},{"pos":[7694,7815],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>POS setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>POS profiles<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Hardware profiles<ept id=\"p5\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**."},{"content":"Click <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>PeripheralSimulator<ept id=\"p2\">**</ept>.","pos":[7820,7879],"source":"Click **Download**, and then click **PeripheralSimulator**."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> You must turn off pop-up blockers before you can download the peripheral simulator.","pos":[7880,7973],"source":"**Note:** You must turn off pop-up blockers before you can download the peripheral simulator."},{"pos":[7978,8109],"content":"After the download is completed, open the <bpt id=\"p1\">**</bpt>Downloads<ept id=\"p1\">**</ept> folder, and double-click <bpt id=\"p2\">**</bpt>VirtualPeripherals.msi<ept id=\"p2\">**</ept> to start the installer.","source":"After the download is completed, open the **Downloads** folder, and double-click **VirtualPeripherals.msi** to start the installer."},{"content":"Install the peripheral simulator by using the default settings.","pos":[8114,8177]},{"content":"In addition to the peripheral simulator, you must install the common control objects from Monroe Consulting Services.","pos":[8179,8296]},{"content":"Otherwise, the peripheral simulator won't work correctly.","pos":[8297,8354]},{"content":"To download the common control objects, go to <bpt id=\"p1\">&lt;</bpt>http://monroecs.com/oposccos_current.htm<ept id=\"p1\">&gt;</ept>.","pos":[8355,8444],"source":" To download the common control objects, go to <http://monroecs.com/oposccos_current.htm>."},{"pos":[8449,8479],"content":"Using the peripheral simulator","linkify":"Using the peripheral simulator","nodes":[{"content":"Using the peripheral simulator","pos":[0,30]}]},{"content":"To start the peripheral simulator, click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept> on your computer, type <bpt id=\"p2\">**</bpt>Retail peripheral simulator<ept id=\"p2\">**</ept>, and then select the app when it appears in the search results.","pos":[8480,8649],"source":"To start the peripheral simulator, click **Start** on your computer, type **Retail peripheral simulator**, and then select the app when it appears in the search results."},{"content":"After you start the peripheral simulator, click a device name to see the supported devices.","pos":[8650,8741]},{"content":"These devices will be listed as tabs on the left side of the window.","pos":[8742,8810]},{"content":"To view a specific device, click the tab for that device.","pos":[8811,8868]},{"pos":[8874,8899],"content":"Line display capabilities","linkify":"Line display capabilities","nodes":[{"content":"Line display capabilities","pos":[0,25]}]},{"content":"The line display is the first device that is listed in the peripheral simulator.","pos":[8901,8981]},{"content":"When the virtual line display is configured, it shows line items as they are scanned in the POS transaction.","pos":[8982,9090]},{"content":"In addition to line items, the display shows the total that is due when a tender is selected at the POS.","pos":[9091,9195]},{"content":"It also shows the balance that is due if a tender is entered but a balance is still due for the transaction.","pos":[9196,9304]},{"content":"When the POS isn't being used, a message can be shown to indicate that the till is closed.","pos":[9305,9395]},{"content":"You must configure the message on the <bpt id=\"p1\">**</bpt>Line display<ept id=\"p1\">**</ept> FastTab in the hardware profile.","pos":[9396,9483],"source":" You must configure the message on the **Line display** FastTab in the hardware profile."},{"pos":[9489,9513],"content":"Cash drawer capabilities","linkify":"Cash drawer capabilities","nodes":[{"content":"Cash drawer capabilities","pos":[0,24]}]},{"content":"The cash drawer is the second device that is listed in the peripheral simulator.","pos":[9515,9595]},{"content":"When the hardware profile is configured to use virtual cash drawers, the POS opens the cash drawer for the active shift in response to drawer operations such as tender declarations, and so that the cashier can make change or deposit cash during standard cash-and-carry transactions.","pos":[9596,9878]},{"content":"The virtual cash drawers have the labels <bpt id=\"p1\">**</bpt>Main drawer<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Secondary drawer<ept id=\"p2\">**</ept>.","pos":[9879,9961],"source":" The virtual cash drawers have the labels **Main drawer** and **Secondary drawer**."},{"content":"These labels represent Drawer and Drawer 2 in the hardware profile, respectively.","pos":[9962,10043]},{"content":"When a drawer is closed, an image of a closed cash drawer is shown, and the button on the closed cash drawer is labeled <bpt id=\"p1\">**</bpt>Open drawer<ept id=\"p1\">**</ept>.","pos":[10044,10180],"source":" When a drawer is closed, an image of a closed cash drawer is shown, and the button on the closed cash drawer is labeled **Open drawer**."},{"content":"If you click this button, the image is replaced with an image of an open cash drawer to indicate that the drawer is now open.","pos":[10181,10306]},{"content":"The button on the open cash drawer is labeled <bpt id=\"p1\">**</bpt>Close drawer<ept id=\"p1\">**</ept>.","pos":[10307,10370],"source":" The button on the open cash drawer is labeled **Close drawer**."},{"content":"Several operations at the POS can cause the cash drawer to open.","pos":[10371,10435]},{"content":"Most operations can't proceed while the cash drawer is open.","pos":[10436,10496]},{"content":"The exceptions are some end-of-day procedures.","pos":[10497,10543]},{"content":"If the POS user receives an error message that states that an operation can't be performed while the cash drawer is open, the user must close the virtual or physical cash drawer to proceed.","pos":[10544,10733]},{"content":"If a cash drawer is marked as <bpt id=\"p1\">**</bpt>Shared<ept id=\"p1\">**</ept> in the hardware profile, the system doesn't verify that the drawer is closed before an operation.","pos":[10734,10872],"source":" If a cash drawer is marked as **Shared** in the hardware profile, the system doesn't verify that the drawer is closed before an operation."},{"content":"The operation proceeds as usual, even if the cash drawer is open.","pos":[10873,10938]},{"content":"This behavior supports scenarios where cash drawers are shared among sales associates, and where one associate uses a cash drawer while another associate performs unrelated tasks on his or her own POS device.","pos":[10939,11147]},{"content":"Changes that are made to the cash drawer aren't evident until the current shift is closed and a new shift is opened.","pos":[11148,11264]},{"pos":[11270,11286],"content":"MSR capabilities","linkify":"MSR capabilities","nodes":[{"content":"MSR capabilities","pos":[0,16]}]},{"content":"The peripheral simulator provides robust support for virtual MSR operations by working in either OPOS mode or keyboard wedge mode.","pos":[11288,11418]},{"content":"OPOS mode requires that the MSR be configured in the hardware profile to work as an OPOS device.","pos":[11419,11515]},{"content":"Keyboard wedge mode just sends keyboard wedge data events to Microsoft Windows.","pos":[11516,11595]},{"content":"Besides differences in setup, OPOS and keyboard wedge modes differ in the following ways:","pos":[11596,11685]},{"content":"The POS client enables OPOS MSR devices for specific scenarios, such as scenarios that allow magnetic stripe data for loyalty or gift card entry.","pos":[11691,11836]},{"content":"In keyboard wedge mode, the peripheral simulator sends keyboard wedge data to the field that is active when the data is sent.","pos":[11841,11966]},{"content":"This behavior resembles the behavior that occurs if the data is entered by using a keyboard.","pos":[11967,12059]},{"content":"To use the MSR as a keyboard wedge, the user must switch to Retail Modern POS (MPOS) to make sure that data is received in the correct field.","pos":[12060,12201]},{"content":"Therefore, you can configure a delay, so that the user has time to make sure that the data will be sent to the correct field.","pos":[12202,12327]},{"pos":[12334,12370],"content":"Testing gift and payment card swipes","linkify":"Testing gift and payment card swipes","nodes":[{"content":"Testing gift and payment card swipes","pos":[0,36]}]},{"content":"The virtual MSR that the peripheral simulator provides also lets you configure specific MSR data to test scenarios for gift and payment card swipes.","pos":[12372,12520]},{"content":"To create a card, click the plus sign (<bpt id=\"p1\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p1\">**</ept>) button, and select the type of card.","pos":[12521,12603],"source":" To create a card, click the plus sign (**+**) button, and select the type of card."},{"content":"Then specify the card number or track data that should be sent to the POS, together with the expiration month and year for the card that you're defining.","pos":[12604,12757]},{"content":"The value that you select in the <bpt id=\"p1\">**</bpt>Type of card<ept id=\"p1\">**</ept> field is just a label that can be mapped to a card.","pos":[12758,12859],"source":" The value that you select in the **Type of card** field is just a label that can be mapped to a card."},{"content":"This label makes it easier to identify cards when they are swiped through the peripheral simulator.","pos":[12860,12959]},{"content":"You can select cards that have been configured in the peripheral simulator by using the left arrow (<bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph><ept id=\"p1\">**</ept>) and right arrow (<bpt id=\"p2\">**</bpt><ph id=\"ph2\">&amp;gt;</ph><ept id=\"p2\">**</ept>) buttons above the image of the card.","pos":[12960,13133],"source":" You can select cards that have been configured in the peripheral simulator by using the left arrow (**&lt;**) and right arrow (**&gt;**) buttons above the image of the card."},{"content":"You can edit and delete cards by using the <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Delete<ept id=\"p2\">**</ept> buttons next to the plus sign (<bpt id=\"p3\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p3\">**</ept>) button.","pos":[13134,13246],"source":" You can edit and delete cards by using the **Edit** and **Delete** buttons next to the plus sign (**+**) button."},{"pos":[13252,13259],"content":"PIN pad","linkify":"PIN pad","nodes":[{"content":"PIN pad","pos":[0,7]}]},{"content":"You can configure the PIN pad simulator to simulate an OPOS PIN pad.","pos":[13261,13329]},{"content":"When an electronic funds transfer (EFT) transaction is performed at the POS and requires PIN entry, the hardware station calls the PIN device to prompt for PIN entry.","pos":[13330,13496]},{"content":"To work, the PIN pad in the peripheral simulator requires EFT payment connector support.","pos":[13497,13585]},{"pos":[13591,13598],"content":"Printer","linkify":"Printer","nodes":[{"content":"Printer","pos":[0,7]}]},{"content":"The virtual peripheral printer just shows receipts as they are printed from the POS.","pos":[13600,13684]},{"content":"If a print operation produces multiple receipts, you can scroll through the receipts.","pos":[13685,13770]},{"pos":[13777,13803],"content":"Configure receipt printing","linkify":"Configure receipt printing","nodes":[{"content":"Configure receipt printing","pos":[0,26]}]},{"pos":[13809,13930],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>POS setup<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>POS profiles<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>Hardware profiles<ept id=\"p5\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**."},{"content":"Select the hardware profile that you created for virtual peripherals.","pos":[13935,14004]},{"pos":[14009,14052],"content":"On the <bpt id=\"p1\">**</bpt>Printer<ept id=\"p1\">**</ept> FastTab, click <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>.","source":"On the **Printer** FastTab, click **Edit**."},{"pos":[14057,14119],"content":"In the <bpt id=\"p1\">**</bpt>Receipt profile ID<ept id=\"p1\">**</ept> field, select a receipt profile.","source":"In the **Receipt profile ID** field, select a receipt profile."},{"pos":[14124,14139],"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"Click **Save**."},{"pos":[14145,14150],"content":"Scale","linkify":"Scale","nodes":[{"content":"Scale","pos":[0,5]}]},{"content":"When a scale product is added to the POS transaction, and a scale is configured, the POS retrieves the weight from the scale.","pos":[14152,14277]},{"content":"For both the virtual and physical scale, the product or weight should be specified before the product is added to the transaction.","pos":[14278,14408]},{"content":"Before you add the scale product to the transaction, go to the scale in the peripheral simulator, and use the plus sign (<bpt id=\"p1\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p1\">**</ept>) and minus sign (<bpt id=\"p2\">**</bpt>–<ept id=\"p2\">**</ept>) buttons to adjust the weight that the scale should report.","pos":[14409,14618],"source":" Before you add the scale product to the transaction, go to the scale in the peripheral simulator, and use the plus sign (**+**) and minus sign (**–**) buttons to adjust the weight that the scale should report."},{"content":"You can also enter the desired weight directly in the <bpt id=\"p1\">**</bpt>Current value<ept id=\"p1\">**</ept> field.","pos":[14619,14697],"source":" You can also enter the desired weight directly in the **Current value** field."},{"content":"You can adjust the units of weight for the scale by using the plus sign (<bpt id=\"p1\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p1\">**</ept>), <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Delete<ept id=\"p3\">**</ept> buttons.","pos":[14698,14812],"source":" You can adjust the units of weight for the scale by using the plus sign (**+**), **Edit**, and **Delete** buttons."},{"content":"In this way, units can be specified based on the products that are weighed or the locale where the scale is used.","pos":[14813,14926]},{"pos":[14933,14958],"content":"Configure a scale product","linkify":"Configure a scale product","nodes":[{"content":"Configure a scale product","pos":[0,25]}]},{"pos":[14964,15070],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>commerce<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Products and categories<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Released products by category<ept id=\"p4\">**</ept>.","source":"Go to **Retail and** **commerce** &gt; **Products and categories** &gt; **Released products by category**."},{"content":"Open the product record.","pos":[15075,15099]},{"content":"Select the product to weigh.","pos":[15104,15132]},{"pos":[15137,15220],"content":"On the <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> FastTab, set the <bpt id=\"p2\">**</bpt>Scale product<ept id=\"p2\">**</ept> option from <bpt id=\"p3\">**</bpt>No<ept id=\"p3\">**</ept> to <bpt id=\"p4\">**</bpt>Yes<ept id=\"p4\">**</ept>.","source":"On the **Retail** FastTab, set the **Scale product** option from **No** to **Yes**."},{"pos":[15227,15270],"content":"Synchronize changes to the channel database","linkify":"Synchronize changes to the channel database","nodes":[{"content":"Synchronize changes to the channel database","pos":[0,43]}]},{"pos":[15276,15356],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Retail IT<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**."},{"pos":[15361,15403],"content":"Select the <bpt id=\"p1\">**</bpt>1040<ept id=\"p1\">**</ept> distribution schedule.","source":"Select the **1040** distribution schedule."},{"pos":[15408,15460],"content":"Click <bpt id=\"p1\">**</bpt>Run now<ept id=\"p1\">**</ept> to synchronize changes to the POS.","source":"Click **Run now** to synchronize changes to the POS."},{"content":"After the data is synchronized, when a scale product is added to the POS transaction, the POS checks the scale for the weight.","pos":[15462,15588]},{"pos":[15594,15611],"content":"Signature capture","linkify":"Signature capture","nodes":[{"content":"Signature capture","pos":[0,17]}]},{"content":"The virtual signature capture device prompts the user to provide a signature on the virtual signature capture pad when the tender that is used requires a signature.","pos":[15613,15777]},{"content":"The user can accept the signature to show it at the POS.","pos":[15778,15834]},{"content":"The cashier can then accept the signature.","pos":[15835,15877]},{"content":"The signature is then saved together with the tender and is synchronized to the back office together with other transaction data.","pos":[15878,16007]},{"pos":[16014,16052],"content":"Set up a tender to require a signature","linkify":"Set up a tender to require a signature","nodes":[{"content":"Set up a tender to require a signature","pos":[0,38]}]},{"pos":[16058,16156],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channels<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail stores<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>All retail stores<ept id=\"p4\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Channels** &gt; **Retail stores** &gt; **All retail stores**."},{"content":"Select the retail store.","pos":[16161,16185]},{"pos":[16190,16205],"content":"Click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>.","source":"Click **Edit**."},{"pos":[16210,16291],"content":"Click <bpt id=\"p1\">**</bpt>Set up<ept id=\"p1\">**</ept>, and then, in the <bpt id=\"p2\">**</bpt>Set up<ept id=\"p2\">**</ept> section, click <bpt id=\"p3\">**</bpt>Payment methods<ept id=\"p3\">**</ept>.","source":"Click **Set up**, and then, in the **Set up** section, click **Payment methods**."},{"pos":[16296,16311],"content":"Click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>.","source":"Click **Edit**."},{"content":"Select the payment method that requires a signature.","pos":[16316,16368]},{"pos":[16373,16489],"content":"In the <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept> section, under <bpt id=\"p2\">**</bpt>Signature Capture<ept id=\"p2\">**</ept>, set the <bpt id=\"p3\">**</bpt>Use signature capture device<ept id=\"p3\">**</ept> option to <bpt id=\"p4\">**</bpt>Yes<ept id=\"p4\">**</ept>.","source":"In the **General** section, under **Signature Capture**, set the **Use signature capture device** option to **Yes**."},{"pos":[16494,16608],"content":"In the <bpt id=\"p1\">**</bpt>Signature capture minimum amount<ept id=\"p1\">**</ept> field, enter the minimum amount that should trigger signature capture.","source":"In the **Signature capture minimum amount** field, enter the minimum amount that should trigger signature capture."},{"pos":[16615,16658],"content":"Synchronize changes to the channel database","linkify":"Synchronize changes to the channel database","nodes":[{"content":"Synchronize changes to the channel database","pos":[0,43]}]},{"pos":[16664,16744],"content":"Go to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Retail IT<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.","source":"Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**."},{"pos":[16749,16791],"content":"Select the <bpt id=\"p1\">**</bpt>1070<ept id=\"p1\">**</ept> distribution schedule.","source":"Select the **1070** distribution schedule."},{"pos":[16796,16848],"content":"Click <bpt id=\"p1\">**</bpt>Run now<ept id=\"p1\">**</ept> to synchronize changes to the POS.","source":"Click **Run now** to synchronize changes to the POS."},{"content":"After the data is synchronized, when a tender is used that requires a signature, and the amount meets the signature threshold, the POS prompts for a signature on the virtual signature capture device.","pos":[16850,17049]},{"pos":[17054,17078],"content":"Additional configuration","linkify":"Additional configuration","nodes":[{"content":"Additional configuration","pos":[0,24]}]},{"content":"You can edit the peripheral simulator's configuration file to more appropriately address the scenarios that you're testing.","pos":[17079,17202]},{"content":"You can find the configuration file at C:<ph id=\"ph1\">\\\\</ph>Program Files (x86)<ph id=\"ph2\">\\\\</ph>Microsoft Dynamics 365<ph id=\"ph3\">\\\\</ph>70<ph id=\"ph4\">\\\\</ph>VirtualPeripherals<ph id=\"ph5\">\\\\</ph>Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config.","pos":[17203,17380],"source":" You can find the configuration file at C:\\\\Program Files (x86)\\\\Microsoft Dynamics 365\\\\70\\\\VirtualPeripherals\\\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config."},{"content":"The configuration file defines the units that are available for testing on the scale, the card types that are available for testing, and bar code types.","pos":[17381,17533]},{"content":"For example, by modifying the text values in the configuration file, you can add a new card type or unit of measure that can be selected at run time.","pos":[17534,17683]},{"content":"The new values will appear after the app is restarted.","pos":[17684,17738]},{"pos":[17743,17758],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"Activities for the peripheral simulator are logged within the peripheral simulator.","pos":[17759,17842]},{"content":"You can find the log at C:<ph id=\"ph1\">\\\\</ph>Program Files (x86)<ph id=\"ph2\">\\\\</ph>Microsoft Dynamics 365<ph id=\"ph3\">\\\\</ph>70<ph id=\"ph4\">\\\\</ph>VirtualPeripherals<ph id=\"ph5\">\\\\</ph>Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config.","pos":[17843,18005],"source":" You can find the log at C:\\\\Program Files (x86)\\\\Microsoft Dynamics 365\\\\70\\\\VirtualPeripherals\\\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config."},{"content":"The peripheral simulator also reports issues to the Windows event log, which you can access at <bpt id=\"p1\">**</bpt>Application and Services Logs<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Microsoft<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>DynamicsAX<ept id=\"p3\">**</ept>.","pos":[18006,18174],"source":" The peripheral simulator also reports issues to the Windows event log, which you can access at **Application and Services Logs** &gt; **Microsoft** &gt; **DynamicsAX**."},{"content":"If changes that you made to the hardware profile or other areas aren't evident when you use MPOS or the peripheral simulator, check the distribution scheduler jobs that you used to synchronize the data to the channel database.","pos":[18175,18401]},{"content":"If the changes were synchronized but still aren't evident at the POS, restart the POS client.","pos":[18402,18495]},{"content":"Changes to configured cash drawers aren't effective until a new shift is created.","pos":[18496,18577]},{"content":"Therefore, if you make changes to cash drawers, make sure that you always close the existing shift to test the new cash drawer setup.","pos":[18578,18711]},{"content":"Sometimes, if a manufacturer's driver is installed after the common control objects from Monroe Consulting Services, the driver can cause the common control objects to stop working correctly.","pos":[18712,18903]},{"content":"In this case, you should reinstall the common control objects.","pos":[18904,18966]},{"pos":[18968,18976],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[18987,19082],"content":"<bpt id=\"p1\">[</bpt>Retail peripherals overview<ept id=\"p1\">](http://ax.help.dynamics.com/en/wiki/retail-peripherals-overview/)</ept>","source":"[Retail peripherals overview](http://ax.help.dynamics.com/en/wiki/retail-peripherals-overview/)"}],"content":"---\n# required metadata\n\ntitle: Retail peripheral simulator\ndescription: This topic describes the peripheral simulator tool that is provided with Microsoft Dynamics 365 for Operations - Retail.\nauthor: josaw1\nmanager: AnnBe\nms.date: 2017-01-09 19 - 44 - 35\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: 41\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 266544\nms.assetid: dd5ec315-7e81-423c-90c2-9f2d42f50498\nms.search.region: global\nms.search.industry: Retail\nms.author: rubendel\nms.dyn365.ops.intro: May-16\nms.dyn365.ops.version: AX 7.0.1\n\n---\n\n# Retail peripheral simulator\n\nThis topic describes the peripheral simulator tool that is provided with Microsoft Dynamics 365 for Operations - Retail.\n\nOverview\n--------\n\nThe Microsoft Dynamics 365 for Operations - Retail peripheral simulator is a tool that helps you set up, test, and troubleshoot peripheral devices that are used in retail environments. You can use the peripheral simulator to streamline the testing of retail peripherals, and to isolate issues that are caused by incorrect setup or malfunctioning device drivers. The peripheral simulator includes a desktop program that features virtual versions of devices that Dynamics 365 for Operations - Retail supports. A section for each virtual device shows the interaction between the device and the retail point of sale (POS). You can also use it to provide input that is valid for various POS scenarios. The peripheral simulator supports interaction between the POS and the following virtual devices:\n\n-   **Printer** – The peripheral simulator can show receipts that are configured for a POS printer.\n-   **Line display** – You can configure a virtual line display to show activity on a physical line display.\n-   **Magnetic stripe reader (MSR)** – You can send simulated magnetic stripe events to the POS from the peripheral simulator.\n-   **Drawer** – You can simulate a physical cash drawer.\n-   **Drawer 2** – By setting up a second cash drawer in the peripheral simulator, you can simulate scenarios that involve a single POS register that has two active shifts.\n-   **Scanner** – The virtual bar code scanner that the peripheral simulator supports can issue bar code scan events.\n-   **Scale** – A virtual scale lets you simulate the interaction of weighed items with the POS.\n-   **Personal identification number (PIN) pad** – You can simulate PIN pad operations. **Note:** You must implement support for a physical PIN pad through the payment connector.\n-   **Signature capture** – The peripheral simulator includes a virtual signature capture device that you can set up to prompt for signatures that are required for some tenders, such as customer account payments.\n\nYou can also use the peripheral simulator to simulate keyboard wedge events that originate from a bar code scanner and MSR. The virtual peripheral simulator specifically supports Object Linking and Embedding for Retail POS (OPOS) devices.\n\n## Key scenarios\n### Troubleshooting\n\nYou can use the peripheral simulator to troubleshoot device setup. If you don't have the peripheral simulator or a second device of the same class, it can be difficult to determine where issues originate. However, when you have the peripheral simulator, you can set up virtual devices, and run the same code paths and business logic that are used for physical devices. From the perspective of the peripheral simulator, the main difference between virtual devices and physical devices is the service object, or device driver. For physical devices, the service object is provided by the device manufacturer. By contrast, for the peripheral simulator, the service objects are provided as part of the peripheral simulator. When the peripheral simulator is working correctly, if a device doesn't work correctly after the device name in the hardware profile is changed to the name of a real device, you can assume that there's an issue with the service object that the manufacturer provided.\n\n### Training\n\nYou can use the peripheral simulator to add a realistic layer to cashier training when a physical hardware setup isn't available. When the peripheral simulator is included in training scenarios, the cashier can more effectively interact with the POS by providing input such as product bar code scans and gift card swipes, and by observing which receipts are printed for a specific transaction.\n\n### Testing\n\nYou can use the peripheral simulator to test product bar codes, receipt formats, and so on, without having to deploy physical hardware in a virtual environment. Because physical hardware isn't required, and you don't have to deploy a POS client on a hardware station or a physical computer, you can more quickly test changes that are made in the back office.\n\n## Set up the peripheral simulator\n### Set up a hardware profile\n\n1.  To set up the peripheral simulator, go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**.\n2.  To create a new profile, click **New**.\n3.  Enter values in the **Profile number** and **Description** fields.\n4.  Use the following table to set up the virtual devices that must be tested. Here is an explanation of the columns in the table:\n    -   **Device** – This column gives the name of the FastTab that you expand to set up the device.\n    -   **Device type** – This column gives the value that you select in the field that is labeled with the name of the device.\n    -   **Device name** – This column gives the exact value that you enter for the device name. **Important:** The device names that are given here are required, because the hardware station uses these specific names to address the devices. If you don't use these specific names, the device won't be usable.\n\n    | Device            | Device type | Device name              |\n    |-------------------|-------------|--------------------------|\n    | Printer           | OPOS        | MockOPOSPrinter          |\n    | Line display      | OPOS        | MockOPOSLineDisplay      |\n    | MSR               | OPOS        | MockOPOSMSR              |\n    | Drawer            | OPOS        | MockOPOSDrawer1          |\n    | Drawer2           | OPOS        | MockOPOSDrawers          |\n    | Scanner           | OPOS        | MockOPOSScanner          |\n    | Scale             | OPOS        | MockOPOSScale            |\n    | PIN Pad           | OPOS        | MockOPOSPinPad           |\n    | Signature capture | OPOS        | MockOPOSSignatureCapture |\n\n**Note:** No specific setup in the hardware profile is required to simulate keyboard wedge events from the bar code scanner and MSR.\n\n### Assign the hardware profile to a register\n\n1.  After the hardware profile is created, go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **Registers**.\n2.  In the **POS registers** list, click the link in the **Register number** field for the register that should use the peripheral simulator.\n3.  Click **Edit**.\n4.  In the **Profiles** section, in the **Hardware profile** field, select the hardware profile that you created for virtual peripherals.\n5.  Click **Save**.\n\n### Synchronize changes to the channel database\n\n1.  Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**.\n2.  Select the **1090** distribution schedule.\n3.  Click **Run now** to synchronize changes to the POS.\n\nAfter the data is synchronized, the new hardware profile and changes on the register are available in the channel database.\n\n## Install the peripheral simulator\n1.  Go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**.\n2.  Click **Download**, and then click **PeripheralSimulator**. **Note:** You must turn off pop-up blockers before you can download the peripheral simulator.\n3.  After the download is completed, open the **Downloads** folder, and double-click **VirtualPeripherals.msi** to start the installer.\n4.  Install the peripheral simulator by using the default settings.\n\nIn addition to the peripheral simulator, you must install the common control objects from Monroe Consulting Services. Otherwise, the peripheral simulator won't work correctly. To download the common control objects, go to <http://monroecs.com/oposccos_current.htm>.\n\n## Using the peripheral simulator\nTo start the peripheral simulator, click **Start** on your computer, type **Retail peripheral simulator**, and then select the app when it appears in the search results. After you start the peripheral simulator, click a device name to see the supported devices. These devices will be listed as tabs on the left side of the window. To view a specific device, click the tab for that device.\n\n### Line display capabilities\n\nThe line display is the first device that is listed in the peripheral simulator. When the virtual line display is configured, it shows line items as they are scanned in the POS transaction. In addition to line items, the display shows the total that is due when a tender is selected at the POS. It also shows the balance that is due if a tender is entered but a balance is still due for the transaction. When the POS isn't being used, a message can be shown to indicate that the till is closed. You must configure the message on the **Line display** FastTab in the hardware profile.\n\n### Cash drawer capabilities\n\nThe cash drawer is the second device that is listed in the peripheral simulator. When the hardware profile is configured to use virtual cash drawers, the POS opens the cash drawer for the active shift in response to drawer operations such as tender declarations, and so that the cashier can make change or deposit cash during standard cash-and-carry transactions. The virtual cash drawers have the labels **Main drawer** and **Secondary drawer**. These labels represent Drawer and Drawer 2 in the hardware profile, respectively. When a drawer is closed, an image of a closed cash drawer is shown, and the button on the closed cash drawer is labeled **Open drawer**. If you click this button, the image is replaced with an image of an open cash drawer to indicate that the drawer is now open. The button on the open cash drawer is labeled **Close drawer**. Several operations at the POS can cause the cash drawer to open. Most operations can't proceed while the cash drawer is open. The exceptions are some end-of-day procedures. If the POS user receives an error message that states that an operation can't be performed while the cash drawer is open, the user must close the virtual or physical cash drawer to proceed. If a cash drawer is marked as **Shared** in the hardware profile, the system doesn't verify that the drawer is closed before an operation. The operation proceeds as usual, even if the cash drawer is open. This behavior supports scenarios where cash drawers are shared among sales associates, and where one associate uses a cash drawer while another associate performs unrelated tasks on his or her own POS device. Changes that are made to the cash drawer aren't evident until the current shift is closed and a new shift is opened.\n\n### MSR capabilities\n\nThe peripheral simulator provides robust support for virtual MSR operations by working in either OPOS mode or keyboard wedge mode. OPOS mode requires that the MSR be configured in the hardware profile to work as an OPOS device. Keyboard wedge mode just sends keyboard wedge data events to Microsoft Windows. Besides differences in setup, OPOS and keyboard wedge modes differ in the following ways:\n\n-   The POS client enables OPOS MSR devices for specific scenarios, such as scenarios that allow magnetic stripe data for loyalty or gift card entry.\n-   In keyboard wedge mode, the peripheral simulator sends keyboard wedge data to the field that is active when the data is sent. This behavior resembles the behavior that occurs if the data is entered by using a keyboard. To use the MSR as a keyboard wedge, the user must switch to Retail Modern POS (MPOS) to make sure that data is received in the correct field. Therefore, you can configure a delay, so that the user has time to make sure that the data will be sent to the correct field.\n\n#### Testing gift and payment card swipes\n\nThe virtual MSR that the peripheral simulator provides also lets you configure specific MSR data to test scenarios for gift and payment card swipes. To create a card, click the plus sign (**+**) button, and select the type of card. Then specify the card number or track data that should be sent to the POS, together with the expiration month and year for the card that you're defining. The value that you select in the **Type of card** field is just a label that can be mapped to a card. This label makes it easier to identify cards when they are swiped through the peripheral simulator. You can select cards that have been configured in the peripheral simulator by using the left arrow (**&lt;**) and right arrow (**&gt;**) buttons above the image of the card. You can edit and delete cards by using the **Edit** and **Delete** buttons next to the plus sign (**+**) button.\n\n### PIN pad\n\nYou can configure the PIN pad simulator to simulate an OPOS PIN pad. When an electronic funds transfer (EFT) transaction is performed at the POS and requires PIN entry, the hardware station calls the PIN device to prompt for PIN entry. To work, the PIN pad in the peripheral simulator requires EFT payment connector support.\n\n### Printer\n\nThe virtual peripheral printer just shows receipts as they are printed from the POS. If a print operation produces multiple receipts, you can scroll through the receipts.\n\n#### Configure receipt printing\n\n1.  Go to **Retail and commerce** &gt; **Channel setup** &gt; **POS setup** &gt; **POS profiles** &gt; **Hardware profiles**.\n2.  Select the hardware profile that you created for virtual peripherals.\n3.  On the **Printer** FastTab, click **Edit**.\n4.  In the **Receipt profile ID** field, select a receipt profile.\n5.  Click **Save**.\n\n### Scale\n\nWhen a scale product is added to the POS transaction, and a scale is configured, the POS retrieves the weight from the scale. For both the virtual and physical scale, the product or weight should be specified before the product is added to the transaction. Before you add the scale product to the transaction, go to the scale in the peripheral simulator, and use the plus sign (**+**) and minus sign (**–**) buttons to adjust the weight that the scale should report. You can also enter the desired weight directly in the **Current value** field. You can adjust the units of weight for the scale by using the plus sign (**+**), **Edit**, and **Delete** buttons. In this way, units can be specified based on the products that are weighed or the locale where the scale is used.\n\n#### Configure a scale product\n\n1.  Go to **Retail and** **commerce** &gt; **Products and categories** &gt; **Released products by category**.\n2.  Open the product record.\n3.  Select the product to weigh.\n4.  On the **Retail** FastTab, set the **Scale product** option from **No** to **Yes**.\n\n#### Synchronize changes to the channel database\n\n1.  Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**.\n2.  Select the **1040** distribution schedule.\n3.  Click **Run now** to synchronize changes to the POS.\n\nAfter the data is synchronized, when a scale product is added to the POS transaction, the POS checks the scale for the weight.\n\n### Signature capture\n\nThe virtual signature capture device prompts the user to provide a signature on the virtual signature capture pad when the tender that is used requires a signature. The user can accept the signature to show it at the POS. The cashier can then accept the signature. The signature is then saved together with the tender and is synchronized to the back office together with other transaction data.\n\n#### Set up a tender to require a signature\n\n1.  Go to **Retail and commerce** &gt; **Channels** &gt; **Retail stores** &gt; **All retail stores**.\n2.  Select the retail store.\n3.  Click **Edit**.\n4.  Click **Set up**, and then, in the **Set up** section, click **Payment methods**.\n5.  Click **Edit**.\n6.  Select the payment method that requires a signature.\n7.  In the **General** section, under **Signature Capture**, set the **Use signature capture device** option to **Yes**.\n8.  In the **Signature capture minimum amount** field, enter the minimum amount that should trigger signature capture.\n\n#### Synchronize changes to the channel database\n\n1.  Go to **Retail and commerce** &gt; **Retail IT** &gt; **Distribution schedule**.\n2.  Select the **1070** distribution schedule.\n3.  Click **Run now** to synchronize changes to the POS.\n\nAfter the data is synchronized, when a tender is used that requires a signature, and the amount meets the signature threshold, the POS prompts for a signature on the virtual signature capture device.\n\n## Additional configuration\nYou can edit the peripheral simulator's configuration file to more appropriately address the scenarios that you're testing. You can find the configuration file at C:\\\\Program Files (x86)\\\\Microsoft Dynamics 365\\\\70\\\\VirtualPeripherals\\\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config. The configuration file defines the units that are available for testing on the scale, the card types that are available for testing, and bar code types. For example, by modifying the text values in the configuration file, you can add a new card type or unit of measure that can be selected at run time. The new values will appear after the app is restarted.\n\n## Troubleshooting\nActivities for the peripheral simulator are logged within the peripheral simulator. You can find the log at C:\\\\Program Files (x86)\\\\Microsoft Dynamics 365\\\\70\\\\VirtualPeripherals\\\\Microsoft.Dynamics.Commerce.VirtualPeripherals.Client.exe.config. The peripheral simulator also reports issues to the Windows event log, which you can access at **Application and Services Logs** &gt; **Microsoft** &gt; **DynamicsAX**. If changes that you made to the hardware profile or other areas aren't evident when you use MPOS or the peripheral simulator, check the distribution scheduler jobs that you used to synchronize the data to the channel database. If the changes were synchronized but still aren't evident at the POS, restart the POS client. Changes to configured cash drawers aren't effective until a new shift is created. Therefore, if you make changes to cash drawers, make sure that you always close the existing shift to test the new cash drawer setup. Sometimes, if a manufacturer's driver is installed after the common control objects from Monroe Consulting Services, the driver can cause the common control objects to stop working correctly. In this case, you should reinstall the common control objects.\n\nSee also\n--------\n\n[Retail peripherals overview](http://ax.help.dynamics.com/en/wiki/retail-peripherals-overview/)\n\n"}