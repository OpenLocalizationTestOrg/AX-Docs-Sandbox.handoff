{"nodes":[{"pos":[32,65],"content":"Segmented entry control migration","needQuote":true,"needEscape":true,"nodes":[{"content":"Segmented entry control migration","pos":[0,33]}]},{"pos":[79,286],"content":"This tutorial walks you through two migration scenarios for the Segmented Entry control -  a simple scenario (for the SMAServiceOrderTable form) and a complex scenario (for the LedgerJournalTransDaily form).","needQuote":true,"needEscape":true,"nodes":[{"content":"This tutorial walks you through two migration scenarios for the Segmented Entry control -  a simple scenario (for the SMAServiceOrderTable form) and a complex scenario (for the LedgerJournalTransDaily form).","pos":[0,207]}]},{"pos":[797,830],"content":"Segmented entry control migration","linkify":"Segmented entry control migration","nodes":[{"content":"Segmented entry control migration","pos":[0,33]}]},{"content":"This tutorial walks you through two migration scenarios for the Segmented Entry control -  a simple scenario (for the SMAServiceOrderTable form) and a complex scenario (for the LedgerJournalTransDaily form).","pos":[832,1039]},{"pos":[1041,1094],"content":"Simple migration scenario – SMAServiceOrderTable form","linkify":"Simple migration scenario – SMAServiceOrderTable form","nodes":[{"content":"Simple migration scenario – SMAServiceOrderTable form","pos":[0,53]}]},{"pos":[1154,1223],"content":"Search for the <bpt id=\"p1\">**</bpt>SMAServiceOrderTable<ept id=\"p1\">**</ept> form in Application Explorer.","source":"Search for the **SMAServiceOrderTable** form in Application Explorer."},{"content":"Add the form to the current project.","pos":[1228,1264]},{"content":"Open the form in the form design view and the code editor view.","pos":[1269,1332]},{"pos":[1337,1524],"content":"In the form design view, find the Segmented Entry control (SEC), either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> tab.","source":"In the form design view, find the Segmented Entry control (SEC), either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the **File** tab."},{"content":"Select the SEC, and verify the following information:","pos":[1529,1582]},{"pos":[1591,1695],"content":"The type for the control, as specified in parenthesis next to the control, is <bpt id=\"p1\">**</bpt>SegmentedEntryControl<ept id=\"p1\">**</ept>.","source":"The type for the control, as specified in parenthesis next to the control, is **SegmentedEntryControl**."},{"content":"The <bpt id=\"p1\">**</bpt>Controller class<ept id=\"p1\">**</ept> property is set to <bpt id=\"p2\">**</bpt>DimensionDynamicAccountController<ept id=\"p2\">**</ept>.","pos":[1704,1786],"source":"The **Controller class** property is set to **DimensionDynamicAccountController**."},{"content":"This property indicates the type of controller that this instance of the SEC will use.","pos":[1787,1873]},{"content":"The type of controller, in turn, determines the behavior of the control.","pos":[1874,1946]},{"content":"Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) <ph id=\"ph1\">\\[</ph>Segmented entry control<ph id=\"ph2\">\\]</ph>” in the form source code.","pos":[1952,2093],"source":"Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) \\[Segmented entry control\\]” in the form source code."},{"content":"In the search results, ignore the first result, which points to the controller variable declaration.","pos":[2098,2198]},{"content":"You must fix this TODO last, after you've removed all references to the controller variable.","pos":[2199,2291]},{"content":"Go through each of the remaining TODO comments, as described in the following subsections.","pos":[2296,2386]},{"pos":[2392,2418],"content":"LedgerDimension data field","linkify":"LedgerDimension data field","nodes":[{"content":"LedgerDimension data field","pos":[0,26]}]},{"pos":[2420,2539],"content":"(<bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data sources<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>SMAServiceOrderLine<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Fields<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>LedgerDimension<ept id=\"p5\">**</ept> <ph id=\"ph5\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Methods<ept id=\"p6\">**</ept>)","source":"(**Form** &gt; **Data sources** &gt; **SMAServiceOrderLine** &gt; **Fields** &gt; **LedgerDimension** &gt; **Methods**)"},{"pos":[2547,2563],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[2778,2804],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[2806,2942],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[2948,2984],"content":"ExpenseCost\\_LedgerDimension control","linkify":"ExpenseCost\\_LedgerDimension control","nodes":[{"content":"ExpenseCost<ph id=\"ph1\">\\_</ph>LedgerDimension control","pos":[0,36],"source":"ExpenseCost\\_LedgerDimension control"}]},{"pos":[2986,3071],"content":"(Search for \"ExpenseCost<ph id=\"ph1\">\\_</ph>LedgerDimension\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"ExpenseCost\\_LedgerDimension\" in the search bar below the **Form** tab.)"},{"pos":[3078,3084],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[3092,3108],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[3323,3349],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[3351,3490],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't performing any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't performing any additional processing, you can delete it."},{"pos":[3497,3503],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[3511,3527],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[3921,3947],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[3949,4090],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **loadSegments()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[4097,4103],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[4111,4127],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[5082,5108],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[5110,5165]},{"content":"Therefore, leave the method as it is.","pos":[5166,5203]},{"content":"Just remove the TODO.","pos":[5204,5225]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[5226,5313],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Here is an example.","pos":[5314,5333]},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[5882,5984],"source":"Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[5985,6034],"source":" For an example, see the **CustTableLookup** form."},{"pos":[6041,6047],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[6055,6071],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[6514,6540],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[6542,6690],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **segmentValueChanged()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[6697,6703],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[6711,6727],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[7166,7192],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[7194,7331],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[7337,7369],"content":"Controller variable declarations","linkify":"Controller variable declarations","nodes":[{"content":"Controller variable declarations","pos":[0,32]}]},{"pos":[7377,7393],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"content":"Finally, go back to the first TODO, for the controller variable declaration.","pos":[7395,7471]},{"pos":[7775,7801],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"The <bpt id=\"p1\">**</bpt>dimDynamicAccountController<ept id=\"p1\">**</ept> variable is no longer used on the form.","pos":[7803,7878],"source":"The **dimDynamicAccountController** variable is no longer used on the form."},{"content":"Therefore, you can now delete it.","pos":[7879,7912]},{"pos":[7917,7974],"content":"Complex migration scenario – LedgerJournalTransDaily form","linkify":"Complex migration scenario – LedgerJournalTransDaily form","nodes":[{"content":"Complex migration scenario – LedgerJournalTransDaily form","pos":[0,57]}]},{"pos":[7979,8051],"content":"Search for the <bpt id=\"p1\">**</bpt>LedgerJournalTransDaily<ept id=\"p1\">**</ept> form in Application Explorer.","source":"Search for the **LedgerJournalTransDaily** form in Application Explorer."},{"content":"Add the form to the current project.","pos":[8056,8092]},{"content":"Open the form in the form design view and the code editor view.","pos":[8097,8160]},{"pos":[8165,8326],"content":"In the form design view, find the SEC, either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> tab.","source":"In the form design view, find the SEC, either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the **File** tab."},{"content":"Select the SEC, and verify the following information:","pos":[8331,8384]},{"pos":[8393,8497],"content":"The type for the control, as specified in parenthesis next to the control, is <bpt id=\"p1\">**</bpt>SegmentedEntryControl<ept id=\"p1\">**</ept>.","source":"The type for the control, as specified in parenthesis next to the control, is **SegmentedEntryControl**."},{"content":"The <bpt id=\"p1\">**</bpt>Controller class<ept id=\"p1\">**</ept> property is set to <bpt id=\"p2\">**</bpt>DimensionDynamicAccountController<ept id=\"p2\">**</ept>.","pos":[8506,8588],"source":"The **Controller class** property is set to **DimensionDynamicAccountController**."},{"content":"This property indicates the type of controller that this instance of the SEC will use.","pos":[8589,8675]},{"content":"The type of controller, in turn, determines the behavior of the control.","pos":[8676,8748]},{"content":"Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) <ph id=\"ph1\">\\[</ph>Segmented entry control<ph id=\"ph2\">\\]</ph>” in the form source code.","pos":[8754,8895],"source":"Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) \\[Segmented entry control\\]” in the form source code."},{"content":"In the search results, the first three results are for the controller variable declarations.","pos":[8900,8992]},{"content":"Look at the comments that accompany the TODOs, and make a note of the mapping that shows which SEC instance uses which controller instance.","pos":[8993,9132]},{"content":"You will need this mapping when you replace method calls on the controller with method calls on the control.","pos":[9133,9241]},{"content":"Here is what the controller-to-control mapping looks like:","pos":[9242,9300]},{"content":"dimAccountController","pos":[9309,9329]},{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum","pos":[9342,9372],"source":"LedgerJournalTrans\\_AccountNum"},{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum1","pos":[9385,9416],"source":"LedgerJournalTrans\\_AccountNum1"},{"content":"Group4<ph id=\"ph1\">\\_</ph>AccountNum","pos":[9429,9447],"source":"Group4\\_AccountNum"},{"content":"dimOffsetAccountController","pos":[9457,9483]},{"content":"GridOffsetAccount","pos":[9496,9513]},{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>OffsetAccount1","pos":[9526,9560],"source":"LedgerJournalTrans\\_OffsetAccount1"},{"content":"Group4<ph id=\"ph1\">\\_</ph>OffsetAccount","pos":[9573,9594],"source":"Group4\\_OffsetAccount"},{"content":"dimPaymentFeeAccountController","pos":[9604,9634]},{"content":"CustPaymJournalFee<ph id=\"ph1\">\\_</ph>CustAccount","pos":[9647,9678],"source":"CustPaymJournalFee\\_CustAccount"},{"content":"You will fix these three TODO comments at the end, after you've removed all references to the controller variables.","pos":[9684,9799]},{"content":"Go through each of the remaining TODO comments, as described in the following subsections.","pos":[9804,9894]},{"pos":[9900,9926],"content":"LedgerDimension data field","linkify":"LedgerDimension data field","nodes":[{"content":"LedgerDimension data field","pos":[0,26]}]},{"pos":[9928,10046],"content":"(<bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data sources<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>LedgerJournalTrans<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Fields<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>LedgerDimension<ept id=\"p5\">**</ept> <ph id=\"ph5\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Methods<ept id=\"p6\">**</ept>)","source":"(**Form** &gt; **Data sources** &gt; **LedgerJournalTrans** &gt; **Fields** &gt; **LedgerDimension** &gt; **Methods**)"},{"pos":[10054,10070],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[10390,10416],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[10418,10554],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[10560,10592],"content":"OffsetLedgerDimension data field","linkify":"OffsetLedgerDimension data field","nodes":[{"content":"OffsetLedgerDimension data field","pos":[0,32]}]},{"pos":[10594,10718],"content":"(<bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Data sources<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>LedgerJournalTrans<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Fields<ept id=\"p4\">**</ept> <ph id=\"ph4\">&amp;gt;</ph> <bpt id=\"p5\">**</bpt>OffsetLedgerDimension<ept id=\"p5\">**</ept> <ph id=\"ph5\">&amp;gt;</ph> <bpt id=\"p6\">**</bpt>Methods<ept id=\"p6\">**</ept>)","source":"(**Form** &gt; **Data sources** &gt; **LedgerJournalTrans** &gt; **Fields** &gt; **OffsetLedgerDimension** &gt; **Methods**)"},{"pos":[10726,10742],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[10744,10803],"content":"The <bpt id=\"p1\">**</bpt>OffsetLedgerDimension<ept id=\"p1\">**</ept> field’s <bpt id=\"p2\">**</bpt>jumpRef()<ept id=\"p2\">**</ept> method:","source":"The **OffsetLedgerDimension** field’s **jumpRef()** method:"},{"pos":[11101,11127],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[11129,11265],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[11271,11309],"content":"LedgerJournalTrans\\_AccountNum control","linkify":"LedgerJournalTrans\\_AccountNum control","nodes":[{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum control","pos":[0,38],"source":"LedgerJournalTrans\\_AccountNum control"}]},{"pos":[11311,11398],"content":"(Search for \"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"LedgerJournalTrans\\_AccountNum\" in the search bar below the **Form** tab.)"},{"pos":[11405,11411],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[11419,11435],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[11739,11765],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[11767,11903],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[11910,11916],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[11924,11940],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[13580,13606],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[13612,13647],"content":"Update the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method.","source":"Update the **initLedger()** method."},{"content":"Update the code in the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active()<ept id=\"p2\">**</ept> method.","pos":[14299,14379],"source":"Update the code in the **LedgerJournalTrans** data source’s **active()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>getValue()<ept id=\"p2\">**</ept> method should be called only if the account type is set to <bpt id=\"p3\">**</bpt>Ledger<ept id=\"p3\">**</ept>.","pos":[14380,14479],"source":"**Note:** The **getValue()** method should be called only if the account type is set to **Ledger**."},{"content":"Otherwise, a call to this method will cause an invalid function call.","pos":[14480,14549]},{"pos":[15763,15882],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>CurrencyCode<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **CurrencyCode** field."},{"pos":[16133,16247],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>Company<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **Company** field."},{"pos":[16609,16725],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>TransDate<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field."},{"pos":[16976,17013],"content":"Delete the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method.","source":"Delete the **loadSegments()** method."},{"pos":[17020,17026],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[17034,17050],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[17876,17902],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[17904,17959]},{"content":"Therefore, leave the method as it is.","pos":[17960,17997]},{"content":"Just remove the TODO.","pos":[17998,18019]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[18020,18107],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[18108,18210],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[18211,18260],"source":" For an example, see the **CustTableLookup** form."},{"pos":[18267,18273],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[18281,18297],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[19222,19248],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[19254,19346],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[20359,20403],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onPrimaryAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[20404,20618],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[20619,20734]},{"content":"This method is used by more than 50 callers.","pos":[20735,20779]},{"content":"Therefore, you would also have to update all those calls.","pos":[20780,20837]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[20838,20905]},{"pos":[20912,20918],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[20926,20942],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[21383,21409],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[21411,21548],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[21554,21579],"content":"GridOffsetAccount control","linkify":"GridOffsetAccount control","nodes":[{"content":"GridOffsetAccount control","pos":[0,25]}]},{"pos":[21581,21655],"content":"(Search for \"GridOffsetAccount\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"GridOffsetAccount\" in the search bar below the **Form** tab.)"},{"pos":[21662,21668],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[21676,21692],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[22211,22237],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[22243,22356],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method, after the code that updates the ledgerJournalTable buffer.","source":"Add the following code to the **initLedger()** method, after the code that updates the ledgerJournalTable buffer."},{"pos":[23199,23232],"content":"Delete the <bpt id=\"p1\">**</bpt>gotFocus()<ept id=\"p1\">**</ept> method.","source":"Delete the **gotFocus()** method."},{"pos":[23239,23245],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[23253,23269],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[23567,23593],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[23595,23731],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[23738,23744],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[23752,23768],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[25823,25849],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"Update the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method.","pos":[25855,25890],"source":"Update the **initLedger()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>getValue()<ept id=\"p2\">**</ept> method should be called only if the account type is set to <bpt id=\"p3\">**</bpt>Ledger<ept id=\"p3\">**</ept>.","pos":[25891,25990],"source":"**Note:** The **getValue()** method should be called only if the account type is set to **Ledger**."},{"content":"Otherwise, a call to this method will cause an invalid function call.","pos":[25991,26060]},{"content":"Update the code in the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active()<ept id=\"p2\">**</ept> method.","pos":[27441,27521],"source":"Update the code in the **LedgerJournalTrans** data source’s **active()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>getValue()<ept id=\"p2\">**</ept> method should be called only if the account type is set to <bpt id=\"p3\">**</bpt>Ledger<ept id=\"p3\">**</ept>.","pos":[27522,27621],"source":"**Note:** The **getValue()** method should be called only if the account type is set to **Ledger**."},{"content":"Otherwise, a call to this method will cause an invalid function call.","pos":[27622,27691]},{"pos":[29103,29222],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>CurrencyCode<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **CurrencyCode** field."},{"pos":[29467,29587],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>OffsetCompany<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetCompany** field."},{"pos":[29856,29972],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>TransDate<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field."},{"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>OffsetAccountType<ept id=\"p3\">**</ept> field.","pos":[30217,30341],"source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>getValue()<ept id=\"p2\">**</ept> method should be called only if the account type is set to <bpt id=\"p3\">**</bpt>Ledger<ept id=\"p3\">**</ept>.","pos":[30342,30441],"source":"**Note:** The **getValue()** method should be called only if the account type is set to **Ledger**."},{"content":"Otherwise, a call to this method cause an invalid function call.","pos":[30442,30506]},{"pos":[31145,31182],"content":"Delete the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method.","source":"Delete the **loadSegments()** method."},{"pos":[31189,31195],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[31203,31219],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[31957,31983],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[31985,32040]},{"content":"Therefore, keep the method, but replace the controller with the control instance.","pos":[32041,32122]},{"content":"In this case, because the method is overridden on the <bpt id=\"p1\">**</bpt>GridOffsetAccount<ept id=\"p1\">**</ept> control, even though <bpt id=\"p2\">**</bpt>dimOffsetAccountController<ept id=\"p2\">**</ept> was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance.","pos":[32123,32439],"source":" In this case, because the method is overridden on the **GridOffsetAccount** control, even though **dimOffsetAccountController** was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance."},{"content":"Therefore, the code will look like this.","pos":[32440,32480]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[33025,33112],"source":"To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[33113,33215],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[33216,33265],"source":" For an example, see the **CustTableLookup** form."},{"pos":[33272,33278],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[33286,33302],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[33908,33934],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[33940,34032],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[34509,34553],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onOffsetAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[34554,34767],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[34768,34883]},{"content":"This method is used by more than 50 callers.","pos":[34884,34928]},{"content":"Therefore, you would also have to update all those calls.","pos":[34929,34986]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[34987,35054]},{"pos":[35061,35067],"content":"Step 6","linkify":"Step 6","nodes":[{"content":"Step 6","pos":[0,6]}]},{"pos":[35075,35091],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[35538,35564],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[35566,35703],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[35709,35740],"content":"LedgerJournalTrans\\_AccountNum1","linkify":"LedgerJournalTrans\\_AccountNum1","nodes":[{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum1","pos":[0,31],"source":"LedgerJournalTrans\\_AccountNum1"}]},{"pos":[35742,35830],"content":"(Search for \"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum1\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"LedgerJournalTrans\\_AccountNum1\" in the search bar below the **Form** tab.)"},{"pos":[35837,35843],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[35851,35867],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[36171,36197],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[36199,36335],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[36342,36348],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[36356,36372],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[38012,38038],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"The steps for migrating this method are the same as the steps for migrating the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum.loadSegments()<ept id=\"p1\">**</ept> method.","pos":[38040,38177],"source":"The steps for migrating this method are the same as the steps for migrating the **LedgerJournalTrans\\_AccountNum.loadSegments()** method."},{"content":"Therefore, no additional steps are required.","pos":[38178,38222]},{"content":"Delete this method.","pos":[38223,38242]},{"pos":[38249,38255],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[38263,38279],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[38603,38629],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[38631,38686]},{"content":"Therefore, leave the method as it is.","pos":[38687,38724]},{"content":"Just remove the TODO.","pos":[38725,38746]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[38747,38834],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup is overridden.","pos":[38835,38932],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[38933,38982],"source":" For an example, see the **CustTableLookup** form."},{"pos":[38989,38995],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[39003,39019],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[39602,39628],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[39634,39726],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[40206,40250],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onPrimaryAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[40251,40465],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[40466,40581]},{"content":"This method is used by more than 50 callers.","pos":[40582,40626]},{"content":"Therefore, you would also have to update all of those calls.","pos":[40627,40687]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[40688,40755]},{"pos":[40762,40768],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[40776,40792],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[41224,41250],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[41252,41389],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[41395,41429],"content":"LedgerJournalTrans\\_OffsetAccount1","linkify":"LedgerJournalTrans\\_OffsetAccount1","nodes":[{"content":"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>OffsetAccount1","pos":[0,34],"source":"LedgerJournalTrans\\_OffsetAccount1"}]},{"pos":[41431,41522],"content":"(Search for \"LedgerJournalTrans<ph id=\"ph1\">\\_</ph>OffsetAccount1\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"LedgerJournalTrans\\_OffsetAccount1\" in the search bar below the **Form** tab.)"},{"pos":[41529,41535],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[41543,41559],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[41857,41883],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[41885,42021],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[42028,42034],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[42042,42058],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[44112,44138],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"The migration steps for the <bpt id=\"p1\">**</bpt>GridOffsetAccount.loadSegments()<ept id=\"p1\">**</ept> method already made most of the changes that are required for this method.","pos":[44140,44279],"source":"The migration steps for the **GridOffsetAccount.loadSegments()** method already made most of the changes that are required for this method."},{"content":"However, you must still make the following changes.","pos":[44280,44331]},{"pos":[44337,44418],"content":"Add a line of code to the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active<ept id=\"p2\">**</ept> method.","source":"Add a line of code to the **LedgerJournalTrans** data source’s **active** method."},{"pos":[45182,45304],"content":"Make the same change in the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>OffsetAccountType<ept id=\"p3\">**</ept> field.","source":"Make the same change in the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field."},{"pos":[46055,46107],"content":"Make the same change in the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method.","source":"Make the same change in the **initLedger()** method."},{"pos":[46859,46896],"content":"Delete the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method.","source":"Delete the **loadSegments()** method."},{"pos":[46903,46909],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[46917,46933],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[47687,47713],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[47715,47770]},{"content":"Therefore, keep the method, but replace the controller with the control instance.","pos":[47771,47852]},{"content":"In this case, because the method is overridden on the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ph id=\"ph1\">\\_</ph>OffsetAccount1<ept id=\"p1\">**</ept> control, even though <bpt id=\"p2\">**</bpt>dimOffsetAccountController<ept id=\"p2\">**</ept> was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance.","pos":[47853,48186],"source":" In this case, because the method is overridden on the **LedgerJournalTrans\\_OffsetAccount1** control, even though **dimOffsetAccountController** was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance."},{"content":"Therefore, the code will look like this.","pos":[48187,48227]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[48820,48907],"source":"To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[48908,49010],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[49011,49060],"source":" For an example, see the **CustTableLookup** form."},{"pos":[49067,49073],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[49081,49097],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[49712,49738],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[49744,49836],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[50330,50374],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onOffsetAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[50375,50588],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[50589,50704]},{"content":"This method is used by more than 50 callers.","pos":[50705,50749]},{"content":"Therefore, you would also have to update all those calls.","pos":[50750,50807]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[50808,50875]},{"pos":[50882,50888],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[50896,50912],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[51359,51385],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[51387,51524],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[51530,51561],"content":"CustPaymJournalFee\\_CustAccount","linkify":"CustPaymJournalFee\\_CustAccount","nodes":[{"content":"CustPaymJournalFee<ph id=\"ph1\">\\_</ph>CustAccount","pos":[0,31],"source":"CustPaymJournalFee\\_CustAccount"}]},{"pos":[51563,51651],"content":"(Search for \"CustPaymJournalFee<ph id=\"ph1\">\\_</ph>CustAccount\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"CustPaymJournalFee\\_CustAccount\" in the search bar below the **Form** tab.)"},{"pos":[51658,51664],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[51672,51688],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[51906,51932],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[51934,52070],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[52077,52083],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[52091,52107],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[52947,52973],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[52979,53014],"content":"Update the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method.","source":"Update the **initLedger()** method."},{"content":"Add the following code to the <bpt id=\"p1\">**</bpt>CustVendPaymJournalFee<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active()<ept id=\"p2\">**</ept> method.","pos":[53463,53554],"source":"Add the following code to the **CustVendPaymJournalFee** data source’s **active()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The method doesn't exist, so you must override it.","pos":[53555,53615],"source":"**Note:** The method doesn't exist, so you must override it."},{"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>CustVendPaymJournalFee<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>FeeCurrency<ept id=\"p3\">**</ept> field.","pos":[53711,53833],"source":"Add the following code to the **modified()** method of the **CustVendPaymJournalFee** data source’s **FeeCurrency** field."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The method doesn't exist, so you must override it.","pos":[53834,53894],"source":"**Note:** The method doesn't exist, so you must override it."},{"pos":[53990,54077],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active()<ept id=\"p2\">**</ept> method.","source":"Add the following code to the **LedgerJournalTrans** data source’s **active()** method."},{"pos":[54170,54286],"content":"Add the following code to the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>TransDate<ept id=\"p3\">**</ept> field.","source":"Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field."},{"pos":[54379,54416],"content":"Delete the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method.","source":"Delete the **loadSegments()** method."},{"pos":[54423,54429],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[54437,54453],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[55496,55522],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[55524,55579]},{"content":"Therefore, leave the method as it is.","pos":[55580,55617]},{"content":"Just remove the TODO.","pos":[55618,55639]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[55640,55727],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Here is an example.","pos":[55728,55747]},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[56295,56397],"source":"Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[56398,56447],"source":" For an example, see the **CustTableLookup** form."},{"pos":[56454,56460],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[56468,56484],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[57116,57142],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[57148,57240],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[57740,57784],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onPrimaryAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[57785,57999],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[58000,58115]},{"content":"This method is used by more than 50 callers.","pos":[58116,58160]},{"content":"Therefore, you would also have to update all those calls.","pos":[58161,58218]},{"content":"Alternatively, you can add a new method can that follows this guidance.","pos":[58219,58290]},{"pos":[58297,58303],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[58311,58327],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[58778,58804],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[58806,58943],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[58949,58967],"content":"Group4\\_AccountNum","linkify":"Group4\\_AccountNum","nodes":[{"content":"Group4<ph id=\"ph1\">\\_</ph>AccountNum","pos":[0,18],"source":"Group4\\_AccountNum"}]},{"pos":[58969,59044],"content":"(Search for \"Group4<ph id=\"ph1\">\\_</ph>AccountNum\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"Group4\\_AccountNum\" in the search bar below the **Form** tab.)"},{"pos":[59051,59057],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[59065,59081],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[59385,59411],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[59413,59549],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[59556,59562],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[59570,59586],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[61226,61252],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"The steps for migrating this method are the same as the steps for migrating the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ph id=\"ph1\">\\_</ph>AccountNum.loadSegments()<ept id=\"p1\">**</ept> method.","pos":[61254,61391],"source":"The steps for migrating this method are the same as the steps for migrating the **LedgerJournalTrans\\_AccountNum.loadSegments()** method."},{"content":"Therefore, no additional steps are required.","pos":[61392,61436]},{"content":"Delete this method.","pos":[61437,61456]},{"pos":[61463,61469],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[61477,61493],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[61804,61830],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[61832,61887]},{"content":"Therefore, leave the method as it is.","pos":[61888,61925]},{"content":"Just remove the TODO.","pos":[61926,61947]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[61948,62035],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[62036,62138],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[62139,62188],"source":" For an example, see the **CustTableLookup** form."},{"pos":[62195,62201],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[62209,62225],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[62817,62843],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[62849,62941],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[63550,63594],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onPrimaryAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[63595,63809],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[63810,63925]},{"content":"This method is used by more than 50 callers.","pos":[63926,63970]},{"content":"Therefore, you would also have to update all those calls.","pos":[63971,64028]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[64029,64096]},{"pos":[64103,64109],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[64117,64133],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[64574,64600],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[64602,64739],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[64745,64766],"content":"Group4\\_OffsetAccount","linkify":"Group4\\_OffsetAccount","nodes":[{"content":"Group4<ph id=\"ph1\">\\_</ph>OffsetAccount","pos":[0,21],"source":"Group4\\_OffsetAccount"}]},{"pos":[64768,64846],"content":"(Search for \"Group4<ph id=\"ph1\">\\_</ph>OffsetAccount\" in the search bar below the <bpt id=\"p1\">**</bpt>Form<ept id=\"p1\">**</ept> tab.)","source":"(Search for \"Group4\\_OffsetAccount\" in the search bar below the **Form** tab.)"},{"pos":[64853,64859],"content":"Step 1","linkify":"Step 1","nodes":[{"content":"Step 1","pos":[0,6]}]},{"pos":[64867,64883],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[65411,65437],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[65443,65549],"content":"Update the code in the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method, after the code that updates the ledgerJournalTable buffer.","source":"Update the code in the **initLedger()** method, after the code that updates the ledgerJournalTable buffer."},{"pos":[66032,66065],"content":"Delete the <bpt id=\"p1\">**</bpt>gotFocus()<ept id=\"p1\">**</ept> method.","source":"Delete the **gotFocus()** method."},{"pos":[66072,66078],"content":"Step 2","linkify":"Step 2","nodes":[{"content":"Step 2","pos":[0,6]}]},{"pos":[66086,66102],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[66400,66426],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[66428,66564],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>jumpRef()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[66571,66577],"content":"Step 3","linkify":"Step 3","nodes":[{"content":"Step 3","pos":[0,6]}]},{"pos":[66585,66601],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[68664,68690],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"The migration steps for the <bpt id=\"p1\">**</bpt>GridOffsetAccount.loadSegments()<ept id=\"p1\">**</ept> method already made most of the changes that are required for this method.","pos":[68692,68831],"source":"The migration steps for the **GridOffsetAccount.loadSegments()** method already made most of the changes that are required for this method."},{"content":"However, you must still make the following changes.","pos":[68832,68883]},{"pos":[68889,68967],"content":"Update the code in the <bpt id=\"p1\">**</bpt>LedgerJournalTrans<ept id=\"p1\">**</ept> data source’s <bpt id=\"p2\">**</bpt>active<ept id=\"p2\">**</ept> method.","source":"Update the code in the **LedgerJournalTrans** data source’s **active** method."},{"pos":[69818,69940],"content":"Make the same change in the <bpt id=\"p1\">**</bpt>modified()<ept id=\"p1\">**</ept> method of the <bpt id=\"p2\">**</bpt>LedgerJournalTrans<ept id=\"p2\">**</ept> data source’s <bpt id=\"p3\">**</bpt>OffsetAccountType<ept id=\"p3\">**</ept> field.","source":"Make the same change in the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field."},{"pos":[70790,70842],"content":"Make the same change in the <bpt id=\"p1\">**</bpt>initLedger()<ept id=\"p1\">**</ept> method.","source":"Make the same change in the **initLedger()** method."},{"pos":[71692,71729],"content":"Delete the <bpt id=\"p1\">**</bpt>loadSegments()<ept id=\"p1\">**</ept> method.","source":"Delete the **loadSegments()** method."},{"pos":[71736,71742],"content":"Step 4","linkify":"Step 4","nodes":[{"content":"Step 4","pos":[0,6]}]},{"pos":[71750,71766],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[72086,72112],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"content":"This method implements a custom lookup for the control.","pos":[72114,72169]},{"content":"Therefore, leave the method as it is.","pos":[72170,72207]},{"content":"Just remove the TODO.","pos":[72208,72229]},{"content":"To hook up custom lookups, you must override the SEC’s <bpt id=\"p1\">**</bpt>checkUseCustomLookup<ept id=\"p1\">**</ept> method.","pos":[72230,72317],"source":" To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method."},{"content":"Additionally, make sure that the <bpt id=\"p1\">**</bpt>closeSelectRecord<ept id=\"p1\">**</ept> method on the custom lookup form is overridden.","pos":[72318,72420],"source":" Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden."},{"content":"For an example, see the <bpt id=\"p1\">**</bpt>CustTableLookup<ept id=\"p1\">**</ept> form.","pos":[72421,72470],"source":" For an example, see the **CustTableLookup** form."},{"pos":[72477,72483],"content":"Step 5","linkify":"Step 5","nodes":[{"content":"Step 5","pos":[0,6]}]},{"pos":[72491,72507],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[73114,73140],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[73146,73238],"content":"Override the <bpt id=\"p1\">**</bpt>onSegmentChanged()<ept id=\"p1\">**</ept> method on the control, and add the following code to it.","source":"Override the **onSegmentChanged()** method on the control, and add the following code to it."},{"content":"Delete the <bpt id=\"p1\">**</bpt>segmentValueChanged()<ept id=\"p1\">**</ept> method.","pos":[73721,73765],"source":"Delete the **segmentValueChanged()** method."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The preceding code for the <bpt id=\"p2\">**</bpt>onSegmentChanged()<ept id=\"p2\">**</ept> method will not compile, because the <bpt id=\"p3\">**</bpt>onOffsetAccountSegmentChanged()<ept id=\"p3\">**</ept> method expects a controller object, but this code passes an instance of the SEC.","pos":[73766,73979],"source":"**Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC."},{"content":"To call methods on the control instance, you must change the method’s signature and its implementation accordingly.","pos":[73980,74095]},{"content":"This method is used by more than 50 callers.","pos":[74096,74140]},{"content":"Therefore, you would also have to update all those calls.","pos":[74141,74198]},{"content":"Alternatively, you can add a new method that follows this guidance.","pos":[74199,74266]},{"pos":[74273,74279],"content":"Step 6","linkify":"Step 6","nodes":[{"content":"Step 6","pos":[0,6]}]},{"pos":[74287,74303],"content":"Dynamics AX 2012","linkify":"Dynamics AX 2012","nodes":[{"content":"Dynamics AX 2012","pos":[0,16]}]},{"pos":[74750,74776],"content":"Dynamics AX for Operations","linkify":"Dynamics AX for Operations","nodes":[{"content":"Dynamics AX for Operations","pos":[0,26]}]},{"pos":[74778,74915],"content":"Because this method only calls the <bpt id=\"p1\">**</bpt>validate()<ept id=\"p1\">**</ept> method on the control and doesn't perform any additional processing, you can delete it.","source":"Because this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it."},{"pos":[74917,74925],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[74936,75019],"content":"<bpt id=\"p1\">[</bpt>Segmented Entry control dialog support<ept id=\"p1\">](https://ax.help.dynamics.com/en/?p=145221)</ept>","source":"[Segmented Entry control dialog support](https://ax.help.dynamics.com/en/?p=145221)"},{"pos":[75021,75112],"content":"<bpt id=\"p1\">[</bpt>Segmented Entry control Metadata Specification<ept id=\"p1\">](https://ax.help.dynamics.com/en/?p=145441)</ept>","source":"[Segmented Entry control Metadata Specification](https://ax.help.dynamics.com/en/?p=145441)"},{"pos":[75114,75208],"content":"<bpt id=\"p1\">[</bpt>Segmented Entry control Parm method Specification<ept id=\"p1\">](https://ax.help.dynamics.com/en/?p=154321)</ept>","source":"[Segmented Entry control Parm method Specification](https://ax.help.dynamics.com/en/?p=154321)"},{"pos":[75210,75299],"content":"<bpt id=\"p1\">[</bpt>Segmented Entry control - Migration guidance<ept id=\"p1\">](https://ax.help.dynamics.com/en/?p=121441)</ept>","source":"[Segmented Entry control - Migration guidance](https://ax.help.dynamics.com/en/?p=121441)"}],"content":"---\n# required metadata\n\ntitle: Segmented entry control migration\ndescription: This tutorial walks you through two migration scenarios for the Segmented Entry control -  a simple scenario (for the SMAServiceOrderTable form) and a complex scenario (for the LedgerJournalTransDaily form).\nauthor: twheeloc\nmanager: AnnBe\nms.date: 2015-12-12 20 - 45 - 15\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 25611\nms.assetid: 82e953d0-878e-4a3f-a91b-7375017a2810\nms.search.region: Global\n# ms.search.industry: \nms.author: ghenriks\nms.dyn365.ops.intro: 01-02-2016\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Segmented entry control migration\n\nThis tutorial walks you through two migration scenarios for the Segmented Entry control -  a simple scenario (for the SMAServiceOrderTable form) and a complex scenario (for the LedgerJournalTransDaily form).\n\nSimple migration scenario – SMAServiceOrderTable form\n-----------------------------------------------------\n\n1.  Search for the **SMAServiceOrderTable** form in Application Explorer.\n2.  Add the form to the current project.\n3.  Open the form in the form design view and the code editor view.\n4.  In the form design view, find the Segmented Entry control (SEC), either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the **File** tab.\n5.  Select the SEC, and verify the following information:\n    -   The type for the control, as specified in parenthesis next to the control, is **SegmentedEntryControl**.\n    -   The **Controller class** property is set to **DimensionDynamicAccountController**. This property indicates the type of controller that this instance of the SEC will use. The type of controller, in turn, determines the behavior of the control.\n\n6.  Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) \\[Segmented entry control\\]” in the form source code.\n7.  In the search results, ignore the first result, which points to the controller variable declaration. You must fix this TODO last, after you've removed all references to the controller variable.\n8.  Go through each of the remaining TODO comments, as described in the following subsections.\n\n### LedgerDimension data field\n\n(**Form** &gt; **Data sources** &gt; **SMAServiceOrderLine** &gt; **Fields** &gt; **LedgerDimension** &gt; **Methods**)\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        ExpenseCost_LedgerDimension.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### ExpenseCost\\_LedgerDimension control\n\n(Search for \"ExpenseCost\\_LedgerDimension\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        ExpenseCost_LedgerDimension.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't performing any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimDynamicAccountController.loadSegments();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **loadSegments()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        switch (smaServiceOrderLine.OffsetAccountTypeExpense)\n        {\n            case LedgerJournalACType::Bank:\n                BankAccountTable::lookupBankAccount(this);\n                break;\n            case LedgerJournalACType::Cust:\n                CustTable::lookupCustomer(this);\n                break;\n            case LedgerJournalACType::FixedAssets:\n                AssetTable::lookupAccountNum(this);\n                break;\n            case LedgerJournalACType::Project:\n                ProjTable::lookupProjId(this, smaServiceOrderLine);\n                break;\n            case LedgerJournalACType::Vend:\n                VendTable::lookupVendor(this);\n                break;\n            default:\n                super();\n                break;\n            }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Here is an example.\n\n    public boolean checkUseCustomLookup(int _accountTypeEnumValue, int _secondaryAccountTypeEnumValue)\n    {\n        boolean ret;\n        switch(_accountTypeEnumValue)\n        {\n            case LedgerJournalACType::Bank:\n            case LedgerJournalACType::Cust:\n            case LedgerJournalACType::FixedAssets:\n            case LedgerJournalACType::Project:\n            case LedgerJournalACType::Vend:\n                ret = true;\n                break;\n            default:\n                ret = false;\n        }\n        return ret;\n     }\n\nAdditionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimDynamicAccountController.segmentValueChanged(_e);\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **segmentValueChanged()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimDynamicAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### Controller variable declarations\n\n##### Dynamics AX 2012\n\nFinally, go back to the first TODO, for the controller variable declaration.\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n    /* 'dimDynamicAccountController' controller object is used with 'ExpenseCost_LedgerDimension' segmented entry controls.*/\n    DimensionDynamicAccountController dimDynamicAccountController;\n\n##### Dynamics AX for Operations\n\nThe **dimDynamicAccountController** variable is no longer used on the form. Therefore, you can now delete it.\n\n## Complex migration scenario – LedgerJournalTransDaily form\n1.  Search for the **LedgerJournalTransDaily** form in Application Explorer.\n2.  Add the form to the current project.\n3.  Open the form in the form design view and the code editor view.\n4.  In the form design view, find the SEC, either by manually walking the control tree or by searching for “SegmentedEntry” in the search bar below the **File** tab.\n5.  Select the SEC, and verify the following information:\n    -   The type for the control, as specified in parenthesis next to the control, is **SegmentedEntryControl**.\n    -   The **Controller class** property is set to **DimensionDynamicAccountController**. This property indicates the type of controller that this instance of the SEC will use. The type of controller, in turn, determines the behavior of the control.\n\n6.  Switch to the code editor view, and search for all occurrences of “TODO: (Code Upgrade) \\[Segmented entry control\\]” in the form source code.\n7.  In the search results, the first three results are for the controller variable declarations. Look at the comments that accompany the TODOs, and make a note of the mapping that shows which SEC instance uses which controller instance. You will need this mapping when you replace method calls on the controller with method calls on the control. Here is what the controller-to-control mapping looks like:\n    1.  dimAccountController\n        1.  LedgerJournalTrans\\_AccountNum\n        2.  LedgerJournalTrans\\_AccountNum1\n        3.  Group4\\_AccountNum\n\n    2.  dimOffsetAccountController\n        1.  GridOffsetAccount\n        2.  LedgerJournalTrans\\_OffsetAccount1\n        3.  Group4\\_OffsetAccount\n\n    3.  dimPaymentFeeAccountController\n        1.  CustPaymJournalFee\\_CustAccount\n\n    You will fix these three TODO comments at the end, after you've removed all references to the controller variables.\n8.  Go through each of the remaining TODO comments, as described in the following subsections.\n\n### LedgerDimension data field\n\n(**Form** &gt; **Data sources** &gt; **LedgerJournalTrans** &gt; **Fields** &gt; **LedgerDimension** &gt; **Methods**)\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    // </GEEPL>\n    public void jumpRef()\n    {\n        LedgerJournalTrans_AccountNum.jumpRef();\n        LedgerJournalTrans_AccountNum1.jumpRef();\n        Group4_AccountNum.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### OffsetLedgerDimension data field\n\n(**Form** &gt; **Data sources** &gt; **LedgerJournalTrans** &gt; **Fields** &gt; **OffsetLedgerDimension** &gt; **Methods**)\n\n##### Dynamics AX 2012\n\nThe **OffsetLedgerDimension** field’s **jumpRef()** method:\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        GridOffsetAccount.jumpRef();\n        LedgerJournalTrans_OffsetAccount1.jumpRef();\n        Group4_OffsetAccount.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### LedgerJournalTrans\\_AccountNum control\n\n(Search for \"LedgerJournalTrans\\_AccountNum\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        LedgerJournalTrans_AccountNum.jumpRef();\n        LedgerJournalTrans_AccountNum1.jumpRef();\n        Group4_AccountNum.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum1.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        Group4_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_AccountNum1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.loadSegments();\n        currentMainAccountId = dimAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n    }\n\n##### Dynamics AX for Operations\n\n1.  Update the **initLedger()** method.\n\n        void initLedger()\n        {\n            TransDate   dateFrom   = dateNull();\n            TransDate   dateTo     = systemDateGet();\n            if (element.args().dataset() == tableNum(LedgerJournalTable))\n            {\n                ledgerJournalTable = element.args().record();\n                journalNum         = ledgerJournalTable.JournalNum;\n                LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n                LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName);\n                Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        . . .\n\n2.  Update the code in the **LedgerJournalTrans** data source’s **active()** method. **Note:** The **getValue()** method should be called only if the account type is set to **Ledger**. Otherwise, a call to this method will cause an invalid function call.\n\n        . . .\n        LedgerJournalTrans_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum1.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        Group4_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_AccountNum1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        if (ledgerJournalTrans.AccountType == LedgerJournalACType::Ledger)\n        {\n            currentMainAccountId = LedgerJournalTrans_AccountNum.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentMainAccountId = 0;\n        }\n        return ret;\n\n3.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **CurrencyCode** field.\n\n        LedgerJournalTrans_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n\n4.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **Company** field.\n\n        LedgerJournalTrans_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum1.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        Group4_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n\n5.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field.\n\n        LedgerJournalTrans_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_AccountNum1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n\n6.  Delete the **loadSegments()** method.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        // Polish sale disposal may require to filter asset that are not\n        // marked for sale. lookupAccountNum method needs the ledgerJournalTrans_Asset.TransType\n        // value to filter appropriately the assets. Thus, ledgerJournalTrans_Asset is\n        // passed to accountNumLookup metho jumpRef d.\n        // <GEEPL>\n        if (!ledgerJournalEngine.accountNumLookup(ledgerJournalTrans_AccountNum,\n            ledgerJournalTrans,\n            ledgerJournalTrans.OffsetAccountType,\n            ledgerJournalTrans.parmOffsetAccount(),\n            ledgerJournalTrans_Asset))\n        {\n            super();\n        }\n        // </GEEPL>\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        // <GIN>\n        if (TaxWithholdParameters_IN::checkTaxParameters()\n            && ledgerJournalTrans.TaxWithholdCode_IN != '')\n        {\n            if (Box::okCancel(\"@GLS222698\",\n                DialogButton::Cancel) == DialogButton::Cancel)\n            {\n                return;\n            }\n        }\n        // </GIN>\n        super(_e);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.segmentValueChanged(_e);\n        currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimAccountController, currentMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// Event handler for the segment changed event.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that has been changed.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n\n            // <GIN>\n            if (TaxWithholdParameters_IN::checkTaxParameters()\n                && ledgerJournalTrans.TaxWithholdCode_IN != '')\n            {\n                if (Box::okCancel(\"@GLS222698\",\n                    DialogButton::Cancel) == DialogButton::Cancel)\n                {\n                    return;\n                }\n            }\n            \n            // </GIN>\n            if (_segment.parmName() == mainAccountDimAttrName)\n            {\n                previousMainAccountId = currentMainAccountId;\n            }\n            currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(LedgerJournalTrans_AccountNum, currentMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### GridOffsetAccount control\n\n(Search for \"GridOffsetAccount\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    void gotFocus()\n    {\n        super();\n        if (ledgerJournalTable.FixedOffsetAccount)\n        {\n            gridOffsetAccount.allowEdit(ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger);\n        }\n        else if (!gridOffsetAccount.allowEdit())\n        {\n            gridOffsetAccount.allowEdit(true);\n        }\n    }\n\n##### Dynamics AX for Operations\n\n1.  Add the following code to the **initLedger()** method, after the code that updates the ledgerJournalTable buffer.\n\n        . . .\n        if (element.args().dataset() == tableNum(LedgerJournalTable))\n        {\n            ledgerJournalTable = element.args().record();\n            journalNum         = ledgerJournalTable.JournalNum;\n            LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n            LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName);\n            Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n            if (ledgerJournalTable.FixedOffsetAccount)\n            {               \n                gridOffsetAccount.allowEdit(ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger);\n            }\n            else if (!gridOffsetAccount.allowEdit())\n            {\n                gridOffsetAccount.allowEdit(true);\n            }\n        . . .\n\n2.  Delete the **gotFocus()** method.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        GridOffsetAccount.jumpRef();\n        LedgerJournalTrans_OffsetAccount1.jumpRef();\n        Group4_OffsetAccount.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        GridOffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_OffsetAccount1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_OffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        GridOffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_OffsetAccount1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_OffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        GridOffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        LedgerJournalTrans_OffsetAccount1.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        Group4_OffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        GridOffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_OffsetAccount1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_OffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.loadSegments();\n        currentOffsetMainAccountId = dimOffsetAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n    }\n\n##### Dynamics AX for Operations\n\n1.  Update the **initLedger()** method. **Note:** The **getValue()** method should be called only if the account type is set to **Ledger**. Otherwise, a call to this method will cause an invalid function call.\n\n        void initLedger()\n        {\n            TransDate   dateFrom   = dateNull();\n            TransDate   dateTo     = systemDateGet();\n            if (element.args().dataset() == tableNum(LedgerJournalTable))\n            {\n                ledgerJournalTable = element.args().record();\n                journalNum         = ledgerJournalTable.JournalNum;\n                GridOffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n                LedgerJournalTrans_OffsetAccount1.parmJournalName(ledgerJournalTable.JournalName);\n                Group4_OffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n                if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n                {\n                    currentOffsetMainAccountId = GridOffsetAccount.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n                }\n                else\n                {\n                    currentOffsetMainAccountId = 0;\n                }\n\n                // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n                if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n                {\n                    GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n                }\n        . . .\n\n2.  Update the code in the **LedgerJournalTrans** data source’s **active()** method. **Note:** The **getValue()** method should be called only if the account type is set to **Ledger**. Otherwise, a call to this method will cause an invalid function call.\n\n        . . .\n        GridOffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_OffsetAccount1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_OffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        GridOffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        LedgerJournalTrans_OffsetAccount1.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        Group4_OffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        GridOffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_OffsetAccount1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_OffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue( DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        { \n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n        return ret;\n\n3.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **CurrencyCode** field.\n\n        GridOffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_OffsetAccount1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_OffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n\n4.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetCompany** field.\n\n        GridOffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        LedgerJournalTrans_OffsetAccount1.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        Group4_OffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n\n5.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field.\n\n        GridOffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_OffsetAccount1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_OffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n\n6.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field. **Note:** The **getValue()** method should be called only if the account type is set to **Ledger**. Otherwise, a call to this method cause an invalid function call.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue( DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n7.  Delete the **loadSegments()** method.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        // Find the current segment index value\n        int currentSegmentIndex = dimOffsetAccountController.parmControl().currentSegmentIndex();\n        if ((ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger &&\n            dimOffsetAccountController.getDimensionAttributeByControlIndex(currentSegmentIndex) != DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount)) ||\n            !ledgerJournalEngine.offsetAccountNumLookUp(gridOffsetAccount, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, keep the method, but replace the controller with the control instance. In this case, because the method is overridden on the **GridOffsetAccount** control, even though **dimOffsetAccountController** was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance. Therefore, the code will look like this.\n\n    public void lookup()\n    {\n        // Find the current segment index value\n        int currentSegmentIndex = GridOffsetAccount.getCurrentSegmentIndex();\n        if ((ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger && GridOffsetAccount.getDimensionAttributeByControlIndex(currentSegmentIndex) != DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount)) || !ledgerJournalEngine.offsetAccountNumLookUp(gridOffsetAccount, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\nTo hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.segmentValueChanged(_e);\n        currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(dimOffsetAccountController, currentOffsetMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// Event handler for the segment changed event.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(\n            GridOffsetAccount, currentOffsetMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 6\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimOffsetAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### LedgerJournalTrans\\_AccountNum1\n\n(Search for \"LedgerJournalTrans\\_AccountNum1\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        LedgerJournalTrans_AccountNum.jumpRef();\n        LedgerJournalTrans_AccountNum1.jumpRef();\n        Group4_AccountNum.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum1.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        Group4_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_AccountNum1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.loadSegments();\n        currentMainAccountId = dimAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n    }\n\n##### Dynamics AX for Operations\n\nThe steps for migrating this method are the same as the steps for migrating the **LedgerJournalTrans\\_AccountNum.loadSegments()** method. Therefore, no additional steps are required. Delete this method.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        if (!ledgerJournalEngine.accountNumLookup(ledgerJournalTrans_AccountNum1, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.segmentValueChanged(_e);\n        currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimAccountController, currentMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// The event handler when a segment is modified.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(\n            LedgerJournalTrans_AccountNum1, currentMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all of those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### LedgerJournalTrans\\_OffsetAccount1\n\n(Search for \"LedgerJournalTrans\\_OffsetAccount1\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        GridOffsetAccount.jumpRef();\n        LedgerJournalTrans_OffsetAccount1.jumpRef();\n        Group4_OffsetAccount.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        GridOffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_OffsetAccount1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_OffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        GridOffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_OffsetAccount1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_OffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        GridOffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        LedgerJournalTrans_OffsetAccount1.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        Group4_OffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        GridOffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_OffsetAccount1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_OffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.loadSegments();\n        currentOffsetMainAccountId = dimOffsetAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThe migration steps for the **GridOffsetAccount.loadSegments()** method already made most of the changes that are required for this method. However, you must still make the following changes.\n\n1.  Add a line of code to the **LedgerJournalTrans** data source’s **active** method.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue(\n            DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n2.  Make the same change in the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n3.  Make the same change in the **initLedger()** method.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue( DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n4.  Delete the **loadSegments()** method.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        // Find the current segment index value\n        int currentSegmentIndex = dimOffsetAccountController.parmControl().currentSegmentIndex();\n        if ((ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger &&\n            dimOffsetAccountController.getDimensionAttributeByControlIndex(currentSegmentIndex) != DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount)) ||\n            !ledgerJournalEngine.offsetAccountNumLookUp(ledgerJournalTrans_OffsetAccount1, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, keep the method, but replace the controller with the control instance. In this case, because the method is overridden on the **LedgerJournalTrans\\_OffsetAccount1** control, even though **dimOffsetAccountController** was used for three different SEC instances (based on the mapping that is shown in the TODOs on controller variable declarations), we must replace the controller with only one SEC instance. Therefore, the code will look like this.\n\n    public void lookup()\n    {\n        // Find the current segment index value\n        int currentSegmentIndex = LedgerJournalTrans_OffsetAccount1.getCurrentSegmentIndex();\n        if ((ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger && LedgerJournalTrans_OffsetAccount1.getDimensionAttributeByControlIndex(currentSegmentIndex) != DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount)) || !ledgerJournalEngine.offsetAccountNumLookUp(ledgerJournalTrans_OffsetAccount1, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\nTo hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.segmentValueChanged(_e);\n        currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(dimOffsetAccountController, currentOffsetMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// The event handler when a segment is modified.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(\n            LedgerJournalTrans_OffsetAccount1, currentOffsetMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimOffsetAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### CustPaymJournalFee\\_CustAccount\n\n(Search for \"CustPaymJournalFee\\_CustAccount\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        CustPaymJournalFee_CustAccount.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        CustPaymJournalFee_CustAccount.parmJournalName(ledgerJournalTable.JournalName);\n        CustPaymJournalFee_CustAccount.parmCurrency(custVendPaymJournalFee.FeeCurrency);\n        CustPaymJournalFee_CustAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimPaymentFeeAccountController.loadSegments();\n        currentPaymentFeeMainAccountId = dimPaymentFeeAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n    }\n\n##### Dynamics AX for Operations\n\n1.  Update the **initLedger()** method.\n\n        ledgerJournalTable = element.args().record();\n        journalNum = ledgerJournalTable.JournalNum;\n        LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName); Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName); CustPaymJournalFee_CustAccount.parmJournalName(ledgerJournalTable.JournalName);\n        . . .\n\n2.  Add the following code to the **CustVendPaymJournalFee** data source’s **active()** method. **Note:** The method doesn't exist, so you must override it.\n\n        CustPaymJournalFee_CustAccount.parmCurrency(custVendPaymJournalFee.FeeCurrency);\n\n3.  Add the following code to the **modified()** method of the **CustVendPaymJournalFee** data source’s **FeeCurrency** field. **Note:** The method doesn't exist, so you must override it.\n\n        CustPaymJournalFee_CustAccount.parmCurrency(custVendPaymJournalFee.FeeCurrency);\n\n4.  Add the following code to the **LedgerJournalTrans** data source’s **active()** method.\n\n        CustPaymJournalFee_CustAccount.parmControlDate(ledgerJournalTrans.TransDate);\n\n5.  Add the following code to the **modified()** method of the **LedgerJournalTrans** data source’s **TransDate** field.\n\n        CustPaymJournalFee_CustAccount.parmControlDate(ledgerJournalTrans.TransDate);\n\n6.  Delete the **loadSegments()** method.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        if (custVendPaymJournalFee.Module == ModuleCustVend::Cust)\n        {\n            if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Cust)\n            {\n                CustTable::lookupCustomer(this, ledgerJournalTrans.Company);\n            }\n            else if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Ledger)\n            {\n                super();\n            }\n        }\n        else if (custVendPaymJournalFee.Module == ModuleCustVend::Vend)\n        {\n            if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Vend)\n            {\n                VendTable::lookupVendor(this, ledgerJournalTrans.Company);\n            }\n            else if (custVendPaymJournalFee.LedgerJournalACType == LedgerJournalACType::Ledger)\n            {\n                super();\n            }\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Here is an example.\n\n    public boolean checkUseCustomLookup(int _accountTypeEnumValue, int _secondaryAccountTypeEnumValue)\n    {\n        boolean ret;\n        switch(_accountTypeEnumValue)\n        {\n            case LedgerJournalACType::Bank:\n            case LedgerJournalACType::Cust:\n            case LedgerJournalACType::FixedAssets:\n            case LedgerJournalACType::Project:\n            case LedgerJournalACType::Vend:\n                ret = true;\n                break;\n            default:\n                ret = false;\n        }\n        return ret;\n    }\n\nAdditionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimPaymentFeeAccountController.segmentValueChanged(_e);\n        currentPaymentFeeMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimPaymentFeeAccountController, currentPaymentFeeMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// The event handler when a segment is modified.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            currentPaymentFeeMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(\n            CustPaymJournalFee_CustAccount, currentPaymentFeeMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method can that follows this guidance.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimPaymentFeeAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### Group4\\_AccountNum\n\n(Search for \"Group4\\_AccountNum\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        LedgerJournalTrans_AccountNum.jumpRef();\n        LedgerJournalTrans_AccountNum1.jumpRef();\n        Group4_AccountNum.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        LedgerJournalTrans_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_AccountNum.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_AccountNum.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum1.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        Group4_AccountNum.parmDataAreaId(ledgerJournalTrans.Company ? ledgerJournalTrans.Company : curext());\n        LedgerJournalTrans_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_AccountNum1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_AccountNum.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.loadSegments();\n        currentMainAccountId = dimAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n    }\n\n##### Dynamics AX for Operations\n\nThe steps for migrating this method are the same as the steps for migrating the **LedgerJournalTrans\\_AccountNum.loadSegments()** method. Therefore, no additional steps are required. Delete this method.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        if (!ledgerJournalEngine.accountNumLookup(group4_AccountNum, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimAccountController.segmentValueChanged(_e);\n        currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(dimAccountController, currentMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// The event handler for the segment change event.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            if (_segment.parmName() == mainAccountDimAttrName)\n            {\n                previousMainAccountId = currentMainAccountId;\n            }\n            currentMainAccountId = ledgerJournalEngine.onPrimaryAccountSegmentChanged(Group4_AccountNum, currentMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onPrimaryAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\n### Group4\\_OffsetAccount\n\n(Search for \"Group4\\_OffsetAccount\" in the search bar below the **Form** tab.)\n\n#### Step 1\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    void gotFocus()\n    {\n        super();\n        if (ledgerJournalTable.FixedOffsetAccount)\n        {\n            group4_OffsetAccount.allowEdit(ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger);\n        }\n        else if (!group4_OffsetAccount.allowEdit())\n        {\n            group4_OffsetAccount.allowEdit(true);\n        }\n    }\n\n##### Dynamics AX for Operations\n\n1.  Update the code in the **initLedger()** method, after the code that updates the ledgerJournalTable buffer.\n\n        . . .\n        if (ledgerJournalTable.FixedOffsetAccount)\n        {\n            gridOffsetAccount.allowEdit(ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger); group4_OffsetAccount.allowEdit(ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger);\n        }\n        else if (!gridOffsetAccount.allowEdit())\n        {\n            gridOffsetAccount.allowEdit(true);\n            group4_OffsetAccount.allowEdit(true);\n        }\n        . . .\n\n2.  Delete the **gotFocus()** method.\n\n#### Step 2\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public void jumpRef()\n    {\n        GridOffsetAccount.jumpRef();\n        LedgerJournalTrans_OffsetAccount1.jumpRef();\n        Group4_OffsetAccount.jumpRef();\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **jumpRef()** method on the control and doesn't perform any additional processing, you can delete it.\n\n#### Step 3\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void loadSegments()\n    {\n        super();\n        GridOffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        LedgerJournalTrans_OffsetAccount1.parmJournalName(ledgerJournalTable.JournalName);\n        Group4_OffsetAccount.parmJournalName(ledgerJournalTable.JournalName);\n        GridOffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        LedgerJournalTrans_OffsetAccount1.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        Group4_OffsetAccount.parmCurrency(ledgerJournalTrans.CurrencyCode);\n        GridOffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        LedgerJournalTrans_OffsetAccount1.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        Group4_OffsetAccount.parmDataAreaId(ledgerJournalTrans.getOffsetCompany());\n        GridOffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        LedgerJournalTrans_OffsetAccount1.parmControlDate(ledgerJournalTrans.TransDate);\n        Group4_OffsetAccount.parmControlDate(ledgerJournalTrans.TransDate);\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.loadSegments();\n        currentOffsetMainAccountId = dimOffsetAccountController.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        \n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThe migration steps for the **GridOffsetAccount.loadSegments()** method already made most of the changes that are required for this method. However, you must still make the following changes.\n\n1.  Update the code in the **LedgerJournalTrans** data source’s **active** method.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n2.  Make the same change in the **modified()** method of the **LedgerJournalTrans** data source’s **OffsetAccountType** field.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n3.  Make the same change in the **initLedger()** method.\n\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            currentOffsetMainAccountId = GridOffsetAccount.getValue(DimensionAttribute::getWellKnownDimensionAttribute(DimensionAttributeType::MainAccount));\n        }\n        else\n        {\n            currentOffsetMainAccountId = 0;\n        }\n        // Lock the main account segment if \"Fixed offset account\" is selected in Journal Names\n        if (ledgerJournalTrans.OffsetAccountType == LedgerJournalACType::Ledger)\n        {\n            GridOffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            LedgerJournalTrans_OffsetAccount1.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n            Group4_OffsetAccount.parmLockMainAccountSegment(ledgerJournalTable.FixedOffsetAccount);\n        }\n\n4.  Delete the **loadSegments()** method.\n\n#### Step 4\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] Fix controller usage, if any, in this method based on the migration guidance */\n    public void lookup()\n    {\n        if (!ledgerJournalEngine.offsetAccountNumLookUp(group4_OffsetAccount, ledgerJournalTrans))\n        {\n            super();\n        }\n    }\n\n##### Dynamics AX for Operations\n\nThis method implements a custom lookup for the control. Therefore, leave the method as it is. Just remove the TODO. To hook up custom lookups, you must override the SEC’s **checkUseCustomLookup** method. Additionally, make sure that the **closeSelectRecord** method on the custom lookup form is overridden. For an example, see the **CustTableLookup** form.\n\n#### Step 5\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] For custom implementation, code in this method needs to be moved elsewhere based on the migration guidance */\n    public void segmentValueChanged(SegmentValueChangedEventArgs _e)\n    {\n        super(_e);\n\n        /* TODO: (Code Upgrade) [Segmented entry control] Replace this based on the migration guidance */\n        // dimOffsetAccountController.segmentValueChanged(_e);\n        currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(dimOffsetAccountController, currentOffsetMainAccountId, ledgerJournalTrans);\n    }\n\n##### Dynamics AX for Operations\n\n1.  Override the **onSegmentChanged()** method on the control, and add the following code to it.\n\n        /// <summary>\n        /// The event handler for the segment change event.\n        /// </summary>\n        /// <param name = \"_segment\">The segment that was modified.</param>\n        public void onSegmentChanged(DimensionControlSegment _segment)\n        {\n            super(_segment);\n            currentOffsetMainAccountId = ledgerJournalEngine.onOffsetAccountSegmentChanged(\n            Group4_OffsetAccount, currentOffsetMainAccountId, ledgerJournalTrans);\n        }\n\n2.  Delete the **segmentValueChanged()** method. **Note:** The preceding code for the **onSegmentChanged()** method will not compile, because the **onOffsetAccountSegmentChanged()** method expects a controller object, but this code passes an instance of the SEC. To call methods on the control instance, you must change the method’s signature and its implementation accordingly. This method is used by more than 50 callers. Therefore, you would also have to update all those calls. Alternatively, you can add a new method that follows this guidance.\n\n#### Step 6\n\n##### Dynamics AX 2012\n\n    /* TODO: (Code Upgrade) [Segmented entry control] This method can be removed if there is no custom implementation */\n    public boolean validate()\n    {\n        boolean isValid;\n        isValid = super();\n        \n        /* TODO: (Code Upgrade) [Segmented entry control] This statement can be removed if there is no custom logic */\n        // isValid = dimOffsetAccountController.validate() && isValid;\n        return isValid;\n    }\n\n##### Dynamics AX for Operations\n\nBecause this method only calls the **validate()** method on the control and doesn't perform any additional processing, you can delete it.\n\nSee also\n--------\n\n[Segmented Entry control dialog support](https://ax.help.dynamics.com/en/?p=145221)\n\n[Segmented Entry control Metadata Specification](https://ax.help.dynamics.com/en/?p=145441)\n\n[Segmented Entry control Parm method Specification](https://ax.help.dynamics.com/en/?p=154321)\n\n[Segmented Entry control - Migration guidance](https://ax.help.dynamics.com/en/?p=121441)\n\n"}