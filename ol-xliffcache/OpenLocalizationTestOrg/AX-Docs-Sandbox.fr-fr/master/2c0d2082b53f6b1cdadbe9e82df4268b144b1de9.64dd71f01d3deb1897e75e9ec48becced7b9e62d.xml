{"nodes":[{"pos":[32,55],"content":"Testing and validations","needQuote":true,"needEscape":true,"nodes":[{"content":"Testing and validations","pos":[0,23]}]},{"pos":[69,126],"content":"This tutorial shows you how to create and run test cases.","needQuote":true,"needEscape":true,"nodes":[{"content":"This tutorial shows you how to create and run test cases.","pos":[0,57]}]},{"pos":[641,664],"content":"Testing and validations","linkify":"Testing and validations","nodes":[{"content":"Testing and validations","pos":[0,23]}]},{"content":"This tutorial shows you how to create and run test cases.","pos":[666,723]},{"pos":[725,738],"content":"Prerequisites","linkify":"Prerequisites","nodes":[{"content":"Prerequisites","pos":[0,13]}]},{"content":"You will need to deploy Developer Topology with Developer and Build VM.","pos":[754,825]},{"pos":[830,842],"content":"Key concepts","linkify":"Key concepts","nodes":[{"content":"Key concepts","pos":[0,12]}]},{"content":"Use SysTest Framework to author unit/component test code.","pos":[847,904]},{"content":"Test module creation to manage test code and FormAdaptors.","pos":[909,967]},{"content":"Import Task Recorder recordings into Visual Studio to generate test code.","pos":[972,1045]},{"content":"Integrate a Test module with a build machine.","pos":[1050,1095]},{"pos":[1097,1136],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>54<ept id=\"p1\">](./media/54.png)](./media/54.png)</ept>","source":"[![54](./media/54.png)](./media/54.png)"},{"pos":[1143,1199],"content":"Use SysTest Framework to author unit/component test code","linkify":"Use SysTest Framework to author unit/component test code","nodes":[{"content":"Use SysTest Framework to author unit/component test code","pos":[0,56]}]},{"content":"You can create new test cases to test the functionality in an application.","pos":[1200,1274]},{"content":"Open Visual Studio as an administrator.","pos":[1280,1319]},{"content":"On the <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Open<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Project/Solution<ept id=\"p3\">**</ept>, and then select <bpt id=\"p4\">**</bpt>FleetManagement<ept id=\"p4\">**</ept> <bpt id=\"p5\">**</bpt>solution<ept id=\"p5\">**</ept> from the desktop folder.","pos":[1324,1461],"source":"On the **File** menu, click **Open** &gt; **Project/Solution**, and then select **FleetManagement** **solution** from the desktop folder."},{"content":"If the solution file is not on your computer, the steps to create it are listed in <bpt id=\"p1\">[</bpt>Tutorial: Create a Fleet Management solution file out of the Fleet Management models in the AOT<ept id=\"p1\">](https://community.dynamics.com/ax/b/newdynamicsax/archive/2016/05/19/tutorial-create-a-fleet-management-solution-file-out-of-the-fleet-management-models-in-the-aot)</ept>.","pos":[1462,1808],"source":" If the solution file is not on your computer, the steps to create it are listed in [Tutorial: Create a Fleet Management solution file out of the Fleet Management models in the AOT](https://community.dynamics.com/ax/b/newdynamicsax/archive/2016/05/19/tutorial-create-a-fleet-management-solution-file-out-of-the-fleet-management-models-in-the-aot)."},{"pos":[1813,1935],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the <bpt id=\"p2\">**</bpt>Fleet Management<ept id=\"p2\">**</ept> solution, point to <bpt id=\"p3\">**</bpt>Add<ept id=\"p3\">**</ept>, and then click <bpt id=\"p4\">**</bpt>New Project<ept id=\"p4\">**</ept>.","source":"In **Solution Explorer**, right-click the **Fleet Management** solution, point to **Add**, and then click **New Project**."},{"pos":[1940,1993],"content":"Choose <bpt id=\"p1\">**</bpt>Dynamics AX <ept id=\"p1\">**</ept>as the project type to create.","source":"Choose **Dynamics AX **as the project type to create."},{"content":"Name this new project <bpt id=\"p1\">*</bpt>FleetManagementUnitTestSample<ept id=\"p1\">*</ept>, specify the FleetManagement folder on the desktop (C:UsersPublicDesktopFleetManagement) as the location, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","pos":[1998,2180],"source":"Name this new project *FleetManagementUnitTestSample*, specify the FleetManagement folder on the desktop (C:UsersPublicDesktopFleetManagement) as the location, and then click **OK**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>55<ept id=\"p1\">](./media/55.png)](./media/55.png)</ept>","pos":[2181,2220],"source":"[![55](./media/55.png)](./media/55.png)"},{"pos":[2225,2310],"content":"In <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, right-click the new project, and then click <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"In **Solution Explorer**, right-click the new project, and then click **Properties**."},{"content":"Set the <bpt id=\"p1\">**</bpt>Model<ept id=\"p1\">**</ept> property to <bpt id=\"p2\">**</bpt>FleetManagementUnitTests<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","pos":[2315,2397],"source":"Set the **Model** property to **FleetManagementUnitTests**, and then click **OK**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>56<ept id=\"p1\">](./media/56.png)](./media/56.png)</ept>","pos":[2398,2437],"source":"[![56](./media/56.png)](./media/56.png)"},{"pos":[2442,2543],"content":"Right-click the FleetManagementUnitTestSample project, point to <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>New Item<ept id=\"p2\">**</ept>.","source":"Right-click the FleetManagementUnitTestSample project, point to **Add**, and then click **New Item**."},{"content":"In the <bpt id=\"p1\">**</bpt>Add New Item<ept id=\"p1\">**</ept> window, select <bpt id=\"p2\">**</bpt>Class<ept id=\"p2\">**</ept> as the type of element to add.","pos":[2548,2627],"source":"In the **Add New Item** window, select **Class** as the type of element to add."},{"content":"Name the new class FMUnitTestSample, and then click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[2628,2688],"source":" Name the new class FMUnitTestSample, and then click **Add**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>57<ept id=\"p1\">](./media/57.png)](./media/57.png)</ept>","pos":[2689,2728],"source":"[![57](./media/57.png)](./media/57.png)"},{"content":"In the first line of the code for the new class, indicate that the class extends the SysTestCase class.","pos":[2733,2836]},{"content":"Add the following code to define the methods for the class.","pos":[2841,2900]},{"content":"These methods define two additional tests.","pos":[2901,2943]},{"content":"Save the new class.","pos":[4861,4880]},{"content":"After the save is complete, you will see the additional two test cases in <bpt id=\"p1\">**</bpt>Test Explorer<ept id=\"p1\">**</ept>.","pos":[4881,4973],"source":" After the save is complete, you will see the additional two test cases in **Test Explorer**."},{"content":"Right-click on the FleetManagementUnitTestSample project in <bpt id=\"p1\">**</bpt>Solution Explorer<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Build.<ept id=\"p2\">**</ept>","pos":[4974,5082],"source":" Right-click on the FleetManagementUnitTestSample project in **Solution Explorer**, and then click **Build.**"},{"content":"On the <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept> menu, open <bpt id=\"p2\">**</bpt>Test Explorer<ept id=\"p2\">**</ept>.","pos":[5088,5133],"source":"On the **View** menu, open **Test Explorer**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>58<ept id=\"p1\">](./media/58-1024x545.png)](./media/58.png)</ept>","pos":[5134,5182],"source":"[![58](./media/58-1024x545.png)](./media/58.png)"},{"pos":[5187,5245],"content":"Click <bpt id=\"p1\">**</bpt>Run selected test<ept id=\"p1\">**</ept> to execute specific test case.","source":"Click **Run selected test** to execute specific test case."},{"content":"Test Explorer will show the results of test after it is complete.","pos":[5250,5315]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>59<ept id=\"p1\">](./media/59-300x290.png)](./media/59.png)</ept>","pos":[5316,5363],"source":"[![59](./media/59-300x290.png)](./media/59.png)"},{"pos":[5371,5428],"content":"Test module creation to manage test code and FormAdaptors","linkify":"Test module creation to manage test code and FormAdaptors","nodes":[{"content":"Test module creation to manage test code and FormAdaptors","pos":[0,57]}]},{"content":"Creating a test specific module helps to keep test code together and manageable.","pos":[5429,5509]},{"pos":[5515,5660],"content":"Open <bpt id=\"p1\">**</bpt>Visual Studio<ept id=\"p1\">**</ept> and go to <bpt id=\"p2\">**</bpt>Dynamics AX<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Model Management<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Create model<ept id=\"p4\">**</ept>.<bpt id=\"p5\">[</bpt><ph id=\"ph3\">![</ph>60<ept id=\"p5\">](./media/60-1024x574.png)](./media/60.png)</ept>","source":"Open **Visual Studio** and go to **Dynamics AX** &gt; **Model Management** &gt; **Create model**.[![60](./media/60-1024x574.png)](./media/60.png)"},{"content":"Enter the model name, select the layer, and then enter any additional details.","pos":[5665,5743]},{"content":"<bpt id=\"p1\">**</bpt>Note: <ept id=\"p1\">**</ept>It's a good idea that you include the word <bpt id=\"p2\">**</bpt>Test<ept id=\"p2\">**</ept> in the name of the test module.","pos":[5744,5837],"source":"**Note: **It's a good idea that you include the word **Test** in the name of the test module."},{"content":"The default build definition is configured to discover all test modules that contain the word <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept>.","pos":[5838,5941],"source":" The default build definition is configured to discover all test modules that contain the word **Test**."},{"pos":[5993,6151],"content":"Because this model holds forms from the Application Platform/Foundation, add references to models shown below.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>62<ept id=\"p1\">](./media/62-1024x786.png)](./media/62.png)</ept>","source":"Because this model holds forms from the Application Platform/Foundation, add references to models shown below.[![62](./media/62-1024x786.png)](./media/62.png)"},{"content":"After the base test module is in place, you can import a Task Recorder recording to generate test code.","pos":[6153,6256]},{"content":"When you import a Task Recorder recording XML, test code is generated using FormAdaptors.","pos":[6257,6346]},{"content":"Form adaptors are wrapper classes over forms which provide strongly typed API that can be used to test form functionality.","pos":[6347,6469]},{"content":"In Dynamics AX, we have included pre-generated FormAdapters for each package for built-in forms.","pos":[6470,6566]},{"content":"In the test module, add a reference to the corresponding Form Adaptor for packages and Test Essentials, which has helper methods to execute test code.","pos":[6567,6717]},{"pos":[6722,6795],"content":"Import a Task Recorder recording into Visual Studio to generate test code","linkify":"Import a Task Recorder recording into Visual Studio to generate test code","nodes":[{"content":"Import a Task Recorder recording into Visual Studio to generate test code","pos":[0,73]}]},{"content":"You can generate test code from Task Recorder recording to execute headless (non-UI) test.","pos":[6796,6886]},{"content":"Record a scenario in Dynamics AX by using Task Recorder.","pos":[6892,6948]},{"content":"To import a Task Recording, in Visual Studio, click <bpt id=\"p1\">**</bpt>Dynamics AX<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Addins<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Import Task Recording<ept id=\"p3\">**</ept>.","pos":[6953,7068],"source":"To import a Task Recording, in Visual Studio, click **Dynamics AX** &gt; **Addins** &gt; **Import Task Recording**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>63<ept id=\"p1\">](./media/63-1024x613.png)](./media/63.png)</ept>","pos":[7069,7117],"source":"[![63](./media/63-1024x613.png)](./media/63.png)"},{"content":"In the <bpt id=\"p1\">**</bpt>Import Task Recording<ept id=\"p1\">**</ept> dialog, select the Test Module (ISVTestModule) under which you want to import task recording, and browse to recording xml file.","pos":[7122,7282],"source":"In the **Import Task Recording** dialog, select the Test Module (ISVTestModule) under which you want to import task recording, and browse to recording xml file."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>64<ept id=\"p1\">](./media/64-249x300.png)](./media/64.png)</ept>","pos":[7283,7330],"source":"[![64](./media/64-249x300.png)](./media/64.png)"},{"pos":[7335,7621],"content":"The task recording import process generates test code that is based on the SysTestAdapter and FormAdaptor which can be viewed in Visual Studio IDE.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>65<ept id=\"p1\">](./media/65-1024x655.png)](./media/65.png)</ept>We do not expect you to change any test source code that is generated as part of this step.","source":"The task recording import process generates test code that is based on the SysTestAdapter and FormAdaptor which can be viewed in Visual Studio IDE.[![65](./media/65-1024x655.png)](./media/65.png)We do not expect you to change any test source code that is generated as part of this step."},{"content":"After the test code is generated, set up Visual Studio options for test discovery and execution:","pos":[7626,7722]},{"content":"If you have a 64-bit machine, you can run unit tests and capture code coverage information as a 64-bit process.","pos":[7731,7842]},{"pos":[7851,7974],"content":"To configure this, select <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Test Settings<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Default Processor Architecture<ept id=\"p3\">**</ept>, and then select <bpt id=\"p4\">**</bpt>X64<ept id=\"p4\">**</ept>.","source":"To configure this, select **Test** &gt; **Test Settings** &gt; **Default Processor Architecture**, and then select **X64**."},{"content":"You might run into a situation in which the test execution engine opens and locks an assembly in your test project.","pos":[7983,8098]},{"content":"When this happens, you can’t for example, save changes to the assembly.","pos":[8099,8170]},{"content":"To fix this, select <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Test Settings<ept id=\"p2\">**</ept>, and then select <bpt id=\"p3\">**</bpt>Keep Test Execution Engine Running<ept id=\"p3\">**</ept>.","pos":[8171,8279],"source":" To fix this, select **Test** &gt; **Test Settings**, and then select **Keep Test Execution Engine Running**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>66<ept id=\"p1\">](./media/66.png)](./media/66.png)</ept>","pos":[8280,8319],"source":"[![66](./media/66.png)](./media/66.png)"},{"content":"Now that you have test code generated in Visual Studio IDE, it's time to discover the test and try executing them locally.","pos":[8328,8450]},{"content":"From menu options, select <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Windows<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Test Explorer<ept id=\"p3\">**</ept>.","pos":[8456,8542],"source":"From menu options, select **Test** &gt; **Windows**, and then click **Test Explorer**."},{"content":"After the Test Explorer window is open, it will try to discover test from test code and list all the available tests as shown below.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>67<ept id=\"p1\">](./media/67-1024x658.png)](./media/67.png)</ept>","pos":[8543,8723],"source":" After the Test Explorer window is open, it will try to discover test from test code and list all the available tests as shown below.[![67](./media/67-1024x658.png)](./media/67.png)"},{"content":"Select the test and then click <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Execute selected<ept id=\"p2\">**</ept>.","pos":[8728,8793],"source":"Select the test and then click **Run** &gt; **Execute selected**."},{"content":"This will execute test against the locally deployed Dynamics AX.","pos":[8794,8858]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>68<ept id=\"p1\">](./media/68-1024x652.png)](./media/68.png)</ept>","pos":[8859,8907],"source":"[![68](./media/68-1024x652.png)](./media/68.png)"},{"pos":[8912,8961],"content":"Integration of the test module with build process","linkify":"Integration of the test module with build process","nodes":[{"content":"Integration of the test module with build process","pos":[0,49]}]},{"content":"After the test module is a part of source control, the build process template will discover all test modules, which contain the word <bpt id=\"p1\">**</bpt>Test<ept id=\"p1\">**</ept> in the name.","pos":[8962,9116],"source":"After the test module is a part of source control, the build process template will discover all test modules, which contain the word **Test** in the name."},{"content":"The following illustration shows build and test execution as part of Visual Studio Online.","pos":[9117,9207]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>69<ept id=\"p1\">](./media/69.png)](./media/69.png)</ept>","pos":[9208,9247],"source":"[![69](./media/69.png)](./media/69.png)"}],"content":"---\n# required metadata\n\ntitle: Testing and validations\ndescription: This tutorial shows you how to create and run test cases.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 2015-12-11 23 - 50 - 53\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: RobinARH\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 24231\nms.assetid: 41dcbbda-e377-45a8-b180-5daa0e63c4a9\nms.search.region: Global\n# ms.search.industry: \nms.author: shailesn\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Testing and validations\n\nThis tutorial shows you how to create and run test cases.\n\nPrerequisites\n-------------\n\nYou will need to deploy Developer Topology with Developer and Build VM.\n\n## Key concepts\n-   Use SysTest Framework to author unit/component test code.\n-   Test module creation to manage test code and FormAdaptors.\n-   Import Task Recorder recordings into Visual Studio to generate test code.\n-   Integrate a Test module with a build machine.\n\n[![54](./media/54.png)](./media/54.png)  \n\n## Use SysTest Framework to author unit/component test code\nYou can create new test cases to test the functionality in an application.\n\n1.  Open Visual Studio as an administrator.\n2.  On the **File** menu, click **Open** &gt; **Project/Solution**, and then select **FleetManagement** **solution** from the desktop folder. If the solution file is not on your computer, the steps to create it are listed in [Tutorial: Create a Fleet Management solution file out of the Fleet Management models in the AOT](https://community.dynamics.com/ax/b/newdynamicsax/archive/2016/05/19/tutorial-create-a-fleet-management-solution-file-out-of-the-fleet-management-models-in-the-aot).\n3.  In **Solution Explorer**, right-click the **Fleet Management** solution, point to **Add**, and then click **New Project**.\n4.  Choose **Dynamics AX **as the project type to create.\n5.  Name this new project *FleetManagementUnitTestSample*, specify the FleetManagement folder on the desktop (C:UsersPublicDesktopFleetManagement) as the location, and then click **OK**. [![55](./media/55.png)](./media/55.png)\n6.  In **Solution Explorer**, right-click the new project, and then click **Properties**.\n7.  Set the **Model** property to **FleetManagementUnitTests**, and then click **OK**. [![56](./media/56.png)](./media/56.png)\n8.  Right-click the FleetManagementUnitTestSample project, point to **Add**, and then click **New Item**.\n9.  In the **Add New Item** window, select **Class** as the type of element to add. Name the new class FMUnitTestSample, and then click **Add**. [![57](./media/57.png)](./media/57.png)\n10. In the first line of the code for the new class, indicate that the class extends the SysTestCase class.\n11. Add the following code to define the methods for the class. These methods define two additional tests.\n\n        class FMUnitTestSample extends SysTestCase\n        {\n            public void setup()\n            {\n                // Reset the test data to be sure things are clean\n                FMDataHelper::main(null);\n            }\n\n            [SysTestMethodAttribute]\n            public void testFMTotalsEngine()\n            {\n                FMRental rental;\n                FMTotalsEngine fmTotals;\n                FMRentalTotal fmRentalTotal;\n                FMRentalCharge rentalCharge;\n                FMRentalTotal expectedtotal;\n                str rentalID = '000022';\n\n                // Find a known rental\n                rental = FMRental::find(rentalID);\n                \n                // Get the rental charges associated with the rental\n                // Data is seeded randomly, so this will change for each run\n                select sum(ExtendedAmount) from rentalCharge\n                        where rentalCharge.RentalId == rental.RentalId;\n\n                fmTotals = FMTotalsEngine::construct();\n                fmTotals.calculateRentalVehicleRate(rental);\n                \n                // Get the totals from the engine\n                fmRentalTotal = fmTotals.totals(rental);\n\n                // Set the expected amount\n                expectedTotal = rental.VehicleRateTotal + rentalCharge.ExtendedAmount;\n                \n                this.assertEquals(expectedTotal,fmRentalTotal);\n            }\n            \n            [SysTestMethodAttribute]\n            public void testFMCarValidateField()\n            {\n                FMCarClass fmCar;\n                \n                fmCar.NumberOfDoors = -1;\n                this.assertFalse(fmCar.validateField(Fieldnum(\"FMCarClass\", \"NumberOfDoors\")));\n                \n                fmCar.NumberOfDoors = 4;\n                this.assertTrue(fmCar.validateField(Fieldnum(\"FMCarClass\", \"NumberOfDoors\")));\n            }\n        }\n\n12. Save the new class. After the save is complete, you will see the additional two test cases in **Test Explorer**. Right-click on the FleetManagementUnitTestSample project in **Solution Explorer**, and then click **Build.**\n13.  On the **View** menu, open **Test Explorer**. [![58](./media/58-1024x545.png)](./media/58.png)\n14. Click **Run selected test** to execute specific test case.\n15. Test Explorer will show the results of test after it is complete. [![59](./media/59-300x290.png)](./media/59.png)\n\n \n\n## Test module creation to manage test code and FormAdaptors\nCreating a test specific module helps to keep test code together and manageable.\n\n1.  Open **Visual Studio** and go to **Dynamics AX** &gt; **Model Management** &gt; **Create model**.[![60](./media/60-1024x574.png)](./media/60.png)\n2.  Enter the model name, select the layer, and then enter any additional details. **Note: **It's a good idea that you include the word **Test** in the name of the test module. The default build definition is configured to discover all test modules that contain the word **Test**. [![](./media/61-1024x775.png)](./media/61.png)\n3.  Because this model holds forms from the Application Platform/Foundation, add references to models shown below.[![62](./media/62-1024x786.png)](./media/62.png)\n\nAfter the base test module is in place, you can import a Task Recorder recording to generate test code. When you import a Task Recorder recording XML, test code is generated using FormAdaptors. Form adaptors are wrapper classes over forms which provide strongly typed API that can be used to test form functionality. In Dynamics AX, we have included pre-generated FormAdapters for each package for built-in forms. In the test module, add a reference to the corresponding Form Adaptor for packages and Test Essentials, which has helper methods to execute test code.\n\n## Import a Task Recorder recording into Visual Studio to generate test code\nYou can generate test code from Task Recorder recording to execute headless (non-UI) test.\n\n1.  Record a scenario in Dynamics AX by using Task Recorder.\n2.  To import a Task Recording, in Visual Studio, click **Dynamics AX** &gt; **Addins** &gt; **Import Task Recording**. [![63](./media/63-1024x613.png)](./media/63.png)\n3.  In the **Import Task Recording** dialog, select the Test Module (ISVTestModule) under which you want to import task recording, and browse to recording xml file. [![64](./media/64-249x300.png)](./media/64.png)\n4.  The task recording import process generates test code that is based on the SysTestAdapter and FormAdaptor which can be viewed in Visual Studio IDE.[![65](./media/65-1024x655.png)](./media/65.png)We do not expect you to change any test source code that is generated as part of this step.\n5.  After the test code is generated, set up Visual Studio options for test discovery and execution:\n    -   If you have a 64-bit machine, you can run unit tests and capture code coverage information as a 64-bit process.\n    -   To configure this, select **Test** &gt; **Test Settings** &gt; **Default Processor Architecture**, and then select **X64**.\n    -   You might run into a situation in which the test execution engine opens and locks an assembly in your test project. When this happens, you can’t for example, save changes to the assembly. To fix this, select **Test** &gt; **Test Settings**, and then select **Keep Test Execution Engine Running**. [![66](./media/66.png)](./media/66.png)\n    -   Now that you have test code generated in Visual Studio IDE, it's time to discover the test and try executing them locally.\n\n6.  From menu options, select **Test** &gt; **Windows**, and then click **Test Explorer**. After the Test Explorer window is open, it will try to discover test from test code and list all the available tests as shown below.[![67](./media/67-1024x658.png)](./media/67.png)\n7.  Select the test and then click **Run** &gt; **Execute selected**. This will execute test against the locally deployed Dynamics AX. [![68](./media/68-1024x652.png)](./media/68.png)\n\n## Integration of the test module with build process\nAfter the test module is a part of source control, the build process template will discover all test modules, which contain the word **Test** in the name. The following illustration shows build and test execution as part of Visual Studio Online. [![69](./media/69.png)](./media/69.png)\n\n"}