{"nodes":[{"pos":[32,42],"content":"Dimensions","needQuote":true,"needEscape":true,"nodes":[{"content":"Dimensions","pos":[0,10]}]},{"pos":[56,222],"content":"To support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.","needQuote":true,"needEscape":true,"nodes":[{"content":"To support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.","pos":[0,166]}]},{"pos":[720,730],"content":"Dimensions","linkify":"Dimensions","nodes":[{"content":"Dimensions","pos":[0,10]}]},{"content":"To support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.","pos":[732,898]},{"pos":[900,927],"content":"The SFK and the Natural key","linkify":"The SFK and the Natural key","nodes":[{"content":"The SFK and the Natural key","pos":[0,27]}]},{"content":"To support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.","pos":[957,1123]},{"content":"When this nesting of data entities occurs, the surrogate foreign key (SFK) and natural key of the dimensions data entity are treated differently.","pos":[1124,1269]},{"content":"The following table describes the differences.","pos":[1270,1316]},{"content":"Key type","pos":[1320,1328]},{"content":"Access modifier","pos":[1334,1349]},{"content":"Description, when the dimension entity is a data source on another entity","pos":[1352,1425]},{"content":"SFK","pos":[1538,1541]},{"content":"private","pos":[1552,1559]},{"content":"As with any SFK, the SFK of the dimension is defined on the outer data entity as a private field.","pos":[1570,1667]},{"content":"Natural key","pos":[1673,1684]},{"content":"public","pos":[1687,1693]},{"content":"The natural key of the dimension entity is exposed as a public string of dimension attribute values.","pos":[1705,1805]},{"content":"The values are concatenated together but are separated by the account delimiter.","pos":[1806,1886]},{"content":"The account delimiter is defined per partition.","pos":[1887,1934]},{"content":"The concatenated string is used as a display value.","pos":[1935,1986]},{"content":"The phrase “DisplayValue” is appended as a suffix to some fields of an entity, as explained later in this document.","pos":[1987,2102]},{"pos":[2109,2125],"content":"Reads and writes","linkify":"Reads and writes","nodes":[{"content":"Reads and writes","pos":[0,16]}]},{"content":"<bpt id=\"p1\">**</bpt>Read:<ept id=\"p1\">**</ept> On a read of the outer data entity, the public display value will be retrieved from a computed column by using the dimension entity of the framework.","pos":[2126,2285],"source":"**Read:** On a read of the outer data entity, the public display value will be retrieved from a computed column by using the dimension entity of the framework."},{"content":"Because the read uses a computed column, it doesn't require any X++ logic for export scenarios.","pos":[2286,2381]},{"content":"<bpt id=\"p1\">**</bpt>Write:<ept id=\"p1\">**</ept> On the creation or update of entity instance values, the public display value is resolved to the SFK to match the private field.","pos":[2382,2521],"source":"**Write:** On the creation or update of entity instance values, the public display value is resolved to the SFK to match the private field."},{"pos":[2527,2535],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"content":"<bpt id=\"p1\">**</bpt>DimensionEntityTestEntity<ept id=\"p1\">**</ept> is a test entity that has more than one dimension pattern.","pos":[2537,2625],"source":"**DimensionEntityTestEntity** is a test entity that has more than one dimension pattern."},{"content":"For the default dimension, you can focus on the <bpt id=\"p1\">**</bpt>DimensionDefault<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>DimensionDefaultDisplayValue<ept id=\"p2\">**</ept> fields, and ignore the rest.","pos":[2626,2760],"source":" For the default dimension, you can focus on the **DimensionDefault** and **DimensionDefaultDisplayValue** fields, and ignore the rest."},{"pos":[2767,2779],"content":"Read example","linkify":"Read example","nodes":[{"content":"Read example","pos":[0,12]}]},{"pos":[2781,2834],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Read example<ept id=\"p1\">](./media/suba.png)](./media/suba.png)</ept>","source":"[![Read example](./media/suba.png)](./media/suba.png)"},{"pos":[2841,2854],"content":"Write example","linkify":"Write example","nodes":[{"content":"Write example","pos":[0,13]}]},{"content":"The entity exposes a default dimension field, <bpt id=\"p1\">**</bpt>DimensionDefaultDisplayValue<ept id=\"p1\">**</ept>.","pos":[2856,2935],"source":"The entity exposes a default dimension field, **DimensionDefaultDisplayValue**."},{"content":"This is a display value field.","pos":[2936,2966]},{"content":"You can set this field to a concatenated string value that is similar to the segmented entry control of the user interface.","pos":[2967,3090]},{"pos":[3093,3210],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Write example<ept id=\"p1\">](./media/subb.png)](./media/subb.png)</ept> <bpt id=\"p2\">**</bpt>DisplayValue<ept id=\"p2\">**</ept> resolves to <bpt id=\"p3\">**</bpt>DefaultDimension<ept id=\"p3\">**</ept> at run time.","source":"[![Write example](./media/subb.png)](./media/subb.png) **DisplayValue** resolves to **DefaultDimension** at run time."},{"pos":[3215,3249],"content":"Create an entity by using a wizard","linkify":"Create an entity by using a wizard","nodes":[{"content":"Create an entity by using a wizard","pos":[0,34]}]},{"content":"This section describes how to create a data entity by using a wizard.","pos":[3250,3319]},{"content":"We recommend that you use the wizard.","pos":[3320,3357]},{"content":"It requires only that you select the SFK field of the dimension.","pos":[3358,3422]},{"content":"The wizard creates the required data source, fields, and relations that have all the correct settings.","pos":[3423,3525]},{"pos":[3531,3638],"content":"Click <bpt id=\"p1\">**</bpt>File<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Project<ept id=\"p3\">**</ept> to create a new Microsoft Dynamics 365 for Operations project.","source":"Click **File** &gt; **New** &gt; **Project** to create a new Microsoft Dynamics 365 for Operations project."},{"content":"In Solution Explorer, right-click your project, and then click <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[3643,3721],"source":"In Solution Explorer, right-click your project, and then click **Properties**."},{"content":"The <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box for your project opens.","pos":[3722,3779],"source":" The **Property Pages** dialog box for your project opens."},{"pos":[3785,3842],"content":"In the <bpt id=\"p1\">**</bpt>Property Pages<ept id=\"p1\">**</ept> dialog box, follow these steps:","source":"In the **Property Pages** dialog box, follow these steps:"},{"content":"Change the value of the <bpt id=\"p1\">**</bpt>Model<ept id=\"p1\">**</ept> property to <bpt id=\"p2\">**</bpt>Application Suite Unit tests<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","pos":[3851,3953],"source":"Change the value of the **Model** property to **Application Suite Unit tests**, and then click **OK**."},{"content":"You must set this property only one time per project.","pos":[3954,4007]},{"content":"Change the value of the <bpt id=\"p1\">**</bpt>Synchronize database on build<ept id=\"p1\">**</ept> property to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>OK<ept id=\"p3\">**</ept>.","pos":[4016,4118],"source":"Change the value of the **Synchronize database on build** property to **True**, and then click **OK**."},{"content":"You must set this property only one time per project.","pos":[4119,4172]},{"pos":[4182,4253],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Setting the project properties<ept id=\"p1\">](./media/dim2.png)](./media/dim2.png)</ept>","source":"[![Setting the project properties](./media/dim2.png)](./media/dim2.png)"},{"content":"Create a new entity that is named <bpt id=\"p1\">**</bpt>DimensionTestEntity<ept id=\"p1\">**</ept>, and add it to the project.","pos":[4259,4344],"source":"Create a new entity that is named **DimensionTestEntity**, and add it to the project."},{"content":"When you click the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> button, the <bpt id=\"p2\">**</bpt>Data Entity View<ept id=\"p2\">**</ept> wizard starts.","pos":[4345,4419],"source":" When you click the **Add** button, the **Data Entity View** wizard starts."},{"content":"Under <bpt id=\"p1\">**</bpt>Installed<ept id=\"p1\">**</ept>, then select <bpt id=\"p2\">**</bpt>Dynamics 365 Artifacts<ept id=\"p2\">**</ept>, then select select <bpt id=\"p3\">**</bpt>Data Model<ept id=\"p3\">**</ept>.","pos":[4420,4515],"source":" Under **Installed**, then select **Dynamics 365 Artifacts**, then select select **Data Model**."},{"content":"Select <bpt id=\"p1\">**</bpt>Data Entity<ept id=\"p1\">**</ept> from the list.","pos":[4516,4553],"source":" Select **Data Entity** from the list."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> A naming convention document is evolving that covers data entities and other items.","pos":[4554,4647],"source":"**Note:** A naming convention document is evolving that covers data entities and other items."},{"content":"Specify the property values for the data entity that you're creating, as shown in the following screen shot.","pos":[4652,4760]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The most important field is <bpt id=\"p2\">**</bpt>Primary data source<ept id=\"p2\">**</ept>, where you select <bpt id=\"p3\">**</bpt>DimensionEntityTestTable<ept id=\"p3\">**</ept>.","pos":[4761,4870],"source":"**Note:** The most important field is **Primary data source**, where you select **DimensionEntityTestTable**."},{"pos":[4876,4962],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Setting the entity properties<ept id=\"p1\">](./media/dim4.png)](./media/dim4.png)</ept> Click <bpt id=\"p2\">**</bpt>Next<ept id=\"p2\">**</ept>.","source":"[![Setting the entity properties](./media/dim4.png)](./media/dim4.png) Click **Next**."},{"pos":[4972,5056],"content":"Add fields to the entity from the primary data source, <bpt id=\"p1\">**</bpt>DimensionEntityTestTable<ept id=\"p1\">**</ept>:","source":"Add fields to the entity from the primary data source, **DimensionEntityTestTable**:"},{"pos":[5065,5123],"content":"Clear the <bpt id=\"p1\">**</bpt>Select all<ept id=\"p1\">**</ept> check box to deselect all fields.","source":"Clear the **Select all** check box to deselect all fields."},{"pos":[5138,5201],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Deselecting all fields<ept id=\"p1\">](./media/dim5.png)](./media/dim5.png)</ept>","source":"[![Deselecting all fields](./media/dim5.png)](./media/dim5.png)"},{"content":"Manually select the check box for each of the following fields:","pos":[5219,5282]},{"content":"FieldDimensionDefault","pos":[5295,5316]},{"content":"FieldAlternativeKey","pos":[5329,5348]},{"pos":[5358,5430],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Selecting fields for the entity<ept id=\"p1\">](./media/dim6.png)](./media/dim6.png)</ept>","source":"[![Selecting fields for the entity](./media/dim6.png)](./media/dim6.png)"},{"content":"Click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept> to add the new data entity to your project.","pos":[5448,5508],"source":"Click **Finish** to add the new data entity to your project."},{"content":"A node for the entity appears in Solution Explorer.","pos":[5509,5560]},{"pos":[5575,5652],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>The entity node in Solution Explorer<ept id=\"p1\">](./media/dim7.png)](./media/dim7.png)</ept>","source":"[![The entity node in Solution Explorer](./media/dim7.png)](./media/dim7.png)"},{"pos":[5658,5720],"content":"Click <bpt id=\"p1\">**</bpt>Build<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Build Solution<ept id=\"p2\">**</ept> to build your project.","source":"Click **Build** &gt; **Build Solution** to build your project."},{"content":"In the <bpt id=\"p1\">**</bpt>Errors<ept id=\"p1\">**</ept> pane, verify that the build was completed without any errors.","pos":[5725,5804],"source":"In the **Errors** pane, verify that the build was completed without any errors."},{"content":"At this stage in the process, warnings are tolerated.","pos":[5805,5858]},{"content":"Validate the properties of <bpt id=\"p1\">**</bpt>DimensionTestEntity<ept id=\"p1\">**</ept>.","pos":[5863,5914],"source":"Validate the properties of **DimensionTestEntity**."},{"content":"In Solution Explorer, select the <bpt id=\"p1\">**</bpt>DimensionTestEntity<ept id=\"p1\">**</ept> node, and compare the values in the <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept> pane values to the values in the following screen shot.","pos":[5915,6078],"source":" In Solution Explorer, select the **DimensionTestEntity** node, and compare the values in the **Properties** pane values to the values in the following screen shot."},{"pos":[6085,6136],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Properties<ept id=\"p1\">](./media/dim8.png)](./media/dim8.png)</ept>","source":"[![Properties](./media/dim8.png)](./media/dim8.png)"},{"content":"In Solution Explorer, right-click the <bpt id=\"p1\">**</bpt>DimensionTestEntity<ept id=\"p1\">**</ept> node, and then click <bpt id=\"p2\">**</bpt>Open<ept id=\"p2\">**</ept>.","pos":[6146,6238],"source":"In Solution Explorer, right-click the **DimensionTestEntity** node, and then click **Open**."},{"content":"The designer for the entity opens in the middle pane.","pos":[6239,6292]},{"pos":[6299,6355],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Entity designer<ept id=\"p1\">](./media/dim9.png)](./media/dim9.png)</ept>","source":"[![Entity designer](./media/dim9.png)](./media/dim9.png)"},{"pos":[6365,6544],"content":"In the designer for <bpt id=\"p1\">**</bpt>DimensionTestEntity<ept id=\"p1\">**</ept>, expand <bpt id=\"p2\">**</bpt>Fields<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>FieldDimensionDefaultDisplayValue<ept id=\"p3\">**</ept>, and select the node for the <bpt id=\"p4\">**</bpt>FieldDimensionDefaultDisplayValue<ept id=\"p4\">**</ept> field.","source":"In the designer for **DimensionTestEntity**, expand **Fields** &gt; **FieldDimensionDefaultDisplayValue**, and select the node for the **FieldDimensionDefaultDisplayValue** field."},{"pos":[6549,6660],"content":"In the <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept> pane, change the value of the <bpt id=\"p2\">**</bpt>AccessModifier<ept id=\"p2\">**</ept> property from <bpt id=\"p3\">**</bpt>Private<ept id=\"p3\">**</ept> to <bpt id=\"p4\">**</bpt>Public<ept id=\"p4\">**</ept>.","source":"In the **Properties** pane, change the value of the **AccessModifier** property from **Private** to **Public**."},{"pos":[6667,6745],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Setting the AccessModifier property<ept id=\"p1\">](./media/dim10.png)](./media/dim10.png)</ept>","source":"[![Setting the AccessModifier property](./media/dim10.png)](./media/dim10.png)"},{"pos":[6755,6846],"content":"Override the <bpt id=\"p1\">**</bpt>persistEntity<ept id=\"p1\">**</ept> method on the data entity, and enter the following X++ code.","source":"Override the **persistEntity** method on the data entity, and enter the following X++ code."},{"pos":[6853,6931],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Overriding the persistEntity method<ept id=\"p1\">](./media/dim11.png)](./media/dim11.png)</ept>","source":"[![Overriding the persistEntity method](./media/dim11.png)](./media/dim11.png)"},{"pos":[6941,7012],"content":"For testing, see the existing unit test class, <bpt id=\"p1\">**</bpt>DimensionEntityTest<ept id=\"p1\">**</ept>.","source":"For testing, see the existing unit test class, **DimensionEntityTest**."},{"pos":[7017,7069],"content":"Manually configure and understand default dimensions","linkify":"Manually configure and understand default dimensions","nodes":[{"content":"Manually configure and understand default dimensions","pos":[0,52]}]},{"content":"This section describes how to add a dimension data source to a new entity.","pos":[7070,7144]},{"content":"The new entity requires the dimension display value from the dimension tables.","pos":[7145,7223]},{"content":"On a new entity, create a data source that has the property values that are shown in the following screen shot.","pos":[7229,7340]},{"content":"In particular, notice the settings for the properties that are described in the following table.","pos":[7341,7437]},{"content":"Property name","pos":[7445,7458]},{"content":"Property value","pos":[7461,7475]},{"content":"Description","pos":[7489,7500]},{"content":"Allow Add","pos":[7593,7602]},{"content":"No","pos":[7609,7611]},{"content":"Is Read Only","pos":[7667,7679]},{"content":"Yes","pos":[7683,7686]},{"content":"Join Mode","pos":[7741,7750]},{"content":"OuterJoin","pos":[7757,7766]},{"content":"Name","pos":[7815,7819]},{"content":"FieldDimensionDefaultDAVS","pos":[7831,7856]},{"content":"The value is derived by appending the four-character literal \"DAVS\" to the name of the SFK field from the data source.","pos":[7859,7977]},{"content":"Table","pos":[8026,8031]},{"content":"DimensionSetEntity","pos":[8042,8060]},{"content":"The name that you chose for the data entity for the data source.","pos":[8070,8134]},{"content":"The value that is shown here, <bpt id=\"p1\">**</bpt>DimensionSetEntity<ept id=\"p1\">**</ept>, is a framework dimension data entity for the DefaultDimension pattern.","pos":[8135,8259],"source":" The value that is shown here, **DimensionSetEntity**, is a framework dimension data entity for the DefaultDimension pattern."},{"pos":[8267,8332],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Data source properties<ept id=\"p1\">](./media/dim12.png)](./media/dim12.png)</ept>","source":"[![Data source properties](./media/dim12.png)](./media/dim12.png)"},{"content":"Create a private field for the dimension SFK.","pos":[8342,8387]},{"content":"For this entity field, the source field is the <bpt id=\"p1\">**</bpt>FieldDimensionDefault<ept id=\"p1\">**</ept> SFK field.","pos":[8388,8471],"source":" For this entity field, the source field is the **FieldDimensionDefault** SFK field."},{"pos":[8477,8540],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>dim13fixed<ept id=\"p1\">](./media/dim13fixed.png)](./media/dim13fixed.png)</ept>","source":"[![dim13fixed](./media/dim13fixed.png)](./media/dim13fixed.png)"},{"content":"Create a public field for the dimension display value, and bind it to the data source that you created in a previous step.","pos":[8550,8672]},{"content":"The name of the dimension display value field must be the private field name, to which the twelve-character literal “DisplayValue” is appended.","pos":[8673,8816]},{"pos":[8822,8885],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>dim14fixed<ept id=\"p1\">](./media/dim14fixed.png)](./media/dim14fixed.png)</ept>","source":"[![dim14fixed](./media/dim14fixed.png)](./media/dim14fixed.png)"},{"content":"Add an entity relation.","pos":[8895,8918]},{"content":"An entity relation will enable OData navigation between entities.","pos":[8919,8984]},{"content":"The name of the relation should be the name of the private dimension field name, to which “DimensionSet” is appended.","pos":[8985,9102]},{"content":"The public name for <bpt id=\"p1\">**</bpt>DimensionSetEntity<ept id=\"p1\">**</ept> is <bpt id=\"p2\">**</bpt>DimensionSet<ept id=\"p2\">**</ept>.","pos":[9103,9166],"source":" The public name for **DimensionSetEntity** is **DimensionSet**."},{"content":"Therefore, the navigation to that entity should have a meaningful name.","pos":[9167,9238]},{"content":"A good choice is the name of the dimension SFK plus “DimensionSet.”","pos":[9239,9306]},{"pos":[9312,9375],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>dim15fixed<ept id=\"p1\">](./media/dim15fixed.png)](./media/dim15fixed.png)</ept>","source":"[![dim15fixed](./media/dim15fixed.png)](./media/dim15fixed.png)"},{"pos":[9385,9457],"content":"Override the <bpt id=\"p1\">**</bpt>persistEntity<ept id=\"p1\">**</ept> method, and enter the following X++ code.","source":"Override the **persistEntity** method, and enter the following X++ code."},{"pos":[9464,9542],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Overriding the persistEntity method<ept id=\"p1\">](./media/dim16.png)](./media/dim16.png)</ept>","source":"[![Overriding the persistEntity method](./media/dim16.png)](./media/dim16.png)"}],"content":"---\n# required metadata\n\ntitle: Dimensions\ndescription: To support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 61\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 13461\nms.assetid: c2431895-0751-4a2a-96cb-f7df76c88f66\nms.search.region: Global\n# ms.search.industry: \nms.author: kuntalme\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Dimensions\n\nTo support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions.\n\nThe SFK and the Natural key\n---------------------------\n\nTo support different dimension patterns, a set of framework data entities has been created that can be used as data sources in other entities that involve dimensions. When this nesting of data entities occurs, the surrogate foreign key (SFK) and natural key of the dimensions data entity are treated differently. The following table describes the differences.\n\n| Key type    | Access modifier | Description, when the dimension entity is a data source on another entity|\n|-------------|-----------------|--------------------------------------------------------------------------|\n| SFK         | private         | As with any SFK, the SFK of the dimension is defined on the outer data entity as a private field.  |\n| Natural key | public          | The natural key of the dimension entity is exposed as a public string of dimension attribute values. The values are concatenated together but are separated by the account delimiter. The account delimiter is defined per partition. The concatenated string is used as a display value. The phrase “DisplayValue” is appended as a suffix to some fields of an entity, as explained later in this document. |\n\n## Reads and writes\n**Read:** On a read of the outer data entity, the public display value will be retrieved from a computed column by using the dimension entity of the framework. Because the read uses a computed column, it doesn't require any X++ logic for export scenarios. **Write:** On the creation or update of entity instance values, the public display value is resolved to the SFK to match the private field.\n\n### Examples\n\n**DimensionEntityTestEntity** is a test entity that has more than one dimension pattern. For the default dimension, you can focus on the **DimensionDefault** and **DimensionDefaultDisplayValue** fields, and ignore the rest.\n\n#### Read example\n\n[![Read example](./media/suba.png)](./media/suba.png)\n\n#### Write example\n\nThe entity exposes a default dimension field, **DimensionDefaultDisplayValue**. This is a display value field. You can set this field to a concatenated string value that is similar to the segmented entry control of the user interface. \n\n[![Write example](./media/subb.png)](./media/subb.png) **DisplayValue** resolves to **DefaultDimension** at run time.\n\n## Create an entity by using a wizard\nThis section describes how to create a data entity by using a wizard. We recommend that you use the wizard. It requires only that you select the SFK field of the dimension. The wizard creates the required data source, fields, and relations that have all the correct settings.\n\n1.  Click **File** &gt; **New** &gt; **Project** to create a new Microsoft Dynamics 365 for Operations project.\n2.  In Solution Explorer, right-click your project, and then click **Properties**. The **Property Pages** dialog box for your project opens.\n3.   In the **Property Pages** dialog box, follow these steps:\n    1.  Change the value of the **Model** property to **Application Suite Unit tests**, and then click **OK**. You must set this property only one time per project.\n    2.  Change the value of the **Synchronize database on build** property to **True**, and then click **OK**. You must set this property only one time per project.\n    \n    [![Setting the project properties](./media/dim2.png)](./media/dim2.png)\n\n4.  Create a new entity that is named **DimensionTestEntity**, and add it to the project. When you click the **Add** button, the **Data Entity View** wizard starts. Under **Installed**, then select **Dynamics 365 Artifacts**, then select select **Data Model**. Select **Data Entity** from the list. **Note:** A naming convention document is evolving that covers data entities and other items.\n5.  Specify the property values for the data entity that you're creating, as shown in the following screen shot. **Note:** The most important field is **Primary data source**, where you select **DimensionEntityTestTable**.\n\n    [![Setting the entity properties](./media/dim4.png)](./media/dim4.png) Click **Next**.\n    \n6.  Add fields to the entity from the primary data source, **DimensionEntityTestTable**:\n    1.  Clear the **Select all** check box to deselect all fields. \n    \n        [![Deselecting all fields](./media/dim5.png)](./media/dim5.png)\n        \n    2.  Manually select the check box for each of the following fields:\n        -   FieldDimensionDefault\n        -   FieldAlternativeKey\n\n        [![Selecting fields for the entity](./media/dim6.png)](./media/dim6.png)\n        \n    3.  Click **Finish** to add the new data entity to your project. A node for the entity appears in Solution Explorer. \n    \n        [![The entity node in Solution Explorer](./media/dim7.png)](./media/dim7.png)\n\n7.  Click **Build** &gt; **Build Solution** to build your project.\n8.  In the **Errors** pane, verify that the build was completed without any errors. At this stage in the process, warnings are tolerated.\n9.  Validate the properties of **DimensionTestEntity**. In Solution Explorer, select the **DimensionTestEntity** node, and compare the values in the **Properties** pane values to the values in the following screen shot. \n\n    [![Properties](./media/dim8.png)](./media/dim8.png)\n    \n10. In Solution Explorer, right-click the **DimensionTestEntity** node, and then click **Open**. The designer for the entity opens in the middle pane. \n\n    [![Entity designer](./media/dim9.png)](./media/dim9.png)\n    \n11. In the designer for **DimensionTestEntity**, expand **Fields** &gt; **FieldDimensionDefaultDisplayValue**, and select the node for the **FieldDimensionDefaultDisplayValue** field.\n12. In the **Properties** pane, change the value of the **AccessModifier** property from **Private** to **Public**. \n\n    [![Setting the AccessModifier property](./media/dim10.png)](./media/dim10.png)\n    \n13. Override the **persistEntity** method on the data entity, and enter the following X++ code. \n\n    [![Overriding the persistEntity method](./media/dim11.png)](./media/dim11.png)\n    \n14. For testing, see the existing unit test class, **DimensionEntityTest**.\n\n## Manually configure and understand default dimensions\nThis section describes how to add a dimension data source to a new entity. The new entity requires the dimension display value from the dimension tables.\n\n1.  On a new entity, create a data source that has the property values that are shown in the following screen shot. In particular, notice the settings for the properties that are described in the following table.\n\n    | Property name | Property value            | Description           |\n    |---------------|---------------------------|-----------------------|\n    | Allow Add     | No                        |                       |\n    | Is Read Only  | Yes                       |                       |\n    | Join Mode     | OuterJoin                 |                       |\n    | Name          | FieldDimensionDefaultDAVS | The value is derived by appending the four-character literal \"DAVS\" to the name of the SFK field from the data source.                                         |\n    | Table         | DimensionSetEntity        | The name that you chose for the data entity for the data source. The value that is shown here, **DimensionSetEntity**, is a framework dimension data entity for the DefaultDimension pattern. |\n\n    [![Data source properties](./media/dim12.png)](./media/dim12.png)\n    \n2.  Create a private field for the dimension SFK. For this entity field, the source field is the **FieldDimensionDefault** SFK field.\n\n    [![dim13fixed](./media/dim13fixed.png)](./media/dim13fixed.png)\n    \n3.  Create a public field for the dimension display value, and bind it to the data source that you created in a previous step. The name of the dimension display value field must be the private field name, to which the twelve-character literal “DisplayValue” is appended.\n\n    [![dim14fixed](./media/dim14fixed.png)](./media/dim14fixed.png)\n    \n4.  Add an entity relation. An entity relation will enable OData navigation between entities. The name of the relation should be the name of the private dimension field name, to which “DimensionSet” is appended. The public name for **DimensionSetEntity** is **DimensionSet**. Therefore, the navigation to that entity should have a meaningful name. A good choice is the name of the dimension SFK plus “DimensionSet.”\n\n    [![dim15fixed](./media/dim15fixed.png)](./media/dim15fixed.png)\n    \n5.  Override the **persistEntity** method, and enter the following X++ code. \n\n    [![Overriding the persistEntity method](./media/dim16.png)](./media/dim16.png)\n    \n\n\n"}