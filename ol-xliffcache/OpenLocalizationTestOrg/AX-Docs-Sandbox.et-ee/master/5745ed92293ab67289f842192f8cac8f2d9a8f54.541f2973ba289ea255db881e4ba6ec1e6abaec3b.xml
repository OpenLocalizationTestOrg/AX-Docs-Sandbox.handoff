{"nodes":[{"pos":[32,55],"content":"Images | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Images | Microsoft Docs","pos":[0,23]}]},{"pos":[69,260],"content":"This article describes the steps for displaying images on a page or in a grid. The article also provides background about some of the ways that images can be used, and the APIs that are used.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article describes the steps for displaying images on a page or in a grid. The article also provides background about some of the ways that images can be used, and the APIs that are used.","pos":[0,191],"nodes":[{"content":"This article describes the steps for displaying images on a page or in a grid.","pos":[0,78]},{"content":"The article also provides background about some of the ways that images can be used, and the APIs that are used.","pos":[79,191]}]}]},{"pos":[676,682],"content":"Images","linkify":"Images","nodes":[{"content":"Images","pos":[0,6]}]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> For accessibility, when you use an image to indicate status or show data, the image must be accompanied by a tooltip, enhanced preview, label, or other textual representation that describes the value or status that the image represents.","pos":[684,930],"source":"**Note:** For accessibility, when you use an image to indicate status or show data, the image must be accompanied by a tooltip, enhanced preview, label, or other textual representation that describes the value or status that the image represents."},{"content":"Unlike Microsoft Dynamics AX 2012, Microsoft Dynamics 365 for Operations doesn’t use embedded resources for images.","pos":[931,1046]},{"content":"Instead, it uses lightweight symbols.","pos":[1047,1084]},{"content":"The coding pattern has changed slightly to support the new image control.","pos":[1085,1158]},{"content":"For ImageList uses, the runtime accepts the old <bpt id=\"p1\">**</bpt>ImageID<ept id=\"p1\">**</ept> value and maps it to a symbol, so that existing code continues to work.","pos":[1159,1290],"source":" For ImageList uses, the runtime accepts the old **ImageID** value and maps it to a symbol, so that existing code continues to work."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> In some cases, there is no image even after runtime mapping, and this behavior is intentional.","pos":[1291,1395],"source":"**Note:** In some cases, there is no image even after runtime mapping, and this behavior is intentional."},{"content":"AX 2012 displays images in a grid column to indicate status.","pos":[1396,1456]},{"content":"These images were sometimes retrieved from embedded resources that are no longer available in Dynamics 365 for Operations .","pos":[1457,1580]},{"content":"AX 2012 offers the following storage options for images:","pos":[1581,1637]},{"content":"An embedded resource where images are offered as part of the kernel itself","pos":[1643,1717]},{"content":"An Application Object Server (AOS) resource where developers or independent software vendors (ISVs) can add their own image resources","pos":[1722,1855]},{"content":"A file location where developers or ISVs can load images at run time","pos":[1860,1928]},{"content":"A database field that is stored as a bitmap","pos":[1933,1976]},{"content":"The Dynamics 365 for Operations offers the following storage options for images:","pos":[1978,2058]},{"content":"An AOS resource where developers or ISVs can add their own image resources","pos":[2064,2138]},{"content":"A URL location where developers or ISVs can load images at run time","pos":[2143,2210]},{"content":"A database field that is stored as a container.","pos":[2215,2262]},{"content":"A symbol font, where images are rendered by name from the font","pos":[2267,2329]},{"content":"In Dynamics 365 for Operations, embedded resources (kernel resources) have been retired.","pos":[2331,2419]},{"content":"Images that are stored as AOS resources allow for the use of an image that isn't categorized as user data, and can be used with your application.","pos":[2420,2565]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> If there are legacy embedded resource images that UX has approved for use with Dynamics 365 for Operations, those embedded images can be manually transferred to an AOS resource and used in Dynamics 365 for Operations.","pos":[2566,2793],"source":"**Note:** If there are legacy embedded resource images that UX has approved for use with Dynamics 365 for Operations, those embedded images can be manually transferred to an AOS resource and used in Dynamics 365 for Operations."},{"content":"A typical web application maintains a collection of images on an Internet Information Services (IIS) server and just provides a URL to the image.","pos":[2794,2939]},{"content":"Although this approach is supported in Dynamics 365 for Operations, we don't expect that it will be used very much.","pos":[2940,3055]},{"content":"Instead, we expect that the symbol font will be used as an image source.","pos":[3056,3128]},{"content":"Of course, application logic will store an image in a database to allow for strong employee photos, product images, and so on, and this approach is a first-class experience in Dynamics 365 for Operations.","pos":[3129,3333]},{"content":"A symbol font is the most performant and scalable image format.","pos":[3334,3397]},{"content":"We expect that characters from the symbol font will be used for most application use cases (grid row by row status, button images, and so on).","pos":[3398,3540]},{"content":"For the list of symbols that are available in the symbol font, see <bpt id=\"p1\">[</bpt>Symbol font<ept id=\"p1\">](http://ax.help.dynamics.com/en/wiki/microsoft-dynamics-ax-symbol-font/)</ept>.","pos":[3541,3694],"source":" For the list of symbols that are available in the symbol font, see [Symbol font](http://ax.help.dynamics.com/en/wiki/microsoft-dynamics-ax-symbol-font/)."},{"pos":[3699,3717],"content":"Image type: Symbol","linkify":"Image type: Symbol","nodes":[{"content":"Image type: Symbol","pos":[0,18]}]},{"content":"Pros","pos":[3821,3825]},{"content":"Cons","pos":[3835,3839]},{"content":"Usually, the symbol font is the smallest payload to send to the client.","pos":[3898,3969]},{"content":"You can easily customize the images by using Cascading Style Sheets (CSS).","pos":[3979,4053]},{"content":"The symbol font should already be cached on the user's computer.","pos":[4063,4127]},{"content":"Therefore, no extra bandwidth is used, and there are no additional network requests that might slow down page loads.","pos":[4128,4244]},{"content":"Colors can be controlled by themes.","pos":[4254,4289]},{"content":"The images are automatically scaled on high-DPI displays.","pos":[4299,4356]},{"content":"A limited number of framework-defined symbols is available.","pos":[4377,4436]},{"content":"Design time","pos":[4470,4481]},{"content":"Run time","pos":[4491,4499]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Image location:<ept id=\"p1\">&lt;/strong&gt;</ept> Symbol <bpt id=\"p2\">&lt;strong&gt;</bpt>Typical image:<ept id=\"p2\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;quot;</ph>Person<ph id=\"ph2\">&amp;quot;</ph>","pos":[4532,4622],"source":"<strong>Image location:</strong> Symbol <strong>Typical image:</strong> &quot;Person&quot;"},{"content":"Sometimes, you don't have an image for a particular record in a grid, but you don't want an empty space where the image should be.","pos":[4632,4762]},{"content":"The following example shows how you can use a display method to check for an image value, and then substitute a placeholder image instead.","pos":[4763,4901]},{"pos":[5346,5369],"content":"Image type: AOTResource","linkify":"Image type: AOTResource","nodes":[{"content":"Image type: AOTResource","pos":[0,23]}]},{"content":"Pros","pos":[5473,5477]},{"content":"Cons","pos":[5487,5491]},{"content":"In addition to the pros of using URL images (see the next section), AOT resources are modeled and managed by the development tools.","pos":[5541,5672]},{"content":"A limited number of framework-defined images is available.","pos":[5682,5740]},{"content":"Design time","pos":[5774,5785]},{"content":"Run time","pos":[5795,5803]},{"content":"You just create a new resource and then save the image into the Application Object Tree (AOT) resource.","pos":[5836,5939]},{"content":"When you model your image control on a page, you specify the resource name, not the image name.","pos":[5940,6035]},{"content":"This approach is typically used for legacy images (icons) that don’t have equivalents in the symbol font.","pos":[6036,6141]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Image location:<ept id=\"p1\">&lt;/strong&gt;</ept> AOTResource <bpt id=\"p2\">&lt;strong&gt;</bpt>Typical image:<ept id=\"p2\">&lt;/strong&gt;</ept> <ph id=\"ph1\">&amp;quot;</ph>ResourceMicrosoft Dynamics AX<ph id=\"ph2\">&amp;quot;</ph> (a .jpg is added to resources)","pos":[6142,6291],"source":"<strong>Image location:</strong> AOTResource <strong>Typical image:</strong> &quot;ResourceMicrosoft Dynamics AX&quot; (a .jpg is added to resources)"},{"pos":[6556,6577],"content":"Image type: URL Image","linkify":"Image type: URL Image","nodes":[{"content":"Image type: URL Image","pos":[0,21]}]},{"content":"Pros","pos":[6681,6685]},{"content":"Cons","pos":[6695,6699]},{"content":"This approach provides an easy way to reference any image anywhere on web.","pos":[6758,6832]},{"content":"This approach supports full-color images.","pos":[6842,6883]},{"content":"The web browser can cache the image, based on the settings of the server that hosts the image.","pos":[6893,6987]},{"content":"The transfer size isn’t as small as it is for symbols, but it's reasonable.","pos":[7017,7092]},{"content":"The URL is sent as a string for each control that uses the image.","pos":[7093,7158]},{"content":"The browser then downloads the image from the URL, and from that point, standard browser caching rules apply.","pos":[7159,7268]},{"content":"You can’t easily theme the images by using CSS.","pos":[7278,7325]},{"content":"Unless the URL points to a Scalable Vector Graphics (SVG) file, the image isn't automatically scaled on high-DPI displays.","pos":[7335,7457]},{"content":"Design time","pos":[7502,7513]},{"content":"Run time","pos":[7523,7531]},{"content":"The following example shows an image that uses a URL that is contained in a string.","pos":[7574,7657]},{"content":"This code sends a small JavaScript Object Notation (JSON) message to the control on the client.","pos":[7827,7922],"source":"\nThis code sends a small JavaScript Object Notation (JSON) message to the control on the client."},{"content":"This message instructs the control to treat the image as a URL and let the browser do the work of downloading the image.","pos":[7923,8043]},{"content":"No download occurs on the server.","pos":[8044,8077]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Storing an image URL in a database table<ept id=\"p1\">&lt;/strong&gt;</ept> You can also have a container field for the image column on your table.","pos":[8078,8207],"source":"<strong>Storing an image URL in a database table</strong> You can also have a container field for the image column on your table."},{"content":"You can then use code that resembles the following example to store the <bpt id=\"p1\">&lt;strong&gt;</bpt>ImageReference<ept id=\"p1\">&lt;/strong&gt;</ept> pack.","pos":[8208,8317],"source":" You can then use code that resembles the following example to store the <strong>ImageReference</strong> pack."},{"content":"This code causes the user’s browser to download the image from the specified URL.","pos":[8605,8686],"source":"\nThis code causes the user’s browser to download the image from the specified URL."},{"content":"The use of ImageReference involves some overhead, but this approach lets you use a single application programming interface (API) to handle images that are created from binary data, URLs, AOT resources, or symbols.","pos":[8687,8901]},{"content":"You can even mix and match image types between rows of data.","pos":[8902,8962]},{"pos":[8996,9020],"content":"Image type: Binary Image","linkify":"Image type: Binary Image","nodes":[{"content":"Image type: Binary Image","pos":[0,24]}]},{"content":"Pros","pos":[9124,9128]},{"content":"Cons","pos":[9138,9142]},{"content":"Usually, this approach offers the easiest migration if the <bpt id=\"p1\">&lt;strong&gt;</bpt>Image<ept id=\"p1\">&lt;/strong&gt;</ept> class in X++ was already used, or if binary images were previously stored in the database.","pos":[9192,9364],"source":"Usually, this approach offers the easiest migration if the <strong>Image</strong> class in X++ was already used, or if binary images were previously stored in the database."},{"content":"This approach involves the largest transfer size, because the binary image is encoded as a string and sent to the client as part of the interaction.","pos":[9383,9531]},{"content":"The browser can't cache the images.","pos":[9541,9576]},{"content":"For a grid, the binary-encoded image is sent for every row, even if multiple rows use the same image.","pos":[9586,9687]},{"content":"Therefore, this approach can lead to very large transfer sizes in the interactions.","pos":[9688,9771]},{"content":"You can't easily theme the images by using CSS.","pos":[9781,9828]},{"content":"The images aren't automatically scaled on high-DPI displays.","pos":[9838,9898]},{"content":"Design time","pos":[9943,9954]},{"content":"Run time","pos":[9964,9972]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Using a database field<ept id=\"p1\">&lt;/strong&gt;</ept> This approach is typically used to display data, such as employee pictures and product images.","pos":[10005,10139],"source":"<strong>Using a database field</strong> This approach is typically used to display data, such as employee pictures and product images."},{"content":"You can bind directly to a field, or you can use a display method.","pos":[10140,10206]},{"content":"Data Source Data Field Data Method","pos":[10207,10241]},{"content":"Typically, the images are loaded from database, and no additional code is required.","pos":[10251,10334]},{"content":"For cases where the image is managed in a data method, see the data method examples.","pos":[10335,10419]},{"pos":[10453,10500],"content":"Display methods and images (three return types)","linkify":"Display methods and images (three return types)","nodes":[{"content":"Display methods and images (three return types)","pos":[0,47]}]},{"content":"When you use a display method for an image type to show an image in a grid, three return types are understood by the image control that works with the framework.","pos":[10501,10662]},{"content":"All three return types can be used to display an image.","pos":[10663,10718]},{"content":"Int (imagelist array index)","pos":[10724,10751]},{"content":"Container (image instance)","pos":[10756,10782]},{"content":"ResID (which is mapped to a symbol)","pos":[10787,10822]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> ResID and Int are the same return types.","pos":[10824,10874],"source":"**Note:** ResID and Int are the same return types."},{"content":"If the <bpt id=\"p1\">**</bpt>imageList<ept id=\"p1\">**</ept> property of the image control instance has been assigned an instance value, the display method return value is considered an array index into the imagelist.","pos":[10875,11052],"source":" If the **imageList** property of the image control instance has been assigned an instance value, the display method return value is considered an array index into the imagelist."},{"content":"If the <bpt id=\"p1\">**</bpt>imageList<ept id=\"p1\">**</ept> property is <bpt id=\"p2\">**</bpt>null<ept id=\"p2\">**</ept>, the return value is used to map a legacy ResID to a symbol.","pos":[11053,11155],"source":" If the **imageList** property is **null**, the return value is used to map a legacy ResID to a symbol."},{"pos":[11160,11212],"content":"Images in a grid and the legacy ImageList collection","linkify":"Images in a grid and the legacy ImageList collection","nodes":[{"content":"Images in a grid and the legacy ImageList collection","pos":[0,52]}]},{"content":"In AX 2012 and earlier versions, a common use pattern for displaying images is to store an image as a resource or use a kernel-supplied image resource, and then at run time, extract that image and place it in a reusable collection that is known as an ImageList.","pos":[11213,11474]},{"content":"For Dynamics 365 for Operations, the guidance is to use lighter-weight symbol images.","pos":[11475,11560]},{"content":"You should rewrite all legacy code so that it uses symbols directly.","pos":[11561,11629]},{"content":"You should also replace all code that uses the ImageList collection.","pos":[11630,11698]},{"content":"If you don't make these changes, the legacy ImageList collection won't display images, because use of this collection relies on embedded (kernel) resources that no longer exist in Dynamics 365 for Operations.","pos":[11699,11907]},{"content":"Therefore, to support legacy code until it can be updated, the ImageList collection maps the ResID for an embedded resource to a new font-based symbol to help guarantee that any code that uses the ImageList collection will continue to run and provide an image.","pos":[11908,12168]},{"pos":[12173,12228],"content":"Using the imageList property for backward compatibility","linkify":"Using the imageList property for backward compatibility","nodes":[{"content":"Using the imageList property for backward compatibility","pos":[0,55]}]},{"content":"An image control has a property that is named <bpt id=\"p1\">**</bpt>imageList<ept id=\"p1\">**</ept>.","pos":[12229,12289],"source":"An image control has a property that is named **imageList**."},{"content":"You pass in an instance of the ImageList collection to this property.","pos":[12290,12359]},{"content":"In this way, the image is an array of images that you select via the array number.","pos":[12360,12442]},{"pos":[13616,13682],"content":"Display method that returns an ImageRes (legacy image resource ID)","linkify":"Display method that returns an ImageRes (legacy image resource ID)","nodes":[{"content":"Display method that returns an ImageRes (legacy image resource ID)","pos":[0,66]}]},{"pos":[14636,14675],"content":"Display method that returns a container","linkify":"Display method that returns a container","nodes":[{"content":"Display method that returns a container","pos":[0,39]}]},{"pos":[15668,15736],"content":"Obtaining and displaying an image from the user by using file upload","linkify":"Obtaining and displaying an image from the user by using file upload","nodes":[{"content":"Obtaining and displaying an image from the user by using file upload","pos":[0,68]}]},{"pos":[15737,15804],"content":"Model a page that has an image control and a <bpt id=\"p1\">**</bpt>FileUpload<ept id=\"p1\">**</ept> button.","source":"Model a page that has an image control and a **FileUpload** button."},{"pos":[17778,17817],"content":"Example of inmemory bitmap manipulation","linkify":"Example of inmemory bitmap manipulation","nodes":[{"content":"Example of inmemory bitmap manipulation","pos":[0,39]}]},{"content":"In this example, an image is created from scratch.","pos":[17818,17868]},{"content":"However, developers can also load a bitmap from an alternative source and then manipulate the image as desired (for example, by cropping, stretching, or resizing, or by changing the opacity).","pos":[17869,18060]},{"content":"After any manipulation is completed, the developers can display the image by using the image control, or they can assign it to a data source field.","pos":[18061,18208]},{"pos":[19963,20008],"content":"Additional examples (URL, binary, and symbol)","linkify":"Additional examples (URL, binary, and symbol)","nodes":[{"content":"Additional examples (URL, binary, and symbol)","pos":[0,45]}]},{"content":"The following table explains two concepts: Image Class and FormImageControl.","pos":[20009,20085]},{"content":"Image Class","pos":[20207,20218]},{"content":"This class is a run-time representation of an image.","pos":[20228,20280]},{"content":"Four constructors:","pos":[20290,20308],"source":"Four constructors:\n"},{"content":"Image::ConstructBinary(INT64Encode);","pos":[20318,20354]},{"content":"Image::ConstructSymbol(SymbolName);","pos":[20364,20399]},{"content":"Image::ConstructURL(URL);","pos":[20409,20434]},{"content":"Image::Construct(ResourceName);","pos":[20444,20475]},{"content":"FormImageControl","pos":[20520,20536]},{"content":"This control is used to add an image at run time.","pos":[20546,20595]},{"content":".image(new image());","pos":[20605,20625]},{"pos":[20659,20716],"content":"Using a display method to show an image from a URL string","linkify":"Using a display method to show an image from a URL string","nodes":[{"content":"Using a display method to show an image from a URL string","pos":[0,57]}]},{"content":"In this example, a display method is used to translate a string that contains a URL to the format that the image control expects.","pos":[20717,20846]},{"content":"This code sends a small JSON message to the control on the client.","pos":[21022,21088]},{"content":"This message instructs the control to treat the image as a URL and let the browser do the work of downloading the image.","pos":[21089,21209]},{"content":"No download occurs on the server.","pos":[21210,21243]},{"pos":[21248,21292],"content":"Using a display method to show a blank image","linkify":"Using a display method to show a blank image","nodes":[{"content":"Using a display method to show a blank image","pos":[0,44]}]},{"content":"There might be times when you have no image for a particular record in a grid, but you don't want an empty space where the image should be.","pos":[21293,21432]},{"content":"This example shows how you can use a display method to check for an image value and then substitute a placeholder image instead.","pos":[21433,21561]},{"pos":[22353,22403],"content":"Taking an image URL and storing the image in table","linkify":"Taking an image URL and storing the image in table","nodes":[{"content":"Taking an image URL and storing the image in table","pos":[0,50]}]},{"content":"You can have a container field for the image column on your table.","pos":[22404,22470]},{"content":"You can then use code that resembles the following example to store the <bpt id=\"p1\">**</bpt>ImageReference<ept id=\"p1\">**</ept> pack.","pos":[22471,22567],"source":" You can then use code that resembles the following example to store the **ImageReference** pack."},{"content":"Like the display method that is described in the \"Using a display method to show an image from a URL string\" section, this code causes the user's browser to download the image from the specified URL.","pos":[22850,23049]},{"content":"Although this approach involves some overhead, you can use a single API to handle images that are created from binary data, URLs, AOT resources, or symbols.","pos":[23050,23206]},{"content":"You can even mix and match image types between rows of data.","pos":[23207,23267]}],"content":"---\n# required metadata\n\ntitle: Images | Microsoft Docs\ndescription: This article describes the steps for displaying images on a page or in a grid. The article also provides background about some of the ways that images can be used, and the APIs that are used. \n\nauthor: annbe\nmanager: AnnBe\nms.date: 2016-02-26 02:17:20\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: 61\nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 55871\nms.assetid: 961b603c-0623-40f4-b04d-2654a2079f9f\n# ms.region: \n# ms.industry: \nms.author: RobinARH\n\n---\n\n# Images\n\n**Note:** For accessibility, when you use an image to indicate status or show data, the image must be accompanied by a tooltip, enhanced preview, label, or other textual representation that describes the value or status that the image represents. Unlike Microsoft Dynamics AX 2012, Microsoft Dynamics 365 for Operations doesn’t use embedded resources for images. Instead, it uses lightweight symbols. The coding pattern has changed slightly to support the new image control. For ImageList uses, the runtime accepts the old **ImageID** value and maps it to a symbol, so that existing code continues to work. **Note:** In some cases, there is no image even after runtime mapping, and this behavior is intentional. AX 2012 displays images in a grid column to indicate status. These images were sometimes retrieved from embedded resources that are no longer available in Dynamics 365 for Operations . AX 2012 offers the following storage options for images:\n\n-   An embedded resource where images are offered as part of the kernel itself\n-   An Application Object Server (AOS) resource where developers or independent software vendors (ISVs) can add their own image resources\n-   A file location where developers or ISVs can load images at run time\n-   A database field that is stored as a bitmap\n\nThe Dynamics 365 for Operations offers the following storage options for images:\n\n-   An AOS resource where developers or ISVs can add their own image resources\n-   A URL location where developers or ISVs can load images at run time\n-   A database field that is stored as a container.\n-   A symbol font, where images are rendered by name from the font\n\nIn Dynamics 365 for Operations, embedded resources (kernel resources) have been retired. Images that are stored as AOS resources allow for the use of an image that isn't categorized as user data, and can be used with your application. **Note:** If there are legacy embedded resource images that UX has approved for use with Dynamics 365 for Operations, those embedded images can be manually transferred to an AOS resource and used in Dynamics 365 for Operations. A typical web application maintains a collection of images on an Internet Information Services (IIS) server and just provides a URL to the image. Although this approach is supported in Dynamics 365 for Operations, we don't expect that it will be used very much. Instead, we expect that the symbol font will be used as an image source. Of course, application logic will store an image in a database to allow for strong employee photos, product images, and so on, and this approach is a first-class experience in Dynamics 365 for Operations. A symbol font is the most performant and scalable image format. We expect that characters from the symbol font will be used for most application use cases (grid row by row status, button images, and so on). For the list of symbols that are available in the symbol font, see [Symbol font](http://ax.help.dynamics.com/en/wiki/microsoft-dynamics-ax-symbol-font/).\n\n## Image type: Symbol\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Pros</th>\n<th>Cons</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><ul>\n<li>Usually, the symbol font is the smallest payload to send to the client.</li>\n<li>You can easily customize the images by using Cascading Style Sheets (CSS).</li>\n<li>The symbol font should already be cached on the user's computer. Therefore, no extra bandwidth is used, and there are no additional network requests that might slow down page loads.</li>\n<li>Colors can be controlled by themes.</li>\n<li>The images are automatically scaled on high-DPI displays.</li>\n</ul></td>\n<td>A limited number of framework-defined symbols is available.</td>\n</tr>\n<tr class=\"even\">\n<td>Design time</td>\n<td>Run time</td>\n</tr>\n<tr class=\"odd\">\n<td><strong>Image location:</strong> Symbol <strong>Typical image:</strong> &quot;Person&quot;</td>\n<td>Sometimes, you don't have an image for a particular record in a grid, but you don't want an empty space where the image should be. The following example shows how you can use a display method to check for an image value, and then substitute a placeholder image instead.\n<pre><code>public display container customerImage()\n{\n    ImageReference imgRef;\n    container imgContainer = this.Image;\n    if(imgContainer == connull())  // there is no image… the container is null\n    {\n        // show a generic person outline image\n        imgRef = ImageReference::constructForSymbol(&quot;Person&quot;);\n        imgContainer = imgRef.pack();\n    }\n    return imgContainer;\n}</code></pre></td>\n</tr>\n</tbody>\n</table>\n\n## Image type: AOTResource\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Pros</th>\n<th>Cons</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>In addition to the pros of using URL images (see the next section), AOT resources are modeled and managed by the development tools.</td>\n<td>A limited number of framework-defined images is available.</td>\n</tr>\n<tr class=\"even\">\n<td>Design time</td>\n<td>Run time</td>\n</tr>\n<tr class=\"odd\">\n<td>You just create a new resource and then save the image into the Application Object Tree (AOT) resource. When you model your image control on a page, you specify the resource name, not the image name. This approach is typically used for legacy images (icons) that don’t have equivalents in the symbol font. <strong>Image location:</strong> AOTResource <strong>Typical image:</strong> &quot;ResourceMicrosoft Dynamics AX&quot; (a .jpg is added to resources)</td>\n<td><pre><code>public display container imageDataMethod()\n{\n    ImageReference imgClass = \n        ImageReference::constructForAotResource(&quot;ResourceMicrosoft Dynamics AX&quot;);\n    return imgClass.pack();\n}</code></pre></td>\n</tr>\n</tbody>\n</table>\n\n## Image type: URL Image\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Pros</th>\n<th>Cons</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td><ul>\n<li>This approach provides an easy way to reference any image anywhere on web.</li>\n<li>This approach supports full-color images.</li>\n<li>The web browser can cache the image, based on the settings of the server that hosts the image.</li>\n</ul></td>\n<td><ul>\n<li>The transfer size isn’t as small as it is for symbols, but it's reasonable. The URL is sent as a string for each control that uses the image. The browser then downloads the image from the URL, and from that point, standard browser caching rules apply.</li>\n<li>You can’t easily theme the images by using CSS.</li>\n<li>Unless the URL points to a Scalable Vector Graphics (SVG) file, the image isn't automatically scaled on high-DPI displays.</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td>Design time</td>\n<td>Run time</td>\n</tr>\n<tr class=\"odd\">\n<td></td>\n<td>The following example shows an image that uses a URL that is contained in a string.\n<pre><code>public display container imageDataMethod()\n{\nImageReference imgClass = ImageReference::constructForUrl(this.ImageURL);\nreturn imgClass.pack();\n}</code></pre>\nThis code sends a small JavaScript Object Notation (JSON) message to the control on the client. This message instructs the control to treat the image as a URL and let the browser do the work of downloading the image. No download occurs on the server. <strong>Storing an image URL in a database table</strong> You can also have a container field for the image column on your table. You can then use code that resembles the following example to store the <strong>ImageReference</strong> pack.\n<pre><code>ImageReference imgClass;\nCLIControls_ImageTable imgTable;\nttsbegin;\nimgClass = ImageReference::constructForUrl(\n    &quot;\n    http://dynamics/PublishingImages/ERPLogos/DynamicsLogo.jpg&quot;);\nimgTable.ImageField = imgClass.pack();\nimgTable.insert();\nttscommit;</code></pre>\nThis code causes the user’s browser to download the image from the specified URL. The use of ImageReference involves some overhead, but this approach lets you use a single application programming interface (API) to handle images that are created from binary data, URLs, AOT resources, or symbols. You can even mix and match image types between rows of data.</td>\n</tr>\n</tbody>\n</table>\n\n## Image type: Binary Image\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Pros</th>\n<th>Cons</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Usually, this approach offers the easiest migration if the <strong>Image</strong> class in X++ was already used, or if binary images were previously stored in the database.</td>\n<td><ul>\n<li>This approach involves the largest transfer size, because the binary image is encoded as a string and sent to the client as part of the interaction.</li>\n<li>The browser can't cache the images.</li>\n<li>For a grid, the binary-encoded image is sent for every row, even if multiple rows use the same image. Therefore, this approach can lead to very large transfer sizes in the interactions.</li>\n<li>You can't easily theme the images by using CSS.</li>\n<li>The images aren't automatically scaled on high-DPI displays.</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td>Design time</td>\n<td>Run time</td>\n</tr>\n<tr class=\"odd\">\n<td><strong>Using a database field</strong> This approach is typically used to display data, such as employee pictures and product images. You can bind directly to a field, or you can use a display method. Data Source Data Field Data Method</td>\n<td>Typically, the images are loaded from database, and no additional code is required. For cases where the image is managed in a data method, see the data method examples.</td>\n</tr>\n</tbody>\n</table>\n\n## Display methods and images (three return types)\nWhen you use a display method for an image type to show an image in a grid, three return types are understood by the image control that works with the framework. All three return types can be used to display an image.\n\n-   Int (imagelist array index)\n-   Container (image instance)\n-   ResID (which is mapped to a symbol)\n\n**Note:** ResID and Int are the same return types. If the **imageList** property of the image control instance has been assigned an instance value, the display method return value is considered an array index into the imagelist. If the **imageList** property is **null**, the return value is used to map a legacy ResID to a symbol.\n\n## Images in a grid and the legacy ImageList collection\nIn AX 2012 and earlier versions, a common use pattern for displaying images is to store an image as a resource or use a kernel-supplied image resource, and then at run time, extract that image and place it in a reusable collection that is known as an ImageList. For Dynamics 365 for Operations, the guidance is to use lighter-weight symbol images. You should rewrite all legacy code so that it uses symbols directly. You should also replace all code that uses the ImageList collection. If you don't make these changes, the legacy ImageList collection won't display images, because use of this collection relies on embedded (kernel) resources that no longer exist in Dynamics 365 for Operations. Therefore, to support legacy code until it can be updated, the ImageList collection maps the ResID for an embedded resource to a new font-based symbol to help guarantee that any code that uses the ImageList collection will continue to run and provide an image.\n\n## Using the imageList property for backward compatibility\nAn image control has a property that is named **imageList**. You pass in an instance of the ImageList collection to this property. In this way, the image is an array of images that you select via the array number.\n\n    public void init()\n    {\n        int imgCnt;\n        // create an imagelist instance\n        Imagelist imageList = new ImageList(ImageList::smallIconWidth(), Imagelist::smallIconHeight());\n        super();\n        // add images to the instance (return value is not needed)\n        // Note that a legacy ResID is used in the new Image contstructor. \n        // This is a compatibility mapping of resource to symbol.\n        imgCnt = imagelist.add(new Image(#ImageInfo));\n        imgCnt = imagelist.add(new Image(#ImageWarning));\n        imgCnt = imagelist.add(new Image(#ImageError));\n        // pass the image list instance to the control\n        ImageListDM.imageList(imageList);\n    }\n    // at runtime, select the image you want to show: when the control has an imagelist instance, \n    // this int value is used to index into that array\n    public display int imageListDataMethod()\n    {\n        int imgCnt = imageCnt mod 3;\n        imageCnt++;\n        return imgCnt;\n    }\n    /*\n       Note: The legacy image resource ID's #ImageInfo, #ImageWarning, #ImageError are mapped from the legacy resource id to a symbol name in the X++\n    class ImageLoader\n    */\n\n## Display method that returns an ImageRes (legacy image resource ID)\n    // this is an example of backward compatibility the use of ImageRes will become obsolete\n    display ImageRes checkIfError(HRMCompEventEmpl _hrmCompEventEmpl)\n    {\n        if (!_hrmCompEventEmpl.RecId)\n        {\n            return 0;\n        }\n        if (_hrmCompEventEmpl.Status == HRMCompEventEmplStatus::Ignore   ||\n        _hrmCompEventEmpl.Status == HRMCompEventEmplStatus::Approved ||\n        _hrmCompEventEmpl.Status == HRMCompEventEmplStatus::Loaded)\n        {\n            return 0;\n        }\n        else\n        {\n            if (_hrmCompEventEmpl.ErrorStatus == HRMCompEventErrorStatus::Error)\n        {\n            return #ImageError;\n        }\n        if (_hrmCompEventEmpl.ErrorStatus == HRMCompEventErrorStatus::Warning)\n        {\n            return #ImageWarning;\n        }\n        if (_hrmCompEventEmpl.ErrorStatus == HRMCompEventErrorStatus::Info)\n        {\n            return #ImageInfo;\n        }\n    }\n    return 0;\n    }\n\n## Display method that returns a container\n    public display container checkIfError(HRMCompEventEmpl _hrmCompEventEmpl)\n    {\n        ImageReference  imageReference;\n        container       imageContainer;\n        if (_hrmCompEventEmpl.RecId && _hrmCompEventEmpl.Status == HRMCompEventEmplStatus::Created)\n        {\n            switch (_hrmCompEventEmpl.ErrorStatus)\n            {\n                case HRMCompEventErrorStatus::Error:\n                    imageReference = ImageReference::constructForSymbol('Error');\n                    break;\n                case HRMCompEventErrorStatus::Warning:\n                    imageReference = ImageReference::constructForSymbol('Warning');\n                    break;\n                case HRMCompEventErrorStatus::Info:\n                    imageReference = ImageReference::constructForSymbol('Info');\n                    break;\n            }\n        }\n        if (imageReference)\n        {\n            imageContainer = imageReference.pack();\n        }\n        return imageContainer;\n    }\n\n## Obtaining and displaying an image from the user by using file upload\nModel a page that has an image control and a **FileUpload** button.\n\n    // model a new FileUpload control (style=minimal)\n    // class declaration\n    FileUpload uploadControl;\n    // form init() create a callback event handler to be notified when upload is complete\n    public void init()\n    {\n        //when uploading an image, this method is called upon completion.\n        uploadControl = FileUpload1;\n        uploadControl.notifyUploadCompleted +=  eventhandler(this.UploadCompleted);\n    }\n    // form close() release the callback event handler\n    public void close()\n    {\n        // when the form closes, release the eventhandler for file upload callback\n        //  FileUpload uploadControl;\n        super();\n        //  uploadControl = FileUpload1;\n        uploadControl.notifyUploadCompleted -=  eventhandler(this.UploadCompleted);\n    }\n    // when the upload completes, grab the image and store it in the database\n    /// <summary> \n    /// This method is called by the file upload mechanism, when the upload completes\n    /// </summary>\n    public void UploadCompleted()\n    {\n        Binary binaryImage;\n        System.Net.WebClient webClient;\n        System.IO.MemoryStream stream;\n        String255 myUrl;\n        if(uploadControl.uploadSuccess())\n        {\n            InteropPermission perm = new InteropPermission(InteropKind::ClrInterop);\n            perm.assert();\n            // BP Deviation Documented\n            webClient = new System.Net.WebClient();\n            // BP Deviation Documented\n            // if success, downloadURL contains the path to the Azure blob location for the file\n            stream = new System.IO.MemoryStream(webClient.DownloadData(uploadControl.downloadUrl()));\n            // grab the data and assign to the image field\n            binaryImage = Binary::constructFromMemoryStream(stream);\n            // assign to the database field (type=container)\n            FMVehicleModel.Image = binaryImage.getContainer();\n            CodeAccessPermission::revertAssert();\n        }\n    }\n\n## Example of inmemory bitmap manipulation\nIn this example, an image is created from scratch. However, developers can also load a bitmap from an alternative source and then manipulate the image as desired (for example, by cropping, stretching, or resizing, or by changing the opacity). After any manipulation is completed, the developers can display the image by using the image control, or they can assign it to a data source field.\n\n    public void clicked()\n    {\n        Binary binaryImage;\n        Image  image;\n        int x,y;\n        super();\n        InteropPermission perm = new InteropPermission(InteropKind::ClrInterop);\n        perm.assert();\n        /* \n        In this example, we’ll create a bitmap programmatically, we’ll use a memory\n        Stream o’bytes to then convert to the container format the image control expects.\n        */\n        System.Drawing.Bitmap bitmap = new System.Drawing.Bitmap(100,100);\n        System.IO.MemoryStream myStream = new System.IO.MemoryStream();\n        // draw some stuff (or load a bitmap from an alternative source)\n        for( x=0; x < bitmap.Height; ++x)\n        {\n            for( y=0; y< bitmap.Width; ++y)\n            {\n                bitmap.SetPixel(x,y,System.Drawing.Color::White);\n            }\n        }\n        for(x=0; x < bitmap.Height; ++x)\n        {\n            bitmap.SetPixel(x,x, System.Drawing.Color::Red);\n        }\n        // move our bitmap to an in memory stream\n        bitmap.Save(myStream, System.Drawing.Imaging.ImageFormat::Bmp);\n        // stream goes to raw binary\n        binaryImage = Binary::constructFromMemoryStream(myStream);\n        // create a blank image and copy our binary data to the image format\n        image = new Image();\n        image.setData(binaryImage.getContainer());\n        // copy the image data to the image control\n        MyImage.image(image);\n        // alternatively, skip the image conversion step and assign directly to the data field\n        binaryImage = Binary::constructFromMemoryStream(myStream);\n        // assign to the database field (type=container)\n        datafield.Image = binaryImage.getContainer();\n        CodeAccessPermission::revertAssert();\n    }\n\n## Additional examples (URL, binary, and symbol)\nThe following table explains two concepts: Image Class and FormImageControl.\n\n<table>\n<colgroup>\n<col width=\"33%\" />\n<col width=\"33%\" />\n<col width=\"33%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td>Image Class</td>\n<td>This class is a run-time representation of an image.</td>\n<td>Four constructors:\n<ul>\n<li>Image::ConstructBinary(INT64Encode);</li>\n<li>Image::ConstructSymbol(SymbolName);</li>\n<li>Image::ConstructURL(URL);</li>\n<li>Image::Construct(ResourceName);</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td>FormImageControl</td>\n<td>This control is used to add an image at run time.</td>\n<td>.image(new image());</td>\n</tr>\n</tbody>\n</table>\n\n## Using a display method to show an image from a URL string\nIn this example, a display method is used to translate a string that contains a URL to the format that the image control expects.\n\n    public display container imageDataMethod()\n    {\n        ImageReference imgClass = ImageReference::constructForUrl(this.ImageURL);\n        return imgClass.pack();\n    }\n\nThis code sends a small JSON message to the control on the client. This message instructs the control to treat the image as a URL and let the browser do the work of downloading the image. No download occurs on the server.\n\n## Using a display method to show a blank image\nThere might be times when you have no image for a particular record in a grid, but you don't want an empty space where the image should be. This example shows how you can use a display method to check for an image value and then substitute a placeholder image instead.\n\n    public display container customerImage()\n    {\n        ImageReference imgRef;\n        container imgContainer = this.Image;\n        if(imgContainer == connull())  // there is no image… the container is null\n        {\n            imgRef = ImageReference::constructForSymbol(\"Person\");  // show a generic person outline image\n            imgContainer = imgRef.pack();\n        }\n        return imgContainer;\n    }\n    public display container statusImageDataMethod()\n    {\n        ImageReference statusImage;\n        if (this.Status == NoYes::Yes)\n        {\n            statusImage = ImageReference::constructForSymbol(\"Accept\");\n        }\n        else\n        {\n            statusImage = ImageReference::constructForSymbol(\"Cancel\");\n        }\n        return statusImage.pack();\n    }\n\n## Taking an image URL and storing the image in table\nYou can have a container field for the image column on your table. You can then use code that resembles the following example to store the **ImageReference** pack.\n\n    ImageReference imgClass;\n    CLIControls_ImageTable imgTable;\n    ttsbegin;\n    imgClass = ImageReference::constructForUrl(\n        \"http://dynamics/PublishingImages/ERPLogos/DynamicsLogo.jpg\");\n    imgTable.ImageField = imgClass.pack();\n    imgTable.insert();\n    ttscommit;\n\nLike the display method that is described in the \"Using a display method to show an image from a URL string\" section, this code causes the user's browser to download the image from the specified URL. Although this approach involves some overhead, you can use a single API to handle images that are created from binary data, URLs, AOT resources, or symbols. You can even mix and match image types between rows of data.\n\n"}