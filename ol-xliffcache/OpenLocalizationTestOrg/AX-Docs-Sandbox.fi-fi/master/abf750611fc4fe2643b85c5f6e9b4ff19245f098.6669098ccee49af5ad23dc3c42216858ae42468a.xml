{"nodes":[{"pos":[32,97],"content":"Retail Modern POS configuration and installation | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Retail Modern POS configuration and installation | Microsoft Docs","pos":[0,65]}]},{"pos":[111,296],"content":"This topic describes how to configure, download, and install Retail Modern POS on a variety of platforms.  It then describes how to activate Retail Modern POS through device activation.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes how to configure, download, and install Retail Modern POS on a variety of platforms.  It then describes how to activate Retail Modern POS through device activation.","pos":[0,185],"nodes":[{"content":"This topic describes how to configure, download, and install Retail Modern POS on a variety of platforms.","pos":[0,105]},{"content":"It then describes how to activate Retail Modern POS through device activation.","pos":[107,185]}]}]},{"pos":[465,532],"content":"RetailChannelManagementWorkspace, RetailDevice, RetailTerminalTable","needQuote":true,"needEscape":true,"nodes":[{"content":"RetailChannelManagementWorkspace, RetailDevice, RetailTerminalTable","pos":[0,67]}]},{"pos":[785,833],"content":"Retail Modern POS configuration and installation","linkify":"Retail Modern POS configuration and installation","nodes":[{"content":"Retail Modern POS configuration and installation","pos":[0,48]}]},{"pos":[835,845],"content":"Technology","linkify":"Technology","nodes":[{"content":"Technology","pos":[0,10]}]},{"content":"The self-service process lets you download the appropriate version of the Retail Modern POS installer and install it on the physical device that you want to use for the point of sale register.","pos":[858,1050]},{"content":"Device activation is the main onboarding step to tie the physical device to a register in the Microsoft Dynamics 365 for Operations - Retail Headquarters.","pos":[1051,1205]},{"content":"Here are the main technical functions of this feature:","pos":[1206,1260]},{"content":"Tie a physical device to a business entity (register).","pos":[1266,1320]},{"content":"Provide enhanced security through Azure Active Directory (AAD) and a device token/ID.","pos":[1325,1410]},{"content":"Stop unauthorized remote use of Retail Modern POS (deactivate device remotely).","pos":[1415,1494]},{"content":"Initialize settings for easy Retail Modern POS functioning (number sequence, hardware profile, merchant information) as the first touch point of the POS.","pos":[1499,1652]},{"content":"Comply with payment card industry (PCI) standards and report on device information from Operations headquarters.","pos":[1657,1769]},{"pos":[1774,1779],"content":"Setup","linkify":"Setup","nodes":[{"content":"Setup","pos":[0,5]}]},{"content":"Before you start the steps outlined in this article, follow these steps:","pos":[1780,1852]},{"content":"Verify that you have Azure AD credentials that you can use to sign in to Dynamics 365 for Operations Headquarters.","pos":[1858,1972]},{"content":"Verify that you have administrative or root access to install the Retail Modern POS program on a device.","pos":[1977,2081]},{"content":"Verify that you can access the Retail Server from the device.","pos":[2086,2147]},{"pos":[2152,2331],"content":"Verify that the Dynamics 365 for Operations environment contains the Retail permission groups and jobs in the <bpt id=\"p1\">**</bpt>Human resources<ept id=\"p1\">**</ept> module, given as part of the demo data installed.","source":"Verify that the Dynamics 365 for Operations environment contains the Retail permission groups and jobs in the **Human resources** module, given as part of the demo data installed."},{"pos":[2336,2374],"content":"Download and install Retail Modern POS","linkify":"Download and install Retail Modern POS","nodes":[{"content":"Download and install Retail Modern POS","pos":[0,38]}]},{"pos":[2379,2425],"content":"Verify that the device is correctly configured","linkify":"Verify that the device is correctly configured","nodes":[{"content":"Verify that the device is correctly configured","pos":[0,46]}]},{"content":"Use your Microsoft Azure Active Directory (Azure AD) credentials to sign in to the Dynamics 365 for Operations trial.","pos":[2431,2548]},{"pos":[2553,2694],"content":"On the <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, use the menu in the upper left to navigate to <bpt id=\"p2\">**</bpt>Retail and commerce<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Channels<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Channel deployment<ept id=\"p4\">**</ept>.","source":"On the **Welcome** page, use the menu in the upper left to navigate to **Retail and commerce** &gt; **Channels** &gt; **Channel deployment**."},{"pos":[2699,2764],"content":"On the <bpt id=\"p1\">**</bpt>Channel deployment<ept id=\"p1\">**</ept> page, click the <bpt id=\"p2\">**</bpt>Registers<ept id=\"p2\">**</ept> tile.","source":"On the **Channel deployment** page, click the **Registers** tile."},{"content":"On the <bpt id=\"p1\">**</bpt>Registers<ept id=\"p1\">**</ept> page, select a store register.","pos":[2769,2820],"source":"On the **Registers** page, select a store register."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The demo data thoroughly defines the Houston store and registers for self-service.","pos":[2821,2913],"source":"**Note:** The demo data thoroughly defines the Houston store and registers for self-service."},{"content":"To find the Houston registers, enter <bpt id=\"p1\">**</bpt>Houston<ept id=\"p1\">**</ept> in the filter at the top of the list of devices.","pos":[2914,3011],"source":" To find the Houston registers, enter **Houston** in the filter at the top of the list of devices."},{"content":"Select a register by selecting the register number in the <bpt id=\"p1\">**</bpt>Register number<ept id=\"p1\">**</ept> column.","pos":[3016,3101],"source":"Select a register by selecting the register number in the **Register number** column."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> In the Houston store, register Houston-3 is well defined and is therefore useful as an example.","pos":[3102,3207],"source":"**Note:** In the Houston store, register Houston-3 is well defined and is therefore useful as an example."},{"content":"On the page for the register, under <bpt id=\"p1\">**</bpt>General<ept id=\"p1\">**</ept>, verify that the <bpt id=\"p2\">**</bpt>Support offline<ept id=\"p2\">**</ept> option is set to <bpt id=\"p3\">**</bpt>No<ept id=\"p3\">**</ept>.","pos":[3212,3321],"source":"On the page for the register, under **General**, verify that the **Support offline** option is set to **No**."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> To use offline support, on the Action Pane, select the  <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept> button then edit the <bpt id=\"p3\">**</bpt>Support offline<ept id=\"p3\">**</ept> option to <bpt id=\"p4\">**</bpt>Yes<ept id=\"p4\">**</ept>.","pos":[3322,3456],"source":"**Note:** To use offline support, on the Action Pane, select the  **Edit** button then edit the **Support offline** option to **Yes**."},{"pos":[3462,3502],"content":"Download the Retail Modern POS installer","linkify":"Download the Retail Modern POS installer","nodes":[{"content":"Download the Retail Modern POS installer","pos":[0,40]}]},{"pos":[3508,3649],"content":"On the <bpt id=\"p1\">**</bpt>Welcome<ept id=\"p1\">**</ept> page, use the menu in the upper left to navigate to <bpt id=\"p2\">**</bpt>Retail and commerce<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Channels<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Channel deployment<ept id=\"p4\">**</ept>.","source":"On the **Welcome** page, use the menu in the upper left to navigate to **Retail and commerce** &gt; **Channels** &gt; **Channel deployment**."},{"pos":[3654,3717],"content":"On the <bpt id=\"p1\">**</bpt>Channel deployment<ept id=\"p1\">**</ept> page, click the <bpt id=\"p2\">**</bpt>Devices<ept id=\"p2\">**</ept> tile.","source":"On the **Channel deployment** page, click the **Devices** tile."},{"content":"Select a device.","pos":[3722,3738]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The Houston devices are well defined.","pos":[3739,3786],"source":"**Note:** The Houston devices are well defined."},{"content":"Houston-3 is useful as an example for a Windows desktop or tablet.","pos":[3787,3853]},{"content":"Houston-21 is useful as an example for a Windows Phone.","pos":[3855,3910]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> When you select a device, the <bpt id=\"p2\">**</bpt>Download<ept id=\"p2\">**</ept> button on the Action Pane becomes available.","pos":[3911,4008],"source":"**Note:** When you select a device, the **Download** button on the Action Pane becomes available."},{"content":"Select the <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> button then select <bpt id=\"p2\">**</bpt>Configuration file<ept id=\"p2\">**</ept>.","pos":[4013,4079],"source":"Select the **Download** button then select **Configuration file**."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Browsers might block the download pop-up that is generated.","pos":[4080,4149],"source":"**Note:** Browsers might block the download pop-up that is generated."},{"content":"You must select either <bpt id=\"p1\">**</bpt>Allow once<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Options for this site<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Always allow<ept id=\"p3\">**</ept>.","pos":[4150,4239],"source":" You must select either **Allow once** or **Options for this site** &gt; **Always allow**."},{"content":"Then, while the device is still selected, click <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> again.","pos":[4240,4307],"source":" Then, while the device is still selected, click **Download** again."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The configuration file must be saved to the same location as the Retail Modern POS installer.","pos":[4308,4411],"source":"**Note:** The configuration file must be saved to the same location as the Retail Modern POS installer."},{"content":"For security reasons, delete this file after installation is completed.","pos":[4412,4483]},{"content":"On the Notification bar that appears at the bottom of the Internet Explorer window, select the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button on the Action Pane.","pos":[4488,4618],"source":"On the Notification bar that appears at the bottom of the Internet Explorer window, select the **Save** button on the Action Pane."},{"content":"(The Notification bar might appear in a different place in other browsers.)","pos":[4619,4694]},{"content":"Select the <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> button then select <bpt id=\"p2\">**</bpt>Retail Modern POS<ept id=\"p2\">**</ept>.","pos":[4699,4764],"source":"Select the **Download** button then select **Retail Modern POS**."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Browsers might block the download pop-up that is generated.","pos":[4765,4834],"source":"**Note:** Browsers might block the download pop-up that is generated."},{"content":"You must select either <bpt id=\"p1\">**</bpt>Allow once<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Options for this site<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Always allow<ept id=\"p3\">**</ept>.","pos":[4835,4924],"source":" You must select either **Allow once** or **Options for this site** &gt; **Always allow**."},{"content":"Then, while the device is still selected, click <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> again.","pos":[4925,4992],"source":" Then, while the device is still selected, click **Download** again."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The installation package that you must use depends on whether you require offline support and whether the device to be installed on is a Windows tablet or a phone device (such as Windows Phone, Android, or iOS).","pos":[4993,5214],"source":"**Note:** The installation package that you must use depends on whether you require offline support and whether the device to be installed on is a Windows tablet or a phone device (such as Windows Phone, Android, or iOS)."},{"content":"The correct package is automatically selected for download based on the register settings and the application type set for the device in Operations.","pos":[5215,5363]},{"content":"If the offline package is selected for the Windows tablet, but Microsoft SQL Server isn't already installed (or if it doesn't meet the requirements for the offline package), SQL Server is downloaded and installed silently.","pos":[5364,5586]},{"content":"On the Notification bar that appears at the bottom of the Internet Explorer window, select the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button on the Action Pane.","pos":[5591,5721],"source":"On the Notification bar that appears at the bottom of the Internet Explorer window, select the **Save** button on the Action Pane."},{"content":"(The Notification bar might appear in a different place in other browsers.)","pos":[5722,5797]},{"content":"After the setup installer has been saved, on the Notification bar, click <bpt id=\"p1\">**</bpt>Run<ept id=\"p1\">**</ept>.","pos":[5802,5883],"source":"After the setup installer has been saved, on the Notification bar, click **Run**."},{"content":"(This step might differ, depending on your browser.)","pos":[5884,5936]},{"pos":[5942,5985],"content":"Running the installer on a Windows computer","linkify":"Running the installer on a Windows computer","nodes":[{"content":"Running the installer on a Windows computer","pos":[0,43]}]},{"pos":[5987,6095],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Before you run the Retail Modern POS installer, make sure that the following requirements are met:","source":"**Note:** Before you run the Retail Modern POS installer, make sure that the following requirements are met:"},{"content":"The installer requires that the Microsoft .NET Framework version 4.5.1 or above is installed on the system.","pos":[6101,6208]},{"content":"The installer installs Retail Modern POS only on the following operating systems:","pos":[6213,6294]},{"content":"Windows 10 Pro, Enterprise, or Enterprise Long Term Servicing Branch (LTSB) edition with Anniversary Update (both x86 and x64 architectures).","pos":[6303,6444]},{"content":"The installer will sideload a modern application.","pos":[6449,6498]},{"content":"Therefore, a Group Policy entry must be set to allow for sideloaded applications.","pos":[6499,6580]},{"content":"The installer will change the associated registry key as follows to allow for this installation:","pos":[6581,6677]},{"pos":[6686,6737],"content":"<bpt id=\"p1\">**</bpt>Path:<ept id=\"p1\">**</ept> HKLM:SoftwarePoliciesMicrosoftWindowsAppx","source":"**Path:** HKLM:SoftwarePoliciesMicrosoftWindowsAppx"},{"pos":[6746,6779],"content":"<bpt id=\"p1\">**</bpt>Property:<ept id=\"p1\">**</ept> AllowAllTrustedApps","source":"**Property:** AllowAllTrustedApps"},{"pos":[6788,6800],"content":"<bpt id=\"p1\">**</bpt>Value:<ept id=\"p1\">**</ept> 1","source":"**Value:** 1"},{"content":"The Retail Modern POS installer first extracts the associated files and then starts the installation.","pos":[6802,6903]},{"content":"The installer validates that all prerequisites are met.","pos":[6909,6964]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> If a system restart is required, the installer informs you about this requirement, but the installation can typically continue.","pos":[6965,7102],"source":"**Note:** If a system restart is required, the installer informs you about this requirement, but the installation can typically continue."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> A sideloaded installation of Retail Modern POS requires a Group Policy change.","pos":[7103,7191],"source":"**Note:** A sideloaded installation of Retail Modern POS requires a Group Policy change."},{"content":"The installer informs you if this change is required and then makes the change automatically.","pos":[7192,7285]},{"content":"If you selected offline support, but a valid version of SQL Server isn't found, the installer downloads and installs Microsoft SQL Server 2014 Express with Service Pack 2 (SP2).","pos":[7290,7467]},{"content":"To meet prerequisites, SQL Server must have Full-text search installed, and a minimum of SP2 for Microsoft SQL Server 2014 or Service Pack 3 (SP3) for Microsoft SQL Server 2012.","pos":[7468,7645]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The installer tries to download the correct language.","pos":[7646,7709],"source":"**Note:** The installer tries to download the correct language."},{"content":"However, if you require a specific language, it is highly recommended that SQL Server is manually installed.","pos":[7710,7818]},{"content":"If the installer can't correctly determine the language, it installs the English version of SQL Server 2014 Express with SP2 by default.","pos":[7819,7955]},{"content":"Most often, after the SQL installation completes, the system requires a restart prior to being able to continue installation of Retail Modern POS.","pos":[7957,8103]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> This process might require a long time, depending on the speed of the computer and the Internet connection.","pos":[8104,8221],"source":"**Note:** This process might require a long time, depending on the speed of the computer and the Internet connection."},{"content":"If a prerequisite fails during this step, first retry the installer.","pos":[8222,8290]},{"content":"If the installer continues to fail, see the “Troubleshooting” section of this topic.","pos":[8291,8375]},{"content":"The installer installs Retail Modern POS.","pos":[8380,8421]},{"pos":[8426,8522],"content":"On the page that states that installation was successful, click <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept> to exit the installer.","source":"On the page that states that installation was successful, click **Close** to exit the installer."},{"content":"You can now start the program.","pos":[8524,8554]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> This installation occurs only for the administrator user who ran the installer.","pos":[8555,8644],"source":"**Note:** This installation occurs only for the administrator user who ran the installer."},{"content":"For all other users, a desktop icon to install Retail Modern POS is created.","pos":[8645,8721]},{"content":"Any time a user signs in, they must double-click this icon.","pos":[8722,8781]},{"content":"The program will then be installed or updated, as required.","pos":[8782,8841]},{"content":"If a user does not use the desktop icon after an update, the POS client will request the user to run from the desktop icon instead to update correctly prior to running.","pos":[8843,9011]},{"pos":[9017,9118],"content":"Running the installer on any other device (Windows Phone, Google Android device, or Apple iOS device)","linkify":"Running the installer on any other device (Windows Phone, Google Android device, or Apple iOS device)","nodes":[{"content":"Running the installer on any other device (Windows Phone, Google Android device, or Apple iOS device)","pos":[0,101]}]},{"content":"If the application was not downloaded directly to the device, then transfer the downloaded app file (APPX, APK, or IPA accordingly) and the associated configuration file to the same folder on the device.","pos":[9124,9327]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> This can be done through a variety of means.","pos":[9328,9382],"source":"**Note:** This can be done through a variety of means."},{"content":"For example, the files can be accessed through a shared folder, transferred via USB cable, or securely mailed to the user's device.","pos":[9384,9515]},{"content":"Navigate using a file explorer on the device to the app directory.","pos":[9520,9586]},{"content":"Tap the app to begin the application installation (If the configuration file has been saved to the same location, then the Retail Server URL will automatically be entered when starting the application and beginning Device Activation).","pos":[9591,9825]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Some devices require the file to be double-tapped to begin the application installation.","pos":[9826,9924],"source":"**Note:** Some devices require the file to be double-tapped to begin the application installation."},{"content":"Some devices may not provide a notification of installation.","pos":[9926,9986]},{"content":"On those devices, it is recommended to check through the application list to verify it has been installed properly.","pos":[9988,10103]},{"content":"Upon completion, the application should be available to run from the application list on the device (Example: Upon installing the application on a Windows Phone, it can be run from the home screen tiles list).","pos":[10108,10317]},{"content":"You can now start the program.","pos":[10319,10349]},{"pos":[10354,10369],"content":"Create a worker","linkify":"Create a worker","nodes":[{"content":"Create a worker","pos":[0,15]}]},{"content":"For this topic, we have already created workers and assigned them to the Houston address book in the demo data provided.","pos":[10370,10490]},{"content":"Therefore, this topic will use pre-generated data.","pos":[10491,10541]},{"pos":[10547,10562],"content":"Create a worker","linkify":"Create a worker","nodes":[{"content":"Create a worker","pos":[0,15]}]},{"pos":[10568,10640],"content":"Navigate to <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Employees<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Workers<ept id=\"p3\">**</ept>.","source":"Navigate to **Retail and commerce** &gt; **Employees** &gt; **Workers**."},{"pos":[10645,10717],"content":"On the Action Pane, select the <bpt id=\"p1\">**</bpt>+New<ept id=\"p1\">**</ept> button to create a new employee.","source":"On the Action Pane, select the **+New** button to create a new employee."},{"content":"Enter the first and last name (Example: \"John\" for the first name and \"Smith\" for the last name).","pos":[10722,10819]},{"pos":[10824,10985],"content":"Verify that the <bpt id=\"p1\">**</bpt>Legal entity<ept id=\"p1\">**</ept> is \"USRT\", the <bpt id=\"p2\">**</bpt>Worker type<ept id=\"p2\">**</ept> is \"Employee\", and the <bpt id=\"p3\">**</bpt>Employment start date<ept id=\"p3\">**</ept> is immediate (set for the current date at 12AM).","source":"Verify that the **Legal entity** is \"USRT\", the **Worker type** is \"Employee\", and the **Employment start date** is immediate (set for the current date at 12AM)."},{"content":"Select the checkbox to <bpt id=\"p1\">**</bpt>Assign a position<ept id=\"p1\">**</ept>.","pos":[10990,11035],"source":"Select the checkbox to **Assign a position**."},{"content":"Select the position \"000544\", which is the number for a Store manager.","pos":[11037,11107]},{"pos":[11112,11198],"content":"Set the <bpt id=\"p1\">**</bpt>Personnel action type<ept id=\"p1\">**</ept> to \"Hire Action\" to hire a new employee immediately.","source":"Set the **Personnel action type** to \"Hire Action\" to hire a new employee immediately."},{"pos":[11203,11234],"content":"Select the <bpt id=\"p1\">**</bpt>Continue<ept id=\"p1\">**</ept> button.","source":"Select the **Continue** button."},{"pos":[11239,11323],"content":"Select the <bpt id=\"p1\">**</bpt>Complete<ept id=\"p1\">**</ept> button on the Action Pane to finish creating the new worker.","source":"Select the **Complete** button on the Action Pane to finish creating the new worker."},{"content":"Navigate back to the worker list.","pos":[11328,11361]},{"content":"Search for the newly created worker (Example: \"John Smith\").","pos":[11363,11423]},{"content":"Select the worker's name to see the details of the new worker.","pos":[11424,11486]},{"pos":[11491,11537],"content":"Select the <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> button on the Action Pane.","source":"Select the **Edit** button on the Action Pane."},{"pos":[11542,11590],"content":"Verify the language for the worker is <bpt id=\"p1\">**</bpt>en-us<ept id=\"p1\">**</ept>.","source":"Verify the language for the worker is **en-us**."},{"pos":[11595,11709],"content":"Under the <bpt id=\"p1\">**</bpt>Worker summary<ept id=\"p1\">**</ept> sub-heading, select the <bpt id=\"p2\">**</bpt>Address books<ept id=\"p2\">**</ept> drop-down and select the <bpt id=\"p3\">**</bpt>Houston<ept id=\"p3\">**</ept> store.","source":"Under the **Worker summary** sub-heading, select the **Address books** drop-down and select the **Houston** store."},{"content":"On the <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> tab, you can reset the POS password.","pos":[11714,11768],"source":"On the **Retail** tab, you can reset the POS password."},{"content":"For this tutorial, reset the password to <bpt id=\"p1\">**</bpt>123<ept id=\"p1\">**</ept>.","pos":[11769,11818],"source":" For this tutorial, reset the password to **123**."},{"content":"On the <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> tab, on the <bpt id=\"p2\">**</bpt>Screen layout<ept id=\"p2\">**</ept> sub-heading, assign a screen layout.","pos":[11823,11907],"source":"On the **Retail** tab, on the **Screen layout** sub-heading, assign a screen layout."},{"content":"For example, select <bpt id=\"p1\">**</bpt>F2MP16:9M<ept id=\"p1\">**</ept> (<bpt id=\"p2\">**</bpt>Fabrikam MPOS Manager (16:9)<ept id=\"p2\">**</ept>).","pos":[11908,11977],"source":" For example, select **F2MP16:9M** (**Fabrikam MPOS Manager (16:9)**)."},{"pos":[11982,12028],"content":"Select the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button on the Action Pane.","source":"Select the **Save** button on the Action Pane."},{"pos":[12033,12105],"content":"Navigate to <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Periodic<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.","source":"Navigate to **Retail** &gt; **Periodic** &gt; **Distribution schedule**."},{"pos":[12110,12234],"content":"Select the <bpt id=\"p1\">**</bpt>1060 – Staff<ept id=\"p1\">**</ept> job, then select <bpt id=\"p2\">**</bpt>Run now<ept id=\"p2\">**</ept> on the Action Pane to sync the worker data to the channel database.","source":"Select the **1060 – Staff** job, then select **Run now** on the Action Pane to sync the worker data to the channel database."},{"content":"After the new worker has been created and synced to stores, worker John Smith can sign in to and perform transactions on any POS device used in the HOUSTON store that he is assigned to.","pos":[12239,12424]},{"content":"The device must be activated first.","pos":[12425,12460]},{"content":"The following section explains how to achieve this for a new worker.","pos":[12462,12530]},{"pos":[12536,12617],"content":"Map an Azure AD account to a worker who has POS permissions for device activation","linkify":"Map an Azure AD account to a worker who has POS permissions for device activation","nodes":[{"content":"Map an Azure AD account to a worker who has POS permissions for device activation","pos":[0,81]}]},{"content":"You must complete this procedure before you activate Retail Modern POS with a new worker.","pos":[12619,12708]},{"pos":[12714,12866],"content":"In Dynamics 365 for Operations, from the <bpt id=\"p1\">**</bpt>Worker<ept id=\"p1\">**</ept> page, open the <bpt id=\"p2\">**</bpt>Worker details<ept id=\"p2\">**</ept> page for the newly created worker generated earlier in this topic.","source":"In Dynamics 365 for Operations, from the **Worker** page, open the **Worker details** page for the newly created worker generated earlier in this topic."},{"pos":[12871,12917],"content":"Select the <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> button on the Action Pane.","source":"Select the **Edit** button on the Action Pane."},{"content":"Select the <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> tab, then select the <bpt id=\"p2\">**</bpt>POS permissions<ept id=\"p2\">**</ept> link.","pos":[12922,12990],"source":"Select the **Retail** tab, then select the **POS permissions** link."},{"content":"Verify that under the <bpt id=\"p1\">**</bpt>POS permission group<ept id=\"p1\">**</ept>, the value states \"Manager\".","pos":[12991,13066],"source":" Verify that under the **POS permission group**, the value states \"Manager\"."},{"content":"When finished, return to the <bpt id=\"p1\">**</bpt>Worker details<ept id=\"p1\">**</ept> page for the new worker.","pos":[13071,13143],"source":"When finished, return to the **Worker details** page for the new worker."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> This can be achieved by select the <bpt id=\"p2\">**</bpt>X<ept id=\"p2\">**</ept> on the right-hand side of the Action Pane.","pos":[13144,13237],"source":"**Note:** This can be achieved by select the **X** on the right-hand side of the Action Pane."},{"pos":[13242,13335],"content":"Select the <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> button on the Action Pane, then select <bpt id=\"p2\">**</bpt>Associate existing identity<ept id=\"p2\">**</ept>.","source":"Select the **Retail** button on the Action Pane, then select **Associate existing identity**."},{"pos":[13340,13531],"content":"In the slide-out that appears, select the Azure AD accounts that has the name <bpt id=\"p1\">**</bpt>admin AX Admin<ept id=\"p1\">**</ept> (If an alternative Administrator Azure account has been created, select that account instead).","source":"In the slide-out that appears, select the Azure AD accounts that has the name **admin AX Admin** (If an alternative Administrator Azure account has been created, select that account instead)."},{"content":"Select <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[13536,13550],"source":"Select **OK**."},{"content":"In demo data, the Azure AD account that is associated with the administrator account in Operations headquarters is your administrator Azure AD account.","pos":[13551,13702]},{"content":"Select the <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> button on the Action Pane and refresh the page.","pos":[13707,13774],"source":"Select the **Save** button on the Action Pane and refresh the page."},{"content":"The <bpt id=\"p1\">**</bpt>External identity<ept id=\"p1\">**</ept> section should be now updated with the new information.","pos":[13775,13856],"source":" The **External identity** section should be now updated with the new information."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The <bpt id=\"p2\">**</bpt>External identifier<ept id=\"p2\">**</ept> field will remain empty.","pos":[13857,13919],"source":"**Note:** The **External identifier** field will remain empty."},{"content":"This behavior is expected, so you can ignore it.","pos":[13920,13968]},{"content":"This procedure should be completed before you activate Cloud POS or Modern POS.","pos":[13970,14049]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Setting up activation accounts and validating devices in HQ<ept id=\"p1\">](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&amp;p=247504&amp;preview=true)</ept>.","pos":[14051,14217],"source":"  For more information, see [Setting up activation accounts and validating devices in HQ](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=247504&preview=true)."},{"pos":[14223,14268],"content":"Run the Validate Devices for Activation check","linkify":"Run the Validate Devices for Activation check","nodes":[{"content":"Run the Validate Devices for Activation check","pos":[0,45]}]},{"pos":[14274,14354],"content":"Open the <bpt id=\"p1\">**</bpt>Device<ept id=\"p1\">**</ept> page in HQ (<bpt id=\"p2\">**</bpt>Retail<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Setup POS<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Devices<ept id=\"p4\">**</ept>).","source":"Open the **Device** page in HQ (**Retail** &gt; **Setup POS** &gt; **Devices**)."},{"content":"Select the device to validate for device activation, and then click <bpt id=\"p1\">**</bpt>Validate Devices for Activation<ept id=\"p1\">**</ept>.","pos":[14359,14463],"source":"Select the device to validate for device activation, and then click **Validate Devices for Activation**."},{"content":"For example, select device <bpt id=\"p1\">**</bpt>HOUSTON-3<ept id=\"p1\">**</ept>.","pos":[14464,14505],"source":" For example, select device **HOUSTON-3**."},{"content":"In the dialog box that appears, select the worker to validate the device for (that is, the worker that you mapped to the Azure AD account in the previous procedure).","pos":[14510,14675]},{"content":"For example, select worker <bpt id=\"p1\">**</bpt>000160<ept id=\"p1\">**</ept>.","pos":[14676,14714],"source":" For example, select worker **000160**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>, and make sure that you receive the following message: \"Pre-Activation validation completed for Device HOUSTON-3 and Staff 000160.","pos":[14719,14862],"source":"Click **OK**, and make sure that you receive the following message: \"Pre-Activation validation completed for Device HOUSTON-3 and Staff 000160."},{"content":"Validation: Passed\"","pos":[14863,14882]},{"pos":[14887,14904],"content":"Activate a device","linkify":"Activate a device","nodes":[{"content":"Activate a device","pos":[0,17]}]},{"content":"Start Retail Modern POS on your computer.","pos":[14909,14950]},{"content":"After Retail Modern POS starts, read the instructions on the <bpt id=\"p1\">**</bpt>Before you start<ept id=\"p1\">**</ept> page, and make sure that they are completed.","pos":[14951,15077],"source":" After Retail Modern POS starts, read the instructions on the **Before you start** page, and make sure that they are completed."},{"content":"Then select the <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept> button.","pos":[15078,15110],"source":" Then select the **Next** button."},{"content":"Select the <bpt id=\"p1\">**</bpt>Activate<ept id=\"p1\">**</ept> button.","pos":[15115,15146],"source":"Select the **Activate** button."},{"content":"You are redirected to the Azure AD sign-in page.","pos":[15147,15195]},{"content":"Enter the Azure AD account that you mapped earlier, such as <ph id=\"ph1\">admin@</ph><ph id=\"ph2\">&amp;lt;</ph>MyCompany<ph id=\"ph3\">&amp;gt;</ph>.onmicrosoft.com and the password.","pos":[15200,15317],"source":"Enter the Azure AD account that you mapped earlier, such as admin@&lt;MyCompany&gt;.onmicrosoft.com and the password."},{"pos":[15322,15374],"content":"When activation is completed, click <bpt id=\"p1\">**</bpt>Get Started<ept id=\"p1\">**</ept>.","source":"When activation is completed, click **Get Started**."},{"pos":[15379,15454],"content":"Sign in to Modern POS using worker account <bpt id=\"p1\">**</bpt>000160<ept id=\"p1\">**</ept> and password <bpt id=\"p2\">**</bpt>123<ept id=\"p2\">**</ept>.","source":"Sign in to Modern POS using worker account **000160** and password **123**."},{"content":"The device should now be activated and ready to use.","pos":[15456,15508]},{"pos":[15513,15528],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"pos":[15533,15558],"content":"Troubleshoot installation","linkify":"Troubleshoot installation","nodes":[{"content":"Troubleshoot installation","pos":[0,25]}]},{"content":"Your browser blocks the download pop-up that is generated.","pos":[15564,15622]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> Select either <bpt id=\"p2\">**</bpt>Allow once<ept id=\"p2\">**</ept> or <bpt id=\"p3\">**</bpt>Options for this site<ept id=\"p3\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Always allow<ept id=\"p4\">**</ept> (or the equivalent commands in the browser that you're using).","pos":[15623,15779],"source":"**Solution:** Select either **Allow once** or **Options for this site** &gt; **Always allow** (or the equivalent commands in the browser that you're using)."},{"content":"Then, while the correct register is still selected, click <bpt id=\"p1\">**</bpt>Download<ept id=\"p1\">**</ept> again.","pos":[15780,15857],"source":" Then, while the correct register is still selected, click **Download** again."},{"content":"The installation package that you must use depends on whether you require offline support.","pos":[15862,15952]},{"content":"The correct package is automatically selected for download.","pos":[15953,16012]},{"content":"For the offline package, SQL Server must be installed and must meet the requirements for the offline package.","pos":[16013,16122]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> No action is required.","pos":[16123,16159],"source":"**Solution:** No action is required."},{"content":"If SQL Server isn't already installed (or if it doesn't meet the requirements), it's downloaded and installed.","pos":[16160,16270]},{"content":"The installer gives generic information about the download and installation of SQL Server Express 2014.","pos":[16271,16374]},{"content":"This installation might require a long time.","pos":[16375,16419]},{"content":"The installation occurs only for the administrator user who ran the installer, but not for any other users.","pos":[16424,16531]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> The installer generates a desktop icon to install, upgrade, and run Retail Modern POS.","pos":[16532,16632],"source":"**Solution:** The installer generates a desktop icon to install, upgrade, and run Retail Modern POS."},{"content":"This icon is generated for every user on the computer.","pos":[16633,16687]},{"content":"When a user who must install Retail Modern POS double-clicks this icon, the program is installed.","pos":[16688,16785]},{"content":"The user can then start to use Retail Modern POS.","pos":[16786,16835]},{"content":"SQL Server isn't successfully downloaded and installed through the self-service Retail Modern POS installer.","pos":[16840,16948]},{"content":"<bpt id=\"p1\">**</bpt>Solution 1:<ept id=\"p1\">**</ept> A list of reasons shows the prerequisites that failed.","pos":[16949,17019],"source":"**Solution 1:** A list of reasons shows the prerequisites that failed."},{"content":"If the list includes <bpt id=\"p1\">**</bpt>SMO<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>SQL Management Objects<ept id=\"p2\">**</ept>, first try to run the installer again.","pos":[17020,17117],"source":" If the list includes **SMO** or **SQL Management Objects**, first try to run the installer again."},{"content":"SQL Server Management Objects (SMO) are installed during SQL Server installation.","pos":[17118,17199]},{"content":"Therefore, it's possible that the operating system didn't pick up the registration of the executable that you used.","pos":[17200,17315]},{"content":"When you run the installer a second time, the prerequisites are retested, and the prerequisite check should correctly verify the required executable.","pos":[17316,17465]},{"content":"If the installer continues to fail, restart the system to fully complete the registration of SQL Server, and then rerun the installer.","pos":[17466,17600]},{"content":"<bpt id=\"p1\">**</bpt>Solution 2:<ept id=\"p1\">**</ept> Manually download and install SQL Server (Microsoft SQL Server Express or another version) by using Advanced Tools.","pos":[17601,17732],"source":"**Solution 2:** Manually download and install SQL Server (Microsoft SQL Server Express or another version) by using Advanced Tools."},{"content":"During installation, select <bpt id=\"p1\">**</bpt>Full-text search<ept id=\"p1\">**</ept> as an additional feature.","pos":[17733,17807],"source":" During installation, select **Full-text search** as an additional feature."},{"content":"The installation of Retail Modern POS fails, because the registration of performance (perf) counters failed.","pos":[17812,17920]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> Follow these steps to fix this issue:","pos":[17921,17972],"source":"**Solution:** Follow these steps to fix this issue:"},{"pos":[17981,18034],"content":"Open a <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window as an administrator.","source":"Open a **Command Prompt** window as an administrator."},{"content":"Enter the following command.","pos":[18043,18071]},{"content":"Enter the following command.","pos":[18122,18150]},{"pos":[18183,18302],"content":"If the system doesn't rebuild the performance counter settings from the system backup, rerun the <bpt id=\"p1\">**</bpt>lodctr /R<ept id=\"p1\">**</ept> command.","source":"If the system doesn't rebuild the performance counter settings from the system backup, rerun the **lodctr /R** command."},{"content":"Rerun the Retail Modern POS installer.","pos":[18311,18349]},{"content":"If you're using a downloaded virtual hard disk (VHD) instead of a cloud-hosted environment, the downloader might fail.","pos":[18355,18473]},{"content":"<bpt id=\"p1\">**</bpt>Solution 1:<ept id=\"p1\">**</ept> In a downloaded VHD, the Azure storage emulator must be installed and must be running correctly.","pos":[18474,18586],"source":"**Solution 1:** In a downloaded VHD, the Azure storage emulator must be installed and must be running correctly."},{"content":"Otherwise, the self-service packages can't be downloaded correctly.","pos":[18587,18654]},{"content":"<bpt id=\"p1\">**</bpt>Solution 2:<ept id=\"p1\">**</ept> A failure might have occurred during the process of integrating the VHD into Microsoft Hyper-V.","pos":[18655,18766],"source":"**Solution 2:** A failure might have occurred during the process of integrating the VHD into Microsoft Hyper-V."},{"content":"You must manually edit permissions before the packages can be downloaded correctly.","pos":[18767,18850]},{"content":"Follow these steps:","pos":[18851,18870]},{"pos":[18879,18951],"content":"In File Explorer, browse to <bpt id=\"p1\">**</bpt>C:Microsoft Dynamics 36570Retail Server<ept id=\"p1\">**</ept>.","source":"In File Explorer, browse to **C:Microsoft Dynamics 36570Retail Server**."},{"pos":[18960,19039],"content":"Right-click the <bpt id=\"p1\">**</bpt>SelfServicePackages<ept id=\"p1\">**</ept> folder, and then select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","source":"Right-click the **SelfServicePackages** folder, and then select **Properties**."},{"pos":[19048,19088],"content":"On the <bpt id=\"p1\">**</bpt>Security<ept id=\"p1\">**</ept> tab, click <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>.","source":"On the **Security** tab, click **Edit**."},{"pos":[19097,19172],"content":"In the <bpt id=\"p1\">**</bpt>Permissions for SelfServiceDeployment<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>Add<ept id=\"p2\">**</ept>.","source":"In the **Permissions for SelfServiceDeployment** dialog box, click **Add**."},{"pos":[19181,19277],"content":"In the <bpt id=\"p1\">**</bpt>Select Users, Computers, Service Accounts, or Groups<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>Locations<ept id=\"p2\">**</ept>.","source":"In the **Select Users, Computers, Service Accounts, or Groups** dialog box, click **Locations**."},{"pos":[19286,19398],"content":"In the <bpt id=\"p1\">**</bpt>Locations<ept id=\"p1\">**</ept> dialog box, select the first entry in the list (the local computer), and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","source":"In the **Locations** dialog box, select the first entry in the list (the local computer), and then click **OK**."},{"content":"In the <bpt id=\"p1\">**</bpt>Select Users, Computers, Service Accounts, or Groups<ept id=\"p1\">**</ept> dialog box, enter the name <bpt id=\"p2\">**</bpt>IIS<ph id=\"ph1\">\\_</ph>IUSRS<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Check names<ept id=\"p3\">**</ept>.","pos":[19407,19545],"source":"In the **Select Users, Computers, Service Accounts, or Groups** dialog box, enter the name **IIS\\_IUSRS**, and then click **Check names**."},{"content":"The object name should be changed to <bpt id=\"p1\">**</bpt>IIS<ph id=\"ph1\">\\_</ph>IUSRS<ept id=\"p1\">**</ept>.","pos":[19546,19598],"source":" The object name should be changed to **IIS\\_IUSRS**."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[19599,19612],"source":" Click **OK**."},{"content":"In the <bpt id=\"p1\">**</bpt>Permissions for SelfServiceDeployment<ept id=\"p1\">**</ept> dialog box, select the new <bpt id=\"p2\">**</bpt>IIS<ph id=\"ph1\">\\_</ph>ISURS<ept id=\"p2\">**</ept> user.","pos":[19621,19717],"source":"In the **Permissions for SelfServiceDeployment** dialog box, select the new **IIS\\_ISURS** user."},{"content":"Under <bpt id=\"p1\">**</bpt>Permissions for IIS<ph id=\"ph1\">\\_</ph>IUSRS<ept id=\"p1\">**</ept>, select <bpt id=\"p2\">**</bpt>Allow<ept id=\"p2\">**</ept> for the <bpt id=\"p3\">**</bpt>Full control<ept id=\"p3\">**</ept> permission.","pos":[19718,19809],"source":" Under **Permissions for IIS\\_IUSRS**, select **Allow** for the **Full control** permission."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[19810,19823],"source":" Click **OK**."},{"pos":[19832,19884],"content":"In the <bpt id=\"p1\">**</bpt>Open permission<ept id=\"p1\">**</ept> dialog box, click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept>.","source":"In the **Open permission** dialog box, click **OK**."},{"pos":[19890,19942],"content":"Troubleshoot device activation for Retail Modern POS","linkify":"Troubleshoot device activation for Retail Modern POS","nodes":[{"content":"Troubleshoot device activation for Retail Modern POS","pos":[0,52]}]},{"content":"The Microsoft account (Azure AD) sign-in page doesn't open.","pos":[19948,20007]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> The Azure AD endpoint might be unreachable.","pos":[20008,20065],"source":"**Solution:** The Azure AD endpoint might be unreachable."},{"content":"Wait a few minutes, and then try again.","pos":[20066,20105]},{"content":"After you enter the Azure AD account, you receive an error message that states that the user isn't authorized.","pos":[20110,20220]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> Verify that the Azure AD user is mapped to a worker who has POS permission to activate devices.","pos":[20221,20330],"source":"**Solution:** Verify that the Azure AD user is mapped to a worker who has POS permission to activate devices."},{"content":"The <bpt id=\"p1\">**</bpt>Manage device<ept id=\"p1\">**</ept> permission for the worker should be set to <bpt id=\"p2\">**</bpt>Yes<ept id=\"p2\">**</ept>.","pos":[20331,20404],"source":" The **Manage device** permission for the worker should be set to **Yes**."},{"content":"Device activation will not complete.","pos":[20409,20445]},{"content":"It fails during one of the steps.","pos":[20447,20480]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> Following the following checklist to verify that all data is correct:","pos":[20481,20564],"source":"**Solution:** Following the following checklist to verify that all data is correct:"},{"content":"Complete the Validate Devices for Activation check in Operations headquarters and make certain that the device passes validation.","pos":[20573,20702]},{"content":"On the client machine where you're activating the device, access the Retail Server URL health check, and make sure that the health check is passed.","pos":[20711,20858]},{"content":"Use the following format for the URL: https://MyCompanyNameret.axcloud.dynamics.com/commerce/healthcheck?testname=ping","pos":[20859,20977]},{"pos":[20986,21065],"content":"The worker must be mapped to an Azure AD account (under <bpt id=\"p1\">**</bpt>External identity<ept id=\"p1\">**</ept>).","source":"The worker must be mapped to an Azure AD account (under **External identity**)."},{"content":"The Azure AD account to map must belong to the same tenant.","pos":[21074,21133]},{"content":"To map the worker to the Azure AD account, sign in to HQ by using the Admin account for Microsoft Dynamics Lifecycle Services (LCS).","pos":[21142,21274]},{"content":"Make sure that the worker is set up as a Microsoft Dynamics 365 for Operations user in the Manager role (checked by validation).","pos":[21283,21411]},{"content":"Make sure that the channel is published (checked by validation).","pos":[21420,21484]},{"content":"Make sure that the channel database has the synced data from HQ, and that download jobs are running.","pos":[21493,21593]},{"pos":[21602,21674],"content":"Set up the hardware profile under <bpt id=\"p1\">**</bpt>Registers<ept id=\"p1\">**</ept> (checked by validation).","source":"Set up the hardware profile under **Registers** (checked by validation)."},{"content":"Make sure that the register and store have a screen layout (checked by validation).","pos":[21683,21766]},{"content":"Make sure that a primary address is set up for the legal entity.","pos":[21775,21839]},{"content":"Make sure that the language is set up for the Commerce Data Exchange: Real-time Service user profile (JBB in the demo data).","pos":[21848,21972]},{"content":"Make sure that the Real-time Service profile has the correct access.","pos":[21981,22049]},{"content":"Make sure that the electronic funds transfer (EFT) configuration value is present.","pos":[22058,22140]},{"pos":[22143,22151],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[22162,22265],"content":"<bpt id=\"p1\">[</bpt>Install the POS Layout designer<ept id=\"p1\">](http://ax.help.dynamics.com/en/wiki/install-the-pos-layout-designer/)</ept>","source":"[Install the POS Layout designer](http://ax.help.dynamics.com/en/wiki/install-the-pos-layout-designer/)"}],"content":"---\n# required metadata\n\ntitle: Retail Modern POS configuration and installation | Microsoft Docs\ndescription: This topic describes how to configure, download, and install Retail Modern POS on a variety of platforms.  It then describes how to activate Retail Modern POS through device activation.\nauthor: annbe\nmanager: AnnBe\nms.date: 2015-12-07 22:30:33\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\nkeywords: RetailChannelManagementWorkspace, RetailDevice, RetailTerminalTable\n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: 11\nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 20501\nms.assetid: 1815a066-8505-4254-ab89-2af347251e63\n# ms.region: \nms.industry: Retail\nms.author: josaw1\n\n---\n\n# Retail Modern POS configuration and installation\n\nTechnology\n----------\n\nThe self-service process lets you download the appropriate version of the Retail Modern POS installer and install it on the physical device that you want to use for the point of sale register. Device activation is the main onboarding step to tie the physical device to a register in the Microsoft Dynamics 365 for Operations - Retail Headquarters. Here are the main technical functions of this feature:\n\n-   Tie a physical device to a business entity (register).\n-   Provide enhanced security through Azure Active Directory (AAD) and a device token/ID.\n-   Stop unauthorized remote use of Retail Modern POS (deactivate device remotely).\n-   Initialize settings for easy Retail Modern POS functioning (number sequence, hardware profile, merchant information) as the first touch point of the POS.\n-   Comply with payment card industry (PCI) standards and report on device information from Operations headquarters.\n\n## Setup\nBefore you start the steps outlined in this article, follow these steps:\n\n-   Verify that you have Azure AD credentials that you can use to sign in to Dynamics 365 for Operations Headquarters.\n-   Verify that you have administrative or root access to install the Retail Modern POS program on a device.\n-   Verify that you can access the Retail Server from the device.\n-   Verify that the Dynamics 365 for Operations environment contains the Retail permission groups and jobs in the **Human resources** module, given as part of the demo data installed.\n\n## Download and install Retail Modern POS\n### Verify that the device is correctly configured\n\n1.  Use your Microsoft Azure Active Directory (Azure AD) credentials to sign in to the Dynamics 365 for Operations trial.\n2.  On the **Welcome** page, use the menu in the upper left to navigate to **Retail and commerce** &gt; **Channels** &gt; **Channel deployment**.\n3.  On the **Channel deployment** page, click the **Registers** tile.\n4.  On the **Registers** page, select a store register. **Note:** The demo data thoroughly defines the Houston store and registers for self-service. To find the Houston registers, enter **Houston** in the filter at the top of the list of devices.\n5.  Select a register by selecting the register number in the **Register number** column. **Note:** In the Houston store, register Houston-3 is well defined and is therefore useful as an example.\n6.  On the page for the register, under **General**, verify that the **Support offline** option is set to **No**. **Note:** To use offline support, on the Action Pane, select the  **Edit** button then edit the **Support offline** option to **Yes**.\n\n### Download the Retail Modern POS installer\n\n1.  On the **Welcome** page, use the menu in the upper left to navigate to **Retail and commerce** &gt; **Channels** &gt; **Channel deployment**.\n2.  On the **Channel deployment** page, click the **Devices** tile.\n3.  Select a device. **Note:** The Houston devices are well defined. Houston-3 is useful as an example for a Windows desktop or tablet.  Houston-21 is useful as an example for a Windows Phone. **Note:** When you select a device, the **Download** button on the Action Pane becomes available.\n4.  Select the **Download** button then select **Configuration file**. **Note:** Browsers might block the download pop-up that is generated. You must select either **Allow once** or **Options for this site** &gt; **Always allow**. Then, while the device is still selected, click **Download** again. **Note:** The configuration file must be saved to the same location as the Retail Modern POS installer. For security reasons, delete this file after installation is completed.\n5.  On the Notification bar that appears at the bottom of the Internet Explorer window, select the **Save** button on the Action Pane. (The Notification bar might appear in a different place in other browsers.)\n6.  Select the **Download** button then select **Retail Modern POS**. **Note:** Browsers might block the download pop-up that is generated. You must select either **Allow once** or **Options for this site** &gt; **Always allow**. Then, while the device is still selected, click **Download** again. **Note:** The installation package that you must use depends on whether you require offline support and whether the device to be installed on is a Windows tablet or a phone device (such as Windows Phone, Android, or iOS). The correct package is automatically selected for download based on the register settings and the application type set for the device in Operations. If the offline package is selected for the Windows tablet, but Microsoft SQL Server isn't already installed (or if it doesn't meet the requirements for the offline package), SQL Server is downloaded and installed silently.\n7.  On the Notification bar that appears at the bottom of the Internet Explorer window, select the **Save** button on the Action Pane. (The Notification bar might appear in a different place in other browsers.)\n8.  After the setup installer has been saved, on the Notification bar, click **Run**. (This step might differ, depending on your browser.)\n\n### Running the installer on a Windows computer\n\n**Note:** Before you run the Retail Modern POS installer, make sure that the following requirements are met:\n\n-   The installer requires that the Microsoft .NET Framework version 4.5.1 or above is installed on the system.\n-   The installer installs Retail Modern POS only on the following operating systems:\n    -   Windows 10 Pro, Enterprise, or Enterprise Long Term Servicing Branch (LTSB) edition with Anniversary Update (both x86 and x64 architectures).\n-   The installer will sideload a modern application. Therefore, a Group Policy entry must be set to allow for sideloaded applications. The installer will change the associated registry key as follows to allow for this installation:\n    -   **Path:** HKLM:SoftwarePoliciesMicrosoftWindowsAppx\n    -   **Property:** AllowAllTrustedApps\n    -   **Value:** 1\n\nThe Retail Modern POS installer first extracts the associated files and then starts the installation.\n\n1.  The installer validates that all prerequisites are met. **Note:** If a system restart is required, the installer informs you about this requirement, but the installation can typically continue. **Note:** A sideloaded installation of Retail Modern POS requires a Group Policy change. The installer informs you if this change is required and then makes the change automatically.\n2.  If you selected offline support, but a valid version of SQL Server isn't found, the installer downloads and installs Microsoft SQL Server 2014 Express with Service Pack 2 (SP2). To meet prerequisites, SQL Server must have Full-text search installed, and a minimum of SP2 for Microsoft SQL Server 2014 or Service Pack 3 (SP3) for Microsoft SQL Server 2012. **Note:** The installer tries to download the correct language. However, if you require a specific language, it is highly recommended that SQL Server is manually installed. If the installer can't correctly determine the language, it installs the English version of SQL Server 2014 Express with SP2 by default.  Most often, after the SQL installation completes, the system requires a restart prior to being able to continue installation of Retail Modern POS. **Note:** This process might require a long time, depending on the speed of the computer and the Internet connection. If a prerequisite fails during this step, first retry the installer. If the installer continues to fail, see the “Troubleshooting” section of this topic.\n3.  The installer installs Retail Modern POS.\n4.  On the page that states that installation was successful, click **Close** to exit the installer.\n\nYou can now start the program. **Note:** This installation occurs only for the administrator user who ran the installer. For all other users, a desktop icon to install Retail Modern POS is created. Any time a user signs in, they must double-click this icon. The program will then be installed or updated, as required.  If a user does not use the desktop icon after an update, the POS client will request the user to run from the desktop icon instead to update correctly prior to running.\n\n### Running the installer on any other device (Windows Phone, Google Android device, or Apple iOS device)\n\n1.  If the application was not downloaded directly to the device, then transfer the downloaded app file (APPX, APK, or IPA accordingly) and the associated configuration file to the same folder on the device. **Note:** This can be done through a variety of means.  For example, the files can be accessed through a shared folder, transferred via USB cable, or securely mailed to the user's device.\n2.  Navigate using a file explorer on the device to the app directory.\n3.  Tap the app to begin the application installation (If the configuration file has been saved to the same location, then the Retail Server URL will automatically be entered when starting the application and beginning Device Activation). **Note:** Some devices require the file to be double-tapped to begin the application installation.  Some devices may not provide a notification of installation.  On those devices, it is recommended to check through the application list to verify it has been installed properly.\n4.  Upon completion, the application should be available to run from the application list on the device (Example: Upon installing the application on a Windows Phone, it can be run from the home screen tiles list).\n\nYou can now start the program.\n\n## Create a worker\nFor this topic, we have already created workers and assigned them to the Houston address book in the demo data provided. Therefore, this topic will use pre-generated data.\n\n### Create a worker\n\n1.  Navigate to **Retail and commerce** &gt; **Employees** &gt; **Workers**.\n2.  On the Action Pane, select the **+New** button to create a new employee.\n3.  Enter the first and last name (Example: \"John\" for the first name and \"Smith\" for the last name).\n4.  Verify that the **Legal entity** is \"USRT\", the **Worker type** is \"Employee\", and the **Employment start date** is immediate (set for the current date at 12AM).\n5.  Select the checkbox to **Assign a position**.  Select the position \"000544\", which is the number for a Store manager.\n6.  Set the **Personnel action type** to \"Hire Action\" to hire a new employee immediately.\n7.  Select the **Continue** button.\n8.  Select the **Complete** button on the Action Pane to finish creating the new worker.\n9.  Navigate back to the worker list.  Search for the newly created worker (Example: \"John Smith\"). Select the worker's name to see the details of the new worker.\n10. Select the **Edit** button on the Action Pane.\n11. Verify the language for the worker is **en-us**.\n12. Under the **Worker summary** sub-heading, select the **Address books** drop-down and select the **Houston** store.\n13. On the **Retail** tab, you can reset the POS password. For this tutorial, reset the password to **123**.\n14. On the **Retail** tab, on the **Screen layout** sub-heading, assign a screen layout. For example, select **F2MP16:9M** (**Fabrikam MPOS Manager (16:9)**).\n15. Select the **Save** button on the Action Pane.\n16. Navigate to **Retail** &gt; **Periodic** &gt; **Distribution schedule**.\n17. Select the **1060 – Staff** job, then select **Run now** on the Action Pane to sync the worker data to the channel database.\n18. After the new worker has been created and synced to stores, worker John Smith can sign in to and perform transactions on any POS device used in the HOUSTON store that he is assigned to. The device must be activated first.  The following section explains how to achieve this for a new worker.\n\n### Map an Azure AD account to a worker who has POS permissions for device activation\n\nYou must complete this procedure before you activate Retail Modern POS with a new worker.\n\n1.  In Dynamics 365 for Operations, from the **Worker** page, open the **Worker details** page for the newly created worker generated earlier in this topic.\n2.  Select the **Edit** button on the Action Pane.\n3.  Select the **Retail** tab, then select the **POS permissions** link. Verify that under the **POS permission group**, the value states \"Manager\".\n4.  When finished, return to the **Worker details** page for the new worker. **Note:** This can be achieved by select the **X** on the right-hand side of the Action Pane.\n5.  Select the **Retail** button on the Action Pane, then select **Associate existing identity**.\n6.  In the slide-out that appears, select the Azure AD accounts that has the name **admin AX Admin** (If an alternative Administrator Azure account has been created, select that account instead).\n7.  Select **OK**. In demo data, the Azure AD account that is associated with the administrator account in Operations headquarters is your administrator Azure AD account.\n8.  Select the **Save** button on the Action Pane and refresh the page. The **External identity** section should be now updated with the new information. **Note:** The **External identifier** field will remain empty. This behavior is expected, so you can ignore it.\n\nThis procedure should be completed before you activate Cloud POS or Modern POS.  For more information, see [Setting up activation accounts and validating devices in HQ](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=247504&preview=true).\n\n### Run the Validate Devices for Activation check\n\n1.  Open the **Device** page in HQ (**Retail** &gt; **Setup POS** &gt; **Devices**).\n2.  Select the device to validate for device activation, and then click **Validate Devices for Activation**. For example, select device **HOUSTON-3**.\n3.  In the dialog box that appears, select the worker to validate the device for (that is, the worker that you mapped to the Azure AD account in the previous procedure). For example, select worker **000160**.\n4.  Click **OK**, and make sure that you receive the following message: \"Pre-Activation validation completed for Device HOUSTON-3 and Staff 000160. Validation: Passed\"\n\n## Activate a device\n1.  Start Retail Modern POS on your computer. After Retail Modern POS starts, read the instructions on the **Before you start** page, and make sure that they are completed. Then select the **Next** button.\n2.  Select the **Activate** button. You are redirected to the Azure AD sign-in page.\n3.  Enter the Azure AD account that you mapped earlier, such as admin@&lt;MyCompany&gt;.onmicrosoft.com and the password.\n4.  When activation is completed, click **Get Started**.\n5.  Sign in to Modern POS using worker account **000160** and password **123**.\n\nThe device should now be activated and ready to use.\n\n## Troubleshooting\n### Troubleshoot installation\n\n-   Your browser blocks the download pop-up that is generated. **Solution:** Select either **Allow once** or **Options for this site** &gt; **Always allow** (or the equivalent commands in the browser that you're using). Then, while the correct register is still selected, click **Download** again.\n-   The installation package that you must use depends on whether you require offline support. The correct package is automatically selected for download. For the offline package, SQL Server must be installed and must meet the requirements for the offline package. **Solution:** No action is required. If SQL Server isn't already installed (or if it doesn't meet the requirements), it's downloaded and installed. The installer gives generic information about the download and installation of SQL Server Express 2014. This installation might require a long time.\n-   The installation occurs only for the administrator user who ran the installer, but not for any other users. **Solution:** The installer generates a desktop icon to install, upgrade, and run Retail Modern POS. This icon is generated for every user on the computer. When a user who must install Retail Modern POS double-clicks this icon, the program is installed. The user can then start to use Retail Modern POS.\n-   SQL Server isn't successfully downloaded and installed through the self-service Retail Modern POS installer. **Solution 1:** A list of reasons shows the prerequisites that failed. If the list includes **SMO** or **SQL Management Objects**, first try to run the installer again. SQL Server Management Objects (SMO) are installed during SQL Server installation. Therefore, it's possible that the operating system didn't pick up the registration of the executable that you used. When you run the installer a second time, the prerequisites are retested, and the prerequisite check should correctly verify the required executable. If the installer continues to fail, restart the system to fully complete the registration of SQL Server, and then rerun the installer. **Solution 2:** Manually download and install SQL Server (Microsoft SQL Server Express or another version) by using Advanced Tools. During installation, select **Full-text search** as an additional feature.\n-   The installation of Retail Modern POS fails, because the registration of performance (perf) counters failed. **Solution:** Follow these steps to fix this issue:\n    1.  Open a **Command Prompt** window as an administrator.\n    2.  Enter the following command.\n\n            lodctr /s:\"perf_backup.txt\"\n\n    3.  Enter the following command.\n\n            lodctr /R\n\n    4.  If the system doesn't rebuild the performance counter settings from the system backup, rerun the **lodctr /R** command.\n    5.  Rerun the Retail Modern POS installer.\n\n-   If you're using a downloaded virtual hard disk (VHD) instead of a cloud-hosted environment, the downloader might fail. **Solution 1:** In a downloaded VHD, the Azure storage emulator must be installed and must be running correctly. Otherwise, the self-service packages can't be downloaded correctly. **Solution 2:** A failure might have occurred during the process of integrating the VHD into Microsoft Hyper-V. You must manually edit permissions before the packages can be downloaded correctly. Follow these steps:\n    1.  In File Explorer, browse to **C:Microsoft Dynamics 36570Retail Server**.\n    2.  Right-click the **SelfServicePackages** folder, and then select **Properties**.\n    3.  On the **Security** tab, click **Edit**.\n    4.  In the **Permissions for SelfServiceDeployment** dialog box, click **Add**.\n    5.  In the **Select Users, Computers, Service Accounts, or Groups** dialog box, click **Locations**.\n    6.  In the **Locations** dialog box, select the first entry in the list (the local computer), and then click **OK**.\n    7.  In the **Select Users, Computers, Service Accounts, or Groups** dialog box, enter the name **IIS\\_IUSRS**, and then click **Check names**. The object name should be changed to **IIS\\_IUSRS**. Click **OK**.\n    8.  In the **Permissions for SelfServiceDeployment** dialog box, select the new **IIS\\_ISURS** user. Under **Permissions for IIS\\_IUSRS**, select **Allow** for the **Full control** permission. Click **OK**.\n    9.  In the **Open permission** dialog box, click **OK**.\n\n### Troubleshoot device activation for Retail Modern POS\n\n-   The Microsoft account (Azure AD) sign-in page doesn't open. **Solution:** The Azure AD endpoint might be unreachable. Wait a few minutes, and then try again.\n-   After you enter the Azure AD account, you receive an error message that states that the user isn't authorized. **Solution:** Verify that the Azure AD user is mapped to a worker who has POS permission to activate devices. The **Manage device** permission for the worker should be set to **Yes**.\n-   Device activation will not complete.  It fails during one of the steps. **Solution:** Following the following checklist to verify that all data is correct:\n    -   Complete the Validate Devices for Activation check in Operations headquarters and make certain that the device passes validation.\n    -   On the client machine where you're activating the device, access the Retail Server URL health check, and make sure that the health check is passed. Use the following format for the URL: https://MyCompanyNameret.axcloud.dynamics.com/commerce/healthcheck?testname=ping\n    -   The worker must be mapped to an Azure AD account (under **External identity**).\n    -   The Azure AD account to map must belong to the same tenant.\n    -   To map the worker to the Azure AD account, sign in to HQ by using the Admin account for Microsoft Dynamics Lifecycle Services (LCS).\n    -   Make sure that the worker is set up as a Microsoft Dynamics 365 for Operations user in the Manager role (checked by validation).\n    -   Make sure that the channel is published (checked by validation).\n    -   Make sure that the channel database has the synced data from HQ, and that download jobs are running.\n    -   Set up the hardware profile under **Registers** (checked by validation).\n    -   Make sure that the register and store have a screen layout (checked by validation).\n    -   Make sure that a primary address is set up for the legal entity.\n    -   Make sure that the language is set up for the Commerce Data Exchange: Real-time Service user profile (JBB in the demo data).\n    -   Make sure that the Real-time Service profile has the correct access.\n    -   Make sure that the electronic funds transfer (EFT) configuration value is present.\n\n\nSee also\n--------\n\n[Install the POS Layout designer](http://ax.help.dynamics.com/en/wiki/install-the-pos-layout-designer/)\n\n"}