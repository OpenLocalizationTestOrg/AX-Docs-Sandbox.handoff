{"nodes":[{"pos":[32,87],"content":"Project resource scheduling data model | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Project resource scheduling data model | Microsoft Docs","pos":[0,55]}]},{"pos":[101,182],"content":"This topic provides information about the Project resource scheduling data model.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic provides information about the Project resource scheduling data model.","pos":[0,81]}]},{"pos":[614,652],"content":"Project resource scheduling data model","linkify":"Project resource scheduling data model","nodes":[{"content":"Project resource scheduling data model","pos":[0,38]}]},{"pos":[654,705],"content":"Physical data model for Project resource scheduling","linkify":"Physical data model for Project resource scheduling","nodes":[{"content":"Physical data model for Project resource scheduling","pos":[0,51]}]},{"content":"The following diagram represents the data design structure of the Project resource scheduling physical data model.","pos":[759,873]},{"content":"![Resource management data model]","pos":[876,909]},{"pos":[914,920],"content":"Tables","linkify":"Tables","nodes":[{"content":"Tables","pos":[0,6]}]},{"content":"The following table provides a list of additional tables that support the Resource management data model.","pos":[921,1026]},{"pos":[2524,2533],"content":"<bpt id=\"p1\">**</bpt>Table<ept id=\"p1\">**</ept>","source":"**Table**"},{"pos":[2556,2571],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"ResResourceIdentifier","pos":[3271,3292]},{"content":"Stores all resources and a subset of records from the <bpt id=\"p1\">**</bpt>WrkCtrTable<ept id=\"p1\">**</ept> table that are identified as resources.","pos":[3303,3412],"source":"Stores all resources and a subset of records from the **WrkCtrTable** table that are identified as resources."},{"content":"When a resource is added, a record will be added to the <bpt id=\"p1\">**</bpt>WrkCtrTable <ept id=\"p1\">**</ept>table.","pos":[3413,3491],"source":" When a resource is added, a record will be added to the **WrkCtrTable **table."},{"content":"A record will also be added to this table with a Foreign Key reference to the new record in the <bpt id=\"p1\">**</bpt>WrkCtrTable<ept id=\"p1\">**</ept> table.","pos":[3492,3610],"source":" A record will also be added to this table with a Foreign Key reference to the new record in the **WrkCtrTable** table."},{"content":"ResourceSetup","pos":[4018,4031]},{"content":"Specifies a resource’s property.","pos":[4050,4082]},{"content":"This table replaced the <bpt id=\"p1\">**</bpt>ProjWorkerSetup<ept id=\"p1\">**</ept> table in Dynamics AX 2012.","pos":[4083,4153],"source":" This table replaced the **ProjWorkerSetup** table in Dynamics AX 2012."},{"content":"ResBooking","pos":[4765,4775]},{"content":"Stores all resource booking type reservations.","pos":[4797,4843]},{"content":"This table replaced some of the information stored in the <bpt id=\"p1\">**</bpt>PSASchedEmplReservation<ept id=\"p1\">**</ept> table in Dynamics AX 2012.","pos":[4844,4956],"source":" This table replaced some of the information stored in the **PSASchedEmplReservation** table in Dynamics AX 2012."},{"content":"ResAssignment","pos":[5512,5525]},{"content":"Stores all resource assignment type reservations.","pos":[5544,5593]},{"content":"This table replaced some of the information stored in the <bpt id=\"p1\">**</bpt>PSASchedEmplReservation<ept id=\"p1\">**</ept> table in Dynamics AX 2012.","pos":[5594,5706],"source":" This table replaced some of the information stored in the **PSASchedEmplReservation** table in Dynamics AX 2012."},{"content":"ResourceResourceCategorySetup","pos":[6259,6288]},{"content":"Stores the resource default project role association that is validated by a time range.","pos":[6291,6378]},{"content":"This is a time effective table which has a Foreign Key to <bpt id=\"p1\">**</bpt>ResResourceIdentifier.RecId<ept id=\"p1\">**</ept> and a Foreign Key to <bpt id=\"p2\">**</bpt>PSASchedRole.RecId<ept id=\"p2\">**</ept> with <bpt id=\"p3\">**</bpt>ValidFrom<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>ValidTo<ept id=\"p4\">**</ept> fields.","pos":[6379,6555],"source":" This is a time effective table which has a Foreign Key to **ResResourceIdentifier.RecId** and a Foreign Key to **PSASchedRole.RecId** with **ValidFrom** and **ValidTo** fields."},{"content":"The <bpt id=\"p1\">**</bpt>PSASchedRole<ept id=\"p1\">**</ept> table is used to store the project role.","pos":[6556,6617],"source":" The **PSASchedRole** table is used to store the project role."},{"content":"ResCalendarCapacity","pos":[7006,7025]},{"content":"This is a data denormalized table based on <bpt id=\"p1\">**</bpt>WorkCalendarTable<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>WorkCalendarDate<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>WorkCalendarDateLine<ept id=\"p3\">**</ept> to calculate resource capacity.","pos":[7038,7186],"source":"This is a data denormalized table based on **WorkCalendarTable**, **WorkCalendarDate**, and **WorkCalendarDateLine** to calculate resource capacity."},{"content":"The calculation is based on the resource associated calendar date line definition, which is specified in the <bpt id=\"p1\">**</bpt>WorkCalendarDataLine<ept id=\"p1\">**</ept> table.","pos":[7187,7327],"source":" The calculation is based on the resource associated calendar date line definition, which is specified in the **WorkCalendarDataLine** table."},{"content":"The data in this table can be generated by running the <bpt id=\"p1\">**</bpt>Synchronize resource capacity roll-ups<ept id=\"p1\">**</ept> batch job.","pos":[7328,7436],"source":" The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job."},{"content":"ResRollUpCalendar","pos":[7753,7770]},{"content":"This is a data denormalized table based on <bpt id=\"p1\">**</bpt>ResCalendarCapacity<ept id=\"p1\">**</ept>.","pos":[7785,7852],"source":"This is a data denormalized table based on **ResCalendarCapacity**."},{"content":"The data in this table is used by the <bpt id=\"p1\">**</bpt>ResRollUpWriter<ept id=\"p1\">**</ept> class to speed up the process of adding resource records to the <bpt id=\"p2\">**</bpt>ResRollup<ept id=\"p2\">**</ept> table.","pos":[7853,7995],"source":" The data in this table is used by the **ResRollUpWriter** class to speed up the process of adding resource records to the **ResRollup** table."},{"content":"The data in this table can be generated by running the <bpt id=\"p1\">**</bpt>Synchronize resource capacity roll-ups<ept id=\"p1\">**</ept> batch job.","pos":[7996,8104],"source":" The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job."},{"content":"ResRollUp","pos":[8500,8509]},{"content":"This is a data denormalized table based on <bpt id=\"p1\">**</bpt>ResBooking<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ResAssignment<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>ResRollUpCalendar<ept id=\"p3\">**</ept> for performance improvement.","pos":[8532,8664],"source":"This is a data denormalized table based on **ResBooking**, **ResAssignment**, and **ResRollUpCalendar** for performance improvement."},{"content":"This table contains all of the capacity and reservation data for time scales, including Day, Week, Month, Quarter, and Half year, for all resources.","pos":[8665,8813]},{"content":"This data is accessed by the <bpt id=\"p1\">**</bpt>AvailabilityView<ept id=\"p1\">**</ept> control, which is included with any resource scheduling X++ form that includes this control, like the <bpt id=\"p2\">**</bpt>Resource availability<ept id=\"p2\">**</ept> form.","pos":[8814,8997],"source":" This data is accessed by the **AvailabilityView** control, which is included with any resource scheduling X++ form that includes this control, like the **Resource availability** form."},{"content":"The data in this table can be generated by running the <bpt id=\"p1\">**</bpt>Synchronize resource capacity roll-ups<ept id=\"p1\">**</ept> batch job.","pos":[8998,9106],"source":" The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job."},{"content":"Data is updated for every resource reservation action such as adding a new resource, booking, assignment, and reservation cancellation.","pos":[9107,9242]},{"pos":[9249,9254],"content":"Views","linkify":"Views","nodes":[{"content":"Views","pos":[0,5]}]},{"content":"The following table provides a list of the most informative views that you can use to access the Resource management data model.","pos":[9255,9383]},{"pos":[10915,10923],"content":"<bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept>","source":"**View**"},{"pos":[10949,10964],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"ResResourceWorkCenterView","pos":[11679,11704]},{"pos":[11713,11862],"content":"This view is based on <bpt id=\"p1\">**</bpt>ResResourceIdentifier<ept id=\"p1\">**</ept> joining to <bpt id=\"p2\">**</bpt>WrkCtrTable<ept id=\"p2\">**</ept>, which captures only the fields that are required for resource management.","source":"This view is based on **ResResourceIdentifier** joining to **WrkCtrTable**, which captures only the fields that are required for resource management."},{"content":"ResourceView","pos":[12443,12455]},{"content":"This view is based on <bpt id=\"p1\">**</bpt>ResResourceIdentifier<ept id=\"p1\">**</ept>, which is only based on <bpt id=\"p2\">**</bpt>ResResourceWorkCenterView<ept id=\"p2\">**</ept>.","pos":[12477,12579],"source":"This view is based on **ResResourceIdentifier**, which is only based on **ResResourceWorkCenterView**."},{"content":"In a future release it can be extended to more than <bpt id=\"p1\">**</bpt>ResResourceWorkCenterView<ept id=\"p1\">**</ept> if a resource record will be saved on more than just <bpt id=\"p2\">**</bpt>ResResourceWorkCenterView<ept id=\"p2\">**</ept>.","pos":[12580,12745],"source":" In a future release it can be extended to more than **ResResourceWorkCenterView** if a resource record will be saved on more than just **ResResourceWorkCenterView**."},{"content":"ResourceWorkerView","pos":[13207,13225]},{"content":"This view replaces the <bpt id=\"p1\">**</bpt>HcmWorker<ept id=\"p1\">**</ept> table, which is based on <bpt id=\"p2\">**</bpt>ResResourceIdentifier<ept id=\"p2\">**</ept>.","pos":[13241,13329],"source":"This view replaces the **HcmWorker** table, which is based on **ResResourceIdentifier**."},{"content":"<bpt id=\"p1\">**</bpt>WrkCtrTable<ept id=\"p1\">**</ept> has a worker field which is a Foreign Key to <bpt id=\"p2\">**</bpt>HcmWorkerTable<ept id=\"p2\">**</ept>.","pos":[13330,13410],"source":"**WrkCtrTable** has a worker field which is a Foreign Key to **HcmWorkerTable**."},{"content":"This view includes all <bpt id=\"p1\">**</bpt>WrkCtrTable<ept id=\"p1\">**</ept> resource which worker field is not 0.","pos":[13411,13487],"source":" This view includes all **WrkCtrTable** resource which worker field is not 0."},{"content":"ResourceLegalEntityView","pos":[13971,13994]},{"content":"This view replaces the <bpt id=\"p1\">**</bpt>HcmEmployment<ept id=\"p1\">**</ept> table.","pos":[14005,14052],"source":"This view replaces the **HcmEmployment** table."},{"content":"This is the resource legal entity (LE) view, which is a union of <bpt id=\"p1\">**</bpt>ResourceWorkerLegalEntityView<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ResourceOtherLegalEntityView<ept id=\"p2\">**</ept>.","pos":[14053,14189],"source":" This is the resource legal entity (LE) view, which is a union of **ResourceWorkerLegalEntityView** and **ResourceOtherLegalEntityView**."},{"content":"The purpose of this view is to look up the resource legal entity as well as the associated valid from and valid to date.","pos":[14190,14310]},{"content":"For example, an <bpt id=\"p1\">**</bpt>HcmWorker<ept id=\"p1\">**</ept> resource can be hired by multiple LEs with different ValidFrom and ValidTo dates.","pos":[14311,14422],"source":" For example, an **HcmWorker** resource can be hired by multiple LEs with different ValidFrom and ValidTo dates."},{"content":"If the worker is hired by multiple LEs, then this worker resource will have multiple records in this view.","pos":[14423,14529]},{"content":"If the resource is not a <bpt id=\"p1\">**</bpt>HcmWorker<ept id=\"p1\">**</ept>, then this resource will have only one record and <bpt id=\"p2\">**</bpt>validFrom<ept id=\"p2\">**</ept><ph id=\"ph1\"> = </ph><bpt id=\"p3\">**</bpt>minDate<ept id=\"p3\">**</ept> and <bpt id=\"p4\">**</bpt>ValidTo<ept id=\"p4\">**</ept><ph id=\"ph2\"> = </ph><bpt id=\"p5\">**</bpt>maxDate<ept id=\"p5\">**</ept>.","pos":[14530,14677],"source":" If the resource is not a **HcmWorker**, then this resource will have only one record and **validFrom** = **minDate** and **ValidTo** = **maxDate**."},{"content":"ResourceCalendarView","pos":[14735,14755]},{"content":"This view replaces <bpt id=\"p1\">**</bpt>WorkCalendarTable<ept id=\"p1\">**</ept>.","pos":[14769,14810],"source":"This view replaces **WorkCalendarTable**."},{"content":"This view contains the calendar <bpt id=\"p1\">**</bpt>RecId<ept id=\"p1\">**</ept> of the resource.","pos":[14811,14869],"source":" This view contains the calendar **RecId** of the resource."},{"content":"This is a union view of <bpt id=\"p1\">**</bpt>ResourceWorkerCalendarView<ept id=\"p1\">**</ept>, R<bpt id=\"p2\">**</bpt>esourceOtherCalendarView<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>ResourceGroupResourceCalendarView<ept id=\"p3\">**</ept>.","pos":[14870,14999],"source":" This is a union view of **ResourceWorkerCalendarView**, R**esourceOtherCalendarView**, and **ResourceGroupResourceCalendarView**."},{"content":"To look up the resource calendar, users should first look up the <bpt id=\"p1\">**</bpt>ResourceLegalEntityview<ept id=\"p1\">**</ept>.","pos":[15000,15093],"source":" To look up the resource calendar, users should first look up the **ResourceLegalEntityview**."},{"content":"This is because a resource should have a different calendar depending on the resource’s legal entity.","pos":[15094,15195]},{"content":"First, locate the record from <bpt id=\"p1\">**</bpt>ResourceLegalEntityView<ept id=\"p1\">**</ept> and get the <bpt id=\"p2\">**</bpt>RefRecId<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>RefTableId<ept id=\"p3\">**</ept> fields.","pos":[15196,15305],"source":" First, locate the record from **ResourceLegalEntityView** and get the **RefRecId** and **RefTableId** fields."},{"content":"Then, look up <bpt id=\"p1\">**</bpt>ResourceCalendarView<ept id=\"p1\">**</ept> by setting <bpt id=\"p2\">**</bpt>ResourceLegalEntityRefRecId<ept id=\"p2\">**</ept><ph id=\"ph1\"> = </ph><bpt id=\"p3\">**</bpt>ResourceLegalView.RefRecId<ept id=\"p3\">**</ept> and R<bpt id=\"p4\">**</bpt>esourceLegalEntityRefTableId<ept id=\"p4\">**</ept><ph id=\"ph2\"> = </ph><bpt id=\"p5\">**</bpt>ResourceLegalView.RefTableId<ept id=\"p5\">**</ept>.","pos":[15306,15494],"source":" Then, look up **ResourceCalendarView** by setting **ResourceLegalEntityRefRecId** = **ResourceLegalView.RefRecId** and R**esourceLegalEntityRefTableId** = **ResourceLegalView.RefTableId**."},{"content":"ResourceCategoryView","pos":[15499,15519]},{"pos":[15533,15659],"content":"This view shows the resource category (the resource role for a worker resource), which is based on the <bpt id=\"p1\">**</bpt>PSASchedRole<ept id=\"p1\">**</ept> table.","source":"This view shows the resource category (the resource role for a worker resource), which is based on the **PSASchedRole** table."},{"content":"ResSkillHcmView","pos":[16263,16278]},{"pos":[16297,16402],"content":"This view is based on <bpt id=\"p1\">**</bpt>HcmSkill<ept id=\"p1\">**</ept> to capture all the skills that are defined in the <bpt id=\"p2\">**</bpt>HcmSkills<ept id=\"p2\">**</ept> table.","source":"This view is based on **HcmSkill** to capture all the skills that are defined in the **HcmSkills** table."},{"content":"ResCertificateHcmView","pos":[17027,17048]},{"pos":[17061,17191],"content":"This view is based on <bpt id=\"p1\">**</bpt>HcmCertificateType<ept id=\"p1\">**</ept> to capture all the certificates that are defined on the <bpt id=\"p2\">**</bpt>HcmCertificateType<ept id=\"p2\">**</ept> table.","source":"This view is based on **HcmCertificateType** to capture all the certificates that are defined on the **HcmCertificateType** table."},{"content":"ResEducationHcmView","pos":[17791,17810]},{"pos":[17825,17972],"content":"This view is based on <bpt id=\"p1\">**</bpt>HcmEducationDiscipline<ept id=\"p1\">**</ept> to capture all the education disciplines that are defined in the <bpt id=\"p2\">**</bpt>HcmEducationDiscipline<ept id=\"p2\">**</ept> table.","source":"This view is based on **HcmEducationDiscipline** to capture all the education disciplines that are defined in the **HcmEducationDiscipline** table."},{"content":"ResProjectHcmView","pos":[18555,18572]},{"pos":[18589,18681],"content":"This view is based on <bpt id=\"p1\">**</bpt>ProjTable<ept id=\"p1\">**</ept> to capture all projects that exist in the <bpt id=\"p2\">**</bpt>ProjTable<ept id=\"p2\">**</ept>.","source":"This view is based on **ProjTable** to capture all projects that exist in the **ProjTable**."},{"content":"ResRoleView","pos":[19319,19330]},{"pos":[19353,19435],"content":"This view is based on <bpt id=\"p1\">**</bpt>ResourceCategoryView<ept id=\"p1\">**</ept> to capture all resource categories.","source":"This view is based on **ResourceCategoryView** to capture all resource categories."},{"content":"ResCharacteristicView","pos":[20083,20104]},{"content":"This view is the union view of <bpt id=\"p1\">**</bpt>ResSkillHcmView<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ResCertificateHcmView<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>ResEducationHcmView<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>ResProjectHcmView<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>ResRoleView<ept id=\"p5\">**</ept>.","pos":[20117,20264],"source":"This view is the union view of **ResSkillHcmView**, **ResCertificateHcmView**, **ResEducationHcmView**, **ResProjectHcmView**, and **ResRoleView**."},{"content":"This view is used to gather all the characteristics that are defined as selectable criteria for the resource search feature.","pos":[20265,20389]},{"content":"ResResourceCharacteristicView","pos":[20847,20876]},{"content":"This view is the union view of <bpt id=\"p1\">**</bpt>ResResourceCharacteristicHcmView<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ResResourceResourceCategoryView<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>ResResourceNameView<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>ResResourceRoleCharacteristicView<ept id=\"p4\">**</ept>.","pos":[20881,21054],"source":"This view is the union view of **ResResourceCharacteristicHcmView**, **ResResourceResourceCategoryView**, **ResResourceNameView**, and **ResResourceRoleCharacteristicView**."},{"content":"This view is used to identify the characteristics that are associated with a resource for the resource search feature.","pos":[21055,21173]},{"content":"ResCalendarCapacityView","pos":[21611,21634]},{"pos":[21645,21783],"content":"This view is based on <bpt id=\"p1\">**</bpt>ResCalendarCapacity<ept id=\"p1\">**</ept>, which contains calendars that are specified in <bpt id=\"p2\">**</bpt>WorkCalendarTable<ept id=\"p2\">**</ept> with capacity details.","source":"This view is based on **ResCalendarCapacity**, which contains calendars that are specified in **WorkCalendarTable** with capacity details."},{"content":"ResCapacityView","pos":[22375,22390]},{"content":"This view shows the resource’s capacity per hour.","pos":[22409,22458]},{"content":"ResResourceCapacityWorkDaysView","pos":[23139,23170]},{"pos":[23173,23258],"content":"This view is based on <bpt id=\"p1\">**</bpt>ResCapacityView<ept id=\"p1\">**</ept>, which shows the resource capacity per day.","source":"This view is based on **ResCapacityView**, which shows the resource capacity per day."},{"content":"ResAssignmentView","pos":[23903,23920]},{"pos":[23937,24102],"content":"This view is based on the table <bpt id=\"p1\">**</bpt>ResAssignment<ept id=\"p1\">**</ept>, which stores the activity resource assignments to either project or quotation work breakdown structure (WBS) task.","source":"This view is based on the table **ResAssignment**, which stores the activity resource assignments to either project or quotation work breakdown structure (WBS) task."},{"content":"ResBookingView","pos":[24667,24681]},{"pos":[24701,24819],"content":"This view is based on the table <bpt id=\"p1\">**</bpt>ResBooking<ept id=\"p1\">**</ept>, which stores the activity resource bookings to a project or quotation.","source":"This view is based on the table **ResBooking**, which stores the activity resource bookings to a project or quotation."},{"pos":[25430,25472],"content":"Changes that will affect tables and fields","linkify":"Changes that will affect tables and fields","nodes":[{"content":"Changes that will affect tables and fields","pos":[0,42]}]},{"content":"These sections contain information regarding code changes to tables and fields that are part of the feature implementation related to Project resource scheduling.","pos":[25517,25679]},{"pos":[25684,25703],"content":"Resource scheduling","linkify":"Resource scheduling","nodes":[{"content":"Resource scheduling","pos":[0,19]}]},{"content":"The table <bpt id=\"p1\">**</bpt>PSASchedEmplReservation<ept id=\"p1\">**</ept> is no longer used to store a resource’s reservations.","pos":[25704,25795],"source":"The table **PSASchedEmplReservation** is no longer used to store a resource’s reservations."},{"content":"Instead, reservations are stored in the <bpt id=\"p1\">**</bpt>ResAssignment<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ResBooking <ept id=\"p2\">**</ept>tables.","pos":[25796,25880],"source":" Instead, reservations are stored in the **ResAssignment** and **ResBooking **tables."},{"content":"Both tables use the <bpt id=\"p1\">**</bpt>Activity resource<ept id=\"p1\">**</ept> field Foreign Key for <bpt id=\"p2\">**</bpt>PSAProjSchedRole.RecId<ept id=\"p2\">**</ept> to store a resource’s reservation.","pos":[25881,26006],"source":" Both tables use the **Activity resource** field Foreign Key for **PSAProjSchedRole.RecId** to store a resource’s reservation."},{"content":"The <bpt id=\"p1\">**</bpt>PSAProjSchedRole<ept id=\"p1\">**</ept> table is the project team table that has the <bpt id=\"p2\">**</bpt>Resource<ept id=\"p2\">**</ept> field Foreign Key to <bpt id=\"p3\">**</bpt>ResourceView.RecId<ept id=\"p3\">**</ept> and the <bpt id=\"p4\">**</bpt>ResourceLegalEntity<ept id=\"p4\">**</ept> field Foreign Key to <bpt id=\"p5\">**</bpt>CompanyInfo.RecId<ept id=\"p5\">**</ept> to identify which resources are the project’s or quotation’s team members.","pos":[26007,26283],"source":" The **PSAProjSchedRole** table is the project team table that has the **Resource** field Foreign Key to **ResourceView.RecId** and the **ResourceLegalEntity** field Foreign Key to **CompanyInfo.RecId** to identify which resources are the project’s or quotation’s team members."},{"content":"If the <bpt id=\"p1\">**</bpt>PSAProjSchedRole.Resource<ept id=\"p1\">**</ept> field = 0, then this activity resource is a planned resource.","pos":[26284,26382],"source":" If the **PSAProjSchedRole.Resource** field = 0, then this activity resource is a planned resource."},{"content":"A planned resource is a shadow resource that is not backed by an actual resource.","pos":[26383,26464]},{"content":"<bpt id=\"p1\">**</bpt>PSAProjSchedRole.ResourceCategory<ept id=\"p1\">**</ept> is a Foreign Key to <bpt id=\"p2\">**</bpt>PSASchedRole<ept id=\"p2\">**</ept> that stores the role of this team member.","pos":[26465,26581],"source":"**PSAProjSchedRole.ResourceCategory** is a Foreign Key to **PSASchedRole** that stores the role of this team member."},{"content":"The <bpt id=\"p1\">**</bpt>ResourceResourceCategorySetup<ept id=\"p1\">**</ept> table stores the default time effective resource/role association.","pos":[26582,26686],"source":" The **ResourceResourceCategorySetup** table stores the default time effective resource/role association."},{"content":"However, the resource can be reserved to any role defined by <bpt id=\"p1\">**</bpt>PSAProjSchedRole.ResourceCategory,<ept id=\"p1\">**</ept> ignoring the default role definition on the <bpt id=\"p2\">**</bpt>ResourceResourceCategorySetup<ept id=\"p2\">**</ept> table.","pos":[26687,26871],"source":" However, the resource can be reserved to any role defined by **PSAProjSchedRole.ResourceCategory,** ignoring the default role definition on the **ResourceResourceCategorySetup** table."},{"content":"Regarding WBS versioning, the tables <bpt id=\"p1\">**</bpt>ProjPlanVersions<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>ProjPlanVersionDetails<ept id=\"p2\">**</ept> store the WBS tasks versions.","pos":[26872,26990],"source":" Regarding WBS versioning, the tables **ProjPlanVersions** and **ProjPlanVersionDetails** store the WBS tasks versions."},{"content":"Initially, all WBS task data will be stored on these tables while the user is editing the WBS tasks content.","pos":[26991,27099]},{"content":"After the user clicks the <bpt id=\"p1\">**</bpt>Publish<ept id=\"p1\">**</ept> button, the task data will be pushed to the original hierarchy tables (<bpt id=\"p2\">**</bpt>smmActivities<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>PSAActivitySetup<ept id=\"p3\">**</ept>).","pos":[27100,27253],"source":" After the user clicks the **Publish** button, the task data will be pushed to the original hierarchy tables (**smmActivities** and **PSAActivitySetup**)."},{"content":"The resource management feature requires data in the original hierarchy tables and requires a published WBS.","pos":[27254,27362]},{"pos":[27367,27406],"content":"Price by resource and resource category","linkify":"Price by resource and resource category","nodes":[{"content":"Price by resource and resource category","pos":[0,39]}]},{"content":"The pricing tables, <bpt id=\"p1\">**</bpt>ProjCostPriceExpense<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ProjCostSalesPrice<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>ProjRevenueSalesPrice<ept id=\"p3\">**</ept> have a Foreign Key from <bpt id=\"p4\">**</bpt>ResourceView.RecId<ept id=\"p4\">**</ept>.","pos":[27407,27554],"source":"The pricing tables, **ProjCostPriceExpense**, **ProjCostSalesPrice**, and **ProjRevenueSalesPrice** have a Foreign Key from **ResourceView.RecId**."},{"content":"The tables <bpt id=\"p1\">**</bpt>ProjHourCostPrice<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ProjHourSalesPrice<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>ProjTransferPrice<ept id=\"p3\">**</ept> have a Foreign Key from <bpt id=\"p4\">**</bpt>ResourceView.RecId<ept id=\"p4\">**</ept>.","pos":[27555,27686],"source":" The tables **ProjHourCostPrice**, **ProjHourSalesPrice**, and **ProjTransferPrice** have a Foreign Key from **ResourceView.RecId**."},{"content":"The field <bpt id=\"p1\">**</bpt>ResourceCategory<ept id=\"p1\">**</ept> is part of the Foreign Key for <bpt id=\"p2\">**</bpt>ResourceCategoryView.RecId<ept id=\"p2\">**</ept>.","pos":[27687,27780],"source":" The field **ResourceCategory** is part of the Foreign Key for **ResourceCategoryView.RecId**."},{"content":"This is done so that pricing is based on a resource instead of a worker and enables pricing setup by resource category.","pos":[27781,27900]},{"pos":[27905,27962],"content":"Common methods to get resource field and lookup resources","linkify":"Common methods to get resource field and lookup resources","nodes":[{"content":"Common methods to get resource field and lookup resources","pos":[0,57]}]},{"content":"There are several resource methods in the <bpt id=\"p1\">**</bpt>ResourceFacade<ept id=\"p1\">**</ept> class.","pos":[27963,28030],"source":"There are several resource methods in the **ResourceFacade** class."},{"content":"The following table includes some of the most common methods.","pos":[28031,28092]},{"pos":[28852,28868],"content":"<bpt id=\"p1\">**</bpt>Class.Method<ept id=\"p1\">**</ept>","source":"**Class.Method**"},{"pos":[28892,28907],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"ResourceFacade.findByWorker()","pos":[29230,29259]},{"pos":[29270,29328],"content":"Look up the resource record ID by <bpt id=\"p1\">**</bpt>HcmWorker<ept id=\"p1\">**</ept> record ID.","source":"Look up the resource record ID by **HcmWorker** record ID."},{"content":"ResourceFacade.findOrCreateByWorker()","pos":[29608,29645]},{"content":"Look up the resource record ID by <bpt id=\"p1\">**</bpt>HcmWorker<ept id=\"p1\">**</ept> record ID.","pos":[29648,29706],"source":"Look up the resource record ID by **HcmWorker** record ID."},{"content":"If the resource record ID is not found, then a resource record ID will be added to the <bpt id=\"p1\">**</bpt>ResResourceIdentifier<ept id=\"p1\">**</ept> table and the resource record ID will be returned.","pos":[29708,29871],"source":"  If the resource record ID is not found, then a resource record ID will be added to the **ResResourceIdentifier** table and the resource record ID will be returned."},{"content":"ResourceFacade.findByResourceID()","pos":[29986,30019]},{"content":"Look up the resource record ID by resource ID.","pos":[30027,30073]},{"content":"ResourceFacade.get…","pos":[30364,30383]},{"content":"There are many get methods supported for the resource in the <bpt id=\"p1\">**</bpt>ResourceFacade<ept id=\"p1\">**</ept> class.","pos":[30404,30490],"source":"There are many get methods supported for the resource in the **ResourceFacade** class."},{"content":"Resource related values like <bpt id=\"p1\">**</bpt>Resource ID<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Resource calendar<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Resource legal entity<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Resource period<ept id=\"p4\">**</ept> can be queried from the <bpt id=\"p5\">**</bpt>ResourceView<ept id=\"p5\">**</ept>, <bpt id=\"p6\">**</bpt>ResourceLegalEntityView<ept id=\"p6\">**</ept>, <bpt id=\"p7\">**</bpt>ResourceCalendarView<ept id=\"p7\">**</ept>, and <bpt id=\"p8\">**</bpt>ResourceSetup<ept id=\"p8\">**</ept> tables.","pos":[30491,30737],"source":" Resource related values like **Resource ID**, **Resource calendar**, **Resource legal entity**, and **Resource period** can be queried from the **ResourceView**, **ResourceLegalEntityView**, **ResourceCalendarView**, and **ResourceSetup** tables."},{"pos":[30744,30758],"content":"Facade classes","linkify":"Facade classes","nodes":[{"content":"Facade classes","pos":[0,14]}]},{"content":"The following table lists the facade classes that you can use as a starting point to interact with the Resource management data model.","pos":[30759,30893]},{"pos":[31417,31426],"content":"<bpt id=\"p1\">**</bpt>Class<ept id=\"p1\">**</ept>","source":"**Class**"},{"pos":[31442,31457],"content":"<bpt id=\"p1\">**</bpt>Description<ept id=\"p1\">**</ept>","source":"**Description**"},{"content":"ActivityFacade","pos":[31677,31691]},{"pos":[31702,31932],"content":"Contains the methods to retrieve an activity’s properties, including <bpt id=\"p1\">**</bpt>ID<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Quotation ID<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Project ID<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Booked/assigned capacity<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>Remaining capacity<ept id=\"p5\">**</ept>, <bpt id=\"p6\">**</bpt>Calendar<ept id=\"p6\">**</ept>, <bpt id=\"p7\">**</bpt>Activity number<ept id=\"p7\">**</ept>, and <bpt id=\"p8\">**</bpt>Root project activity<ept id=\"p8\">**</ept>.","source":"Contains the methods to retrieve an activity’s properties, including **ID**, **Quotation ID**, **Project ID**, **Booked/assigned capacity**, **Remaining capacity**, **Calendar**, **Activity number**, and **Root project activity**."},{"content":"ActivityResourceFacade","pos":[31937,31959]},{"pos":[31962,32161],"content":"Contains the methods to retrieve an activity's resource properties including <bpt id=\"p1\">**</bpt>Calendar<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Name<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Resource category<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Resource legal entity<ept id=\"p4\">**</ept>, <bpt id=\"p5\">**</bpt>Is generic resource<ept id=\"p5\">**</ept>, and <bpt id=\"p6\">**</bpt>Is team member<ept id=\"p6\">**</ept>.","source":"Contains the methods to retrieve an activity's resource properties including **Calendar**, **Name**, **Resource category**, **Resource legal entity**, **Is generic resource**, and **Is team member**."},{"content":"PeriodFacade","pos":[32197,32209]},{"pos":[32222,32342],"content":"Contains the methods to retrieve period properties including <bpt id=\"p1\">**</bpt>Start and End date<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Period ID<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Period name<ept id=\"p3\">**</ept>.","source":"Contains the methods to retrieve period properties including **Start and End date**, **Period ID**, and **Period name**."},{"content":"ResourceCalendarFacade","pos":[32457,32479]},{"pos":[32482,32652],"content":"Contains the methods to retrieve the resource's calendar properties including <bpt id=\"p1\">**</bpt>Calendar data area ID<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Calendar ID<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Calendar RecID<ept id=\"p3\">**</ept>, <bpt id=\"p4\">**</bpt>Capacity<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>Dates<ept id=\"p5\">**</ept>.","source":"Contains the methods to retrieve the resource's calendar properties including **Calendar data area ID**, **Calendar ID**, **Calendar RecID**, **Capacity**, and **Dates**."},{"content":"ResourceCategoryFacade","pos":[32717,32739]},{"pos":[32742,32852],"content":"Contains the methods to retrieve the resource's default resource <bpt id=\"p1\">**</bpt>Category<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>ID<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Name<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>Type<ept id=\"p4\">**</ept>.","source":"Contains the methods to retrieve the resource's default resource **Category**, **ID**, **Name**, and **Type**."},{"content":"ResourcePeriodFacade","pos":[32977,32997]},{"content":"Contains the methods to retrieve the resource's period date range and update the period method.","pos":[33002,33097]},{"content":"ResourceWorkerFacade","pos":[33237,33257]},{"pos":[33262,33319],"content":"Contains the methods to retrieve the <bpt id=\"p1\">**</bpt>Employment<ept id=\"p1\">**</ept> type.","source":"Contains the methods to retrieve the **Employment** type."}],"content":"---\n# required metadata\n\ntitle: Project resource scheduling data model | Microsoft Docs\ndescription: This topic provides information about the Project resource scheduling data model.\nauthor: annbe\nmanager: AnnBe\nms.date: 2016-10-07 18:13:21\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: 51\nms.suite: Released- Dynamics AX application 7.0.1\n# ms.tgt_pltfrm: \nms.custom: 202281\nms.assetid: bfe6dd4a-d5f9-473f-801f-eab067205960\n# ms.region: \n# ms.industry: \nms.author: ShylaThompson\n\n---\n\n# Project resource scheduling data model\n\nPhysical data model for Project resource scheduling\n---------------------------------------------------\n\nThe following diagram represents the data design structure of the Project resource scheduling physical data model.   ![Resource management data model]\n\n## Tables\nThe following table provides a list of additional tables that support the Resource management data model.\n\n|                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |\n|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Table**                     | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |\n| ResResourceIdentifier         | Stores all resources and a subset of records from the **WrkCtrTable** table that are identified as resources. When a resource is added, a record will be added to the **WrkCtrTable **table. A record will also be added to this table with a Foreign Key reference to the new record in the **WrkCtrTable** table.                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| ResourceSetup                 | Specifies a resource’s property. This table replaced the **ProjWorkerSetup** table in Dynamics AX 2012.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |\n| ResBooking                    | Stores all resource booking type reservations. This table replaced some of the information stored in the **PSASchedEmplReservation** table in Dynamics AX 2012.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |\n| ResAssignment                 | Stores all resource assignment type reservations. This table replaced some of the information stored in the **PSASchedEmplReservation** table in Dynamics AX 2012.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |\n| ResourceResourceCategorySetup | Stores the resource default project role association that is validated by a time range. This is a time effective table which has a Foreign Key to **ResResourceIdentifier.RecId** and a Foreign Key to **PSASchedRole.RecId** with **ValidFrom** and **ValidTo** fields. The **PSASchedRole** table is used to store the project role.                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ResCalendarCapacity           | This is a data denormalized table based on **WorkCalendarTable**, **WorkCalendarDate**, and **WorkCalendarDateLine** to calculate resource capacity. The calculation is based on the resource associated calendar date line definition, which is specified in the **WorkCalendarDataLine** table. The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job.                                                                                                                                                                                                                                                                                                                         |\n| ResRollUpCalendar             | This is a data denormalized table based on **ResCalendarCapacity**. The data in this table is used by the **ResRollUpWriter** class to speed up the process of adding resource records to the **ResRollup** table. The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job.                                                                                                                                                                                                                                                                                                                                                                                                        |\n| ResRollUp                     | This is a data denormalized table based on **ResBooking**, **ResAssignment**, and **ResRollUpCalendar** for performance improvement. This table contains all of the capacity and reservation data for time scales, including Day, Week, Month, Quarter, and Half year, for all resources. This data is accessed by the **AvailabilityView** control, which is included with any resource scheduling X++ form that includes this control, like the **Resource availability** form. The data in this table can be generated by running the **Synchronize resource capacity roll-ups** batch job. Data is updated for every resource reservation action such as adding a new resource, booking, assignment, and reservation cancellation. |\n\n## Views\nThe following table provides a list of the most informative views that you can use to access the Resource management data model.\n\n|                                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |\n|---------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **View**                        | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |\n| ResResourceWorkCenterView       | This view is based on **ResResourceIdentifier** joining to **WrkCtrTable**, which captures only the fields that are required for resource management.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ResourceView                    | This view is based on **ResResourceIdentifier**, which is only based on **ResResourceWorkCenterView**. In a future release it can be extended to more than **ResResourceWorkCenterView** if a resource record will be saved on more than just **ResResourceWorkCenterView**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |\n| ResourceWorkerView              | This view replaces the **HcmWorker** table, which is based on **ResResourceIdentifier**. **WrkCtrTable** has a worker field which is a Foreign Key to **HcmWorkerTable**. This view includes all **WrkCtrTable** resource which worker field is not 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |\n| ResourceLegalEntityView         | This view replaces the **HcmEmployment** table. This is the resource legal entity (LE) view, which is a union of **ResourceWorkerLegalEntityView** and **ResourceOtherLegalEntityView**. The purpose of this view is to look up the resource legal entity as well as the associated valid from and valid to date. For example, an **HcmWorker** resource can be hired by multiple LEs with different ValidFrom and ValidTo dates. If the worker is hired by multiple LEs, then this worker resource will have multiple records in this view. If the resource is not a **HcmWorker**, then this resource will have only one record and **validFrom** = **minDate** and **ValidTo** = **maxDate**.                                                      |\n| ResourceCalendarView            | This view replaces **WorkCalendarTable**. This view contains the calendar **RecId** of the resource. This is a union view of **ResourceWorkerCalendarView**, R**esourceOtherCalendarView**, and **ResourceGroupResourceCalendarView**. To look up the resource calendar, users should first look up the **ResourceLegalEntityview**. This is because a resource should have a different calendar depending on the resource’s legal entity. First, locate the record from **ResourceLegalEntityView** and get the **RefRecId** and **RefTableId** fields. Then, look up **ResourceCalendarView** by setting **ResourceLegalEntityRefRecId** = **ResourceLegalView.RefRecId** and R**esourceLegalEntityRefTableId** = **ResourceLegalView.RefTableId**. |\n| ResourceCategoryView            | This view shows the resource category (the resource role for a worker resource), which is based on the **PSASchedRole** table.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |\n| ResSkillHcmView                 | This view is based on **HcmSkill** to capture all the skills that are defined in the **HcmSkills** table.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n| ResCertificateHcmView           | This view is based on **HcmCertificateType** to capture all the certificates that are defined on the **HcmCertificateType** table.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| ResEducationHcmView             | This view is based on **HcmEducationDiscipline** to capture all the education disciplines that are defined in the **HcmEducationDiscipline** table.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| ResProjectHcmView               | This view is based on **ProjTable** to capture all projects that exist in the **ProjTable**.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |\n| ResRoleView                     | This view is based on **ResourceCategoryView** to capture all resource categories.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |\n| ResCharacteristicView           | This view is the union view of **ResSkillHcmView**, **ResCertificateHcmView**, **ResEducationHcmView**, **ResProjectHcmView**, and **ResRoleView**. This view is used to gather all the characteristics that are defined as selectable criteria for the resource search feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |\n| ResResourceCharacteristicView   | This view is the union view of **ResResourceCharacteristicHcmView**, **ResResourceResourceCategoryView**, **ResResourceNameView**, and **ResResourceRoleCharacteristicView**. This view is used to identify the characteristics that are associated with a resource for the resource search feature.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |\n| ResCalendarCapacityView         | This view is based on **ResCalendarCapacity**, which contains calendars that are specified in **WorkCalendarTable** with capacity details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |\n| ResCapacityView                 | This view shows the resource’s capacity per hour.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |\n| ResResourceCapacityWorkDaysView | This view is based on **ResCapacityView**, which shows the resource capacity per day.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ResAssignmentView               | This view is based on the table **ResAssignment**, which stores the activity resource assignments to either project or quotation work breakdown structure (WBS) task.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| ResBookingView                  | This view is based on the table **ResBooking**, which stores the activity resource bookings to a project or quotation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |\n\nChanges that will affect tables and fields\n==========================================\n\nThese sections contain information regarding code changes to tables and fields that are part of the feature implementation related to Project resource scheduling.\n\n## Resource scheduling\nThe table **PSASchedEmplReservation** is no longer used to store a resource’s reservations. Instead, reservations are stored in the **ResAssignment** and **ResBooking **tables. Both tables use the **Activity resource** field Foreign Key for **PSAProjSchedRole.RecId** to store a resource’s reservation. The **PSAProjSchedRole** table is the project team table that has the **Resource** field Foreign Key to **ResourceView.RecId** and the **ResourceLegalEntity** field Foreign Key to **CompanyInfo.RecId** to identify which resources are the project’s or quotation’s team members. If the **PSAProjSchedRole.Resource** field = 0, then this activity resource is a planned resource. A planned resource is a shadow resource that is not backed by an actual resource. **PSAProjSchedRole.ResourceCategory** is a Foreign Key to **PSASchedRole** that stores the role of this team member. The **ResourceResourceCategorySetup** table stores the default time effective resource/role association. However, the resource can be reserved to any role defined by **PSAProjSchedRole.ResourceCategory,** ignoring the default role definition on the **ResourceResourceCategorySetup** table. Regarding WBS versioning, the tables **ProjPlanVersions** and **ProjPlanVersionDetails** store the WBS tasks versions. Initially, all WBS task data will be stored on these tables while the user is editing the WBS tasks content. After the user clicks the **Publish** button, the task data will be pushed to the original hierarchy tables (**smmActivities** and **PSAActivitySetup**). The resource management feature requires data in the original hierarchy tables and requires a published WBS.\n\n## Price by resource and resource category\nThe pricing tables, **ProjCostPriceExpense**, **ProjCostSalesPrice**, and **ProjRevenueSalesPrice** have a Foreign Key from **ResourceView.RecId**. The tables **ProjHourCostPrice**, **ProjHourSalesPrice**, and **ProjTransferPrice** have a Foreign Key from **ResourceView.RecId**. The field **ResourceCategory** is part of the Foreign Key for **ResourceCategoryView.RecId**. This is done so that pricing is based on a resource instead of a worker and enables pricing setup by resource category.\n\n## Common methods to get resource field and lookup resources\nThere are several resource methods in the **ResourceFacade** class. The following table includes some of the most common methods.\n\n|                                       |                                                                                                                                                                                                                                                                                                                                               |\n|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Class.Method**                      | **Description**                                                                                                                                                                                                                                                                                                                               |\n| ResourceFacade.findByWorker()         | Look up the resource record ID by **HcmWorker** record ID.                                                                                                                                                                                                                                                                                    |\n| ResourceFacade.findOrCreateByWorker() | Look up the resource record ID by **HcmWorker** record ID.  If the resource record ID is not found, then a resource record ID will be added to the **ResResourceIdentifier** table and the resource record ID will be returned.                                                                                                               |\n| ResourceFacade.findByResourceID()     |  Look up the resource record ID by resource ID.                                                                                                                                                                                                                                                                                               |\n| ResourceFacade.get…                   | There are many get methods supported for the resource in the **ResourceFacade** class. Resource related values like **Resource ID**, **Resource calendar**, **Resource legal entity**, and **Resource period** can be queried from the **ResourceView**, **ResourceLegalEntityView**, **ResourceCalendarView**, and **ResourceSetup** tables. |\n\n## Facade classes\nThe following table lists the facade classes that you can use as a starting point to interact with the Resource management data model.\n\n|                        |                                                                                                                                                                                                                                        |\n|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Class**              | **Description**                                                                                                                                                                                                                        |\n| ActivityFacade         | Contains the methods to retrieve an activity’s properties, including **ID**, **Quotation ID**, **Project ID**, **Booked/assigned capacity**, **Remaining capacity**, **Calendar**, **Activity number**, and **Root project activity**. |\n| ActivityResourceFacade | Contains the methods to retrieve an activity's resource properties including **Calendar**, **Name**, **Resource category**, **Resource legal entity**, **Is generic resource**, and **Is team member**.                                |\n| PeriodFacade           | Contains the methods to retrieve period properties including **Start and End date**, **Period ID**, and **Period name**.                                                                                                               |\n| ResourceCalendarFacade | Contains the methods to retrieve the resource's calendar properties including **Calendar data area ID**, **Calendar ID**, **Calendar RecID**, **Capacity**, and **Dates**.                                                             |\n| ResourceCategoryFacade | Contains the methods to retrieve the resource's default resource **Category**, **ID**, **Name**, and **Type**.                                                                                                                         |\n| ResourcePeriodFacade   | Contains the methods to retrieve the resource's period date range and update the period method.                                                                                                                                        |\n| ResourceWorkerFacade   | Contains the methods to retrieve the **Employment** type.                                                                                                                                                                              |\n\n \n\n"}