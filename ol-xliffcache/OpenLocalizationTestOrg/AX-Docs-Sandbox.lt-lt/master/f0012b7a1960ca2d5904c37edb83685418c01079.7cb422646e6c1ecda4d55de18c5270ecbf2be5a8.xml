{"content":"---\n# required metadata\n\ntitle: Add financial dimensions to aggregate measurements\ndescription: This topic explains how a power user can include financial dimensions in ready-made Power BI reports.\nauthor: MilindaV2 \nmanager: AnnBe\nms.date: 06/16/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form:  \naudience: Developer, IT Pro\n# ms.devlang: \n# ms.reviewer: sericks\n# ms.search.scope: Operations Platform\n# ms.tgt_pltfrm: \n# ms.custom: \nms.assetid: c04e0a7b-1747-4b88-b729-fd820f8ab600\nms.search.region: Global \n# ms.search.industry: \nms.author: milindav\nms.dyn365.intro: 2017-06-30\nms.dyn365.version: Platform update 8\n---\n\n# Add financial dimensions to aggregate measurements\n\n[!include[banner](../includes/banner.md)]\n\nThis feature lets power users include financial dimensions in ready-made Microsoft Power BI reports. Power users can also create new Power BI reports that use financial dimensions.\n\nFinancial dimensions are user-defined configuration data that enables the ledger chart of accounts to retain additional information. By adding financial dimensions, a user can configure additional data fields that will be included with the chart of accounts and financial reports. Therefore, the ledger chart of accounts can be sliced and diced based on those fields. This feature provides powerful financial reporting. For example, you can explore ledger data by using the new financial dimensions that you've added. Because no financial dimensions are included in the ready-made Power BI reports when they are released, you must include these additional fields to the ready-made reports. \n\nAfter financial dimension fields are included in the report, you can share the report with other users. Those other users can modify existing visuals, such as charts, by including all or some of the financial dimension fields.\n\n> [!NOTE]\n> This feature is available in Microsoft Dynamics 365 for Finance and Operations, Enterprise edition July 2017 update. Platform update 8 or later is also required. \n\n## How does this feature work?\n\nThe Entity store is an operational data warehouse that lets power users create reports. Whenever the Entity store is updated, all available financial dimensions are included in it. We will look at an example from the **Ledger Activity** aggregate measurement that contains General ledger journal-level details.\n\nThe following list shows some of the tables are filled in the Entity store when it's updated. Tables that have changed are bold.\n\n- LedgerActivityMeasure\\_LedgerActivityMeasureGroup\n- LedgerActivityMeasure\\_TransactionDate\n- LedgerActivityMeasure\\_Currency\n- LedgerActivityMeasure\\_FiscalPeriodDateAggregtateDimension\n- LedgerActivityMeasure\\_LedgerFactDimension\n- LedgerActivityMeasure\\_FiscalYearOffsetDimension\n- LedgerActivityMeasure\\_MainAccount\n- **LedgerActivityMeasure\\_DimensionCombination**\n- LedgerActivityMeasure\\_Ledger\n- LedgerActivityMeasure\\_MainAccountCategory\n- LedgerActivityMeasure\\_Company\n- LedgerActivityMeasure\\_MainAccountLegalEntity\n- **LedgerActivityMeasure\\_Agreement**\n- **LedgerActivityMeasure\\_BankAccount**\n- **LedgerActivityMeasure\\_BusinessUnit**\n- **LedgerActivityMeasure\\_Campaign**\n- **LedgerActivityMeasure\\_Cargo**\n- **LedgerActivityMeasure\\_Cargo\\_CN**\n\nNotice that, for each financial dimension that is defined in your system, you might see a corresponding table in the Entity store.\n\nIf you examine the LedgerActivityMeasure\\_DimensionCombination table, you will notice that the list of fields has been expanded and now includes additional fields. Each new field corresponds to a financial dimension. For an example, here are some of the additional fields:\n\n- Agreement\\_FK\n- Agreement\\_Description\n- Agreement\\_Value\n- BankAccount\\_FK\n- BankAccount\\_Description\n- BankAccount\\_Value\n- BusinessUnit\\_FK\n- BusinessUnit\\_Description\n- BusinessUnit\\_Value\n\nIf a user defines a new financial dimension that is named **vendor**, when the Entity store is updated, a new table is added that is named LedgerActivityMeasure\\_Vendor.\n\nThe LedgerActivityMeasure\\_DimensionCombination table will also contain the following new set of fields:\n\n- Vendor\\_FK\n- Vendor\\_Description\n- Vendor\\_Value\n\n## How a Power BI report author can create reports that use financial dimensions\n\nA business user can create a new report that uses financial dimensions by using Power BI desktop. Existing reports that use financial dimensions can be updated so that they include additional fields.\n\nIn this example, we will use Power BI desktop to create a report that uses the Ledger Activity measure group. \n\n1. In a development environment, connect to the Entity store database by using Power BI desktop. \n2. Select the following tables:\n\n    - LedgerActivityMeasure\\_LedgerActivityMeasureGroup\n    - LedgerActivityMeasure\\_FiscalPeriodDateAggregtateDimension\n    - LedgerActivityMeasure\\_DimensionCombination\n\n3. Use the **Manage relationships** option in Power BI desktop to define the following relationships between table fields:\n\n    - Define a join between **LedgerActivityMeasure\\_LedgerActivityMeasureGroup.LEDGERDIMENSION** and **LedgerActivityMeasure\\_DimensionCombination.DIMENTIONCOMBINATIONRECID**.\n    - Define a join between **LedgerActivityMeasure\\_LedgerActivityMeasureGroup.LEDGERGREGORIANDATEID** and **LedgerActivityMeasure\\_FiscalPeriodDateAggregateDimension.LEDGERPERIODGREGORIANDATEID**.\n\n4. Create a matrix report that uses the **Sales** and **YearName** fields. The report should resemble the following example.\n\n    ![Example of a matrix report that uses the Sales and YearName fields](media/d1d0e190896bec3a755b9b586a3cb657.png)\n\n    Next, we will add financial dimension values.\n\n5. In the list of fields in Power BI desktop, expand the **LedgerActivityMeasure\\_DimensionCombination** table. You will see that the list of dimension fields is expanded into table fields, as shown here.\n\n    ![List of dimension fields expanded into table fields](media/b5099b0c03fa16f0c2ab70943c7cce8b.png)\n\n6. Include the **BusinessUnit\\_Description** field in the report. Your report should now show sales by business unit, as shown in the following example.\n\n    ![Report that shows sales by business unit](media/c39e94631896301db6675d36fc9d3886.png)\n\n    Notice that you have the **BusinessUnit\\_description** field and the **BusinessUnit\\_Value** field. The value field lets you to get a numerical value that can be used to sort columns.\n\n7. Define a new financial dimension, and update the Entity store. \n8. When the update is completed, right-click the **LedgerActivityMeasure\\_DimensionCombination** table, and then select **Refresh data**. Notice that the new financial dimension that you defined is reflected in the list of fields that are available for reporting.\n\n    ![Refresh data](media/6d345e2f68dfb0413daebfd5f469db2c.png)\n\n9. You can include the new financial dimension fields in the report.\n\n### Creating reports that use expanded Financial dimension tables\n\nAs we discussed earlier, new tables were created in the Entity store. Each financial dimension field is also added to a new table. The new tables contain individual fields for the name, value, and description.\n\nNotice that the new tables contain a key that can be used to join them with the LedgerActivityMeasure\\_DimensionCombination table that is used to create the report. If you want to use fields from these additional tables, just include them in the report and relate them by using the keys.\n\n1. Open the report that you created earlier.\n\n    We will now add a financial dimension table to the report.\n\n2. In Power BI desktop, click **Recent Sources** on the menu, and then select the **AXDW** data connection. Table navigator is shown.\n3. Select the **LedgerActivityMeasure\\_LegalEntity** table for the report.\n\n    > [!NOTE]\n    > If you're using a development or demo environment, you see this table because **LegalEntity** is a financial dimension that is defined in demo data. If you're working with your own data, the tables that you see will correspond to financial dimensions that you've defined.\n\n    We will now relate the selected table to existing tables in the report. \n\n4. In the report, open the **Manage relationships** dialog box.\n5. Join **LedgerActivityMeasure\\_DimensionCombination.LegalEntity\\_FK** to **LedgerActivityMeasure\\_LegalEntity.KEY\\_**.\n\nIf you select a different dimension table in step 3, you must relate the corresponding **FieldName\\_FK** field from the combination table to the **KEY\\_** field in the dimension table.\n\n## How a developer can enable financial dimensions\n\nBefore users can see expanded financial dimensions in the Entity store, a developer must enable the use of financial dimensions in aggregate measurements. As a best practice, financial dimensions should be included when you model any aggregate measurement that involves financial data. To include financial dimensions, create an aggregate dimension that is based on “financial dimension tables.” As we saw earlier, an aggregate dimension that you create by using financial dimension tables will be expanded at runtime.\n\n### What are financial dimension tables?\n\nFinancial dimension tables are base tables that contain financial dimension data. Examples include **DimensionAttributeValueCombination** and **DimensionAttributeValueSet**.\n\nIf you use a table, a view, or an entity that is based on those two tables, the fields of the aggregate dimension will be expanded at runtime.\n\nConsider the following example from the LedgerActivityMeasure aggregate measurement.\n\n![DimensionCombination aggregate dimension in the LedgerActivityMeasure aggregate measurement](media/08437296a512478e99b3c377170edeee.png)\n\nDimensionCombination is an aggregate dimension that is modeled by using the DimensionAttributeValueCombination base table. In this case, the developer has referenced the aggregate dimension by using the LedgerActivityMeasureGroup measure group.\n\nAt runtime, new dimension fields are added (that is, the DimensionCombination table is expanded) as new financial dimensions are defined in the system.\n\n### Creating role-playing financial dimensions\n\nWhen you report by using ledger data, you might require reporting on primary accounts and offset accounts. For an example, if a ledger transaction involves the transfer of an amount from one account to another account, the primary account is the \"from\" account, whereas the offset account is the \"to\" account. This pattern is known as the *role-playing dimensions* pattern.\n\nBoth primary accounts and offset accounts must be associated with transaction data. Therefore, you must expand financial dimension fields of both primary accounts and offset accounts. We will now see how you can meet this requirement. Consider the following example.\n\n![Example of role-playing dimensions](media/062a0d860fe1633a6616bca6e871f95e.png)\n\nWe have modeled two dimension references for LedgerActivityMeaureGroup. The first reference, DimensionCombination, is joined by using the **LedgerDimension** field. We saw this pattern earlier in this topic.\n\nThe second reference, OffsetDimensionCombination, is another reference to the same dimension. We have reused the DimensionCombination aggregate dimension and given it a new name. In the second case, we can join by using the **OffsetLedgerDimension** field.\n\nAt runtime, the system will expand both these dimensions with additional fields. Therefore, you can report on primary and offset dimension fields.\n","nodes":[{"pos":[4,690],"nodes":[{"content":"Add financial dimensions to aggregate measurements","nodes":[{"pos":[0,50],"content":"Add financial dimensions to aggregate measurements","nodes":[{"content":"Add financial dimensions to aggregate measurements","pos":[0,50]}]}],"pos":[27,78],"yaml":true},{"content":"This topic explains how a power user can include financial dimensions in ready-made Power BI reports.","nodes":[{"pos":[0,101],"content":"This topic explains how a power user can include financial dimensions in ready-made Power BI reports.","nodes":[{"content":"This topic explains how a power user can include financial dimensions in ready-made Power BI reports.","pos":[0,101]}]}],"pos":[91,193],"yaml":true}],"content":"# required metadata\n\ntitle: Add financial dimensions to aggregate measurements\ndescription: This topic explains how a power user can include financial dimensions in ready-made Power BI reports.\nauthor: MilindaV2 \nmanager: AnnBe\nms.date: 06/16/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form:  \naudience: Developer, IT Pro\n# ms.devlang: \n# ms.reviewer: sericks\n# ms.search.scope: Operations Platform\n# ms.tgt_pltfrm: \n# ms.custom: \nms.assetid: c04e0a7b-1747-4b88-b729-fd820f8ab600\nms.search.region: Global \n# ms.search.industry: \nms.author: milindav\nms.dyn365.intro: 2017-06-30\nms.dyn365.version: Platform update 8","yamlblock":true},{"pos":[698,748],"content":"Add financial dimensions to aggregate measurements","linkify":"Add financial dimensions to aggregate measurements","nodes":[{"content":"Add financial dimensions to aggregate measurements","pos":[0,50]}]},{"content":"This feature lets power users include financial dimensions in ready-made Microsoft Power BI reports.","pos":[793,893]},{"content":"Power users can also create new Power BI reports that use financial dimensions.","pos":[894,973]},{"content":"Financial dimensions are user-defined configuration data that enables the ledger chart of accounts to retain additional information.","pos":[975,1107]},{"content":"By adding financial dimensions, a user can configure additional data fields that will be included with the chart of accounts and financial reports.","pos":[1108,1255]},{"content":"Therefore, the ledger chart of accounts can be sliced and diced based on those fields.","pos":[1256,1342]},{"content":"This feature provides powerful financial reporting.","pos":[1343,1394]},{"content":"For example, you can explore ledger data by using the new financial dimensions that you've added.","pos":[1395,1492]},{"content":"Because no financial dimensions are included in the ready-made Power BI reports when they are released, you must include these additional fields to the ready-made reports.","pos":[1493,1664]},{"content":"After financial dimension fields are included in the report, you can share the report with other users.","pos":[1667,1770]},{"content":"Those other users can modify existing visuals, such as charts, by including all or some of the financial dimension fields.","pos":[1771,1893]},{"pos":[1897,2068],"content":"[!NOTE]\nThis feature is available in Microsoft Dynamics 365 for Finance and Operations, Enterprise edition July 2017 update. Platform update 8 or later is also required.","leadings":["","> "],"nodes":[{"content":"This feature is available in Microsoft Dynamics 365 for Finance and Operations, Enterprise edition July 2017 update. Platform update 8 or later is also required.","pos":[8,169],"nodes":[{"content":"This feature is available in Microsoft Dynamics 365 for Finance and Operations, Enterprise edition July 2017 update.","pos":[0,116]},{"content":"Platform update 8 or later is also required.","pos":[117,161]}]}]},{"pos":[2074,2101],"content":"How does this feature work?","linkify":"How does this feature work?","nodes":[{"content":"How does this feature work?","pos":[0,27]}]},{"content":"The Entity store is an operational data warehouse that lets power users create reports.","pos":[2103,2190]},{"content":"Whenever the Entity store is updated, all available financial dimensions are included in it.","pos":[2191,2283]},{"content":"We will look at an example from the <bpt id=\"p1\">**</bpt>Ledger Activity<ept id=\"p1\">**</ept> aggregate measurement that contains General ledger journal-level details.","pos":[2284,2413],"source":" We will look at an example from the **Ledger Activity** aggregate measurement that contains General ledger journal-level details."},{"content":"The following list shows some of the tables are filled in the Entity store when it's updated.","pos":[2415,2508]},{"content":"Tables that have changed are bold.","pos":[2509,2543]},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LedgerActivityMeasureGroup","pos":[2547,2596],"source":"LedgerActivityMeasure\\_LedgerActivityMeasureGroup"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>TransactionDate","pos":[2599,2637],"source":"LedgerActivityMeasure\\_TransactionDate"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Currency","pos":[2640,2671],"source":"LedgerActivityMeasure\\_Currency"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>FiscalPeriodDateAggregtateDimension","pos":[2674,2732],"source":"LedgerActivityMeasure\\_FiscalPeriodDateAggregtateDimension"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LedgerFactDimension","pos":[2735,2777],"source":"LedgerActivityMeasure\\_LedgerFactDimension"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>FiscalYearOffsetDimension","pos":[2780,2828],"source":"LedgerActivityMeasure\\_FiscalYearOffsetDimension"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>MainAccount","pos":[2831,2865],"source":"LedgerActivityMeasure\\_MainAccount"},{"pos":[2868,2915],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_DimensionCombination**"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Ledger","pos":[2918,2947],"source":"LedgerActivityMeasure\\_Ledger"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>MainAccountCategory","pos":[2950,2992],"source":"LedgerActivityMeasure\\_MainAccountCategory"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Company","pos":[2995,3025],"source":"LedgerActivityMeasure\\_Company"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>MainAccountLegalEntity","pos":[3028,3073],"source":"LedgerActivityMeasure\\_MainAccountLegalEntity"},{"pos":[3076,3112],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Agreement<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_Agreement**"},{"pos":[3115,3153],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>BankAccount<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_BankAccount**"},{"pos":[3156,3195],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>BusinessUnit<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_BusinessUnit**"},{"pos":[3198,3233],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Campaign<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_Campaign**"},{"pos":[3236,3268],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Cargo<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_Cargo**"},{"pos":[3271,3307],"content":"<bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Cargo<ph id=\"ph2\">\\_</ph>CN<ept id=\"p1\">**</ept>","source":"**LedgerActivityMeasure\\_Cargo\\_CN**"},{"content":"Notice that, for each financial dimension that is defined in your system, you might see a corresponding table in the Entity store.","pos":[3309,3439]},{"content":"If you examine the LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination table, you will notice that the list of fields has been expanded and now includes additional fields.","pos":[3441,3604],"source":"If you examine the LedgerActivityMeasure\\_DimensionCombination table, you will notice that the list of fields has been expanded and now includes additional fields."},{"content":"Each new field corresponds to a financial dimension.","pos":[3605,3657]},{"content":"For an example, here are some of the additional fields:","pos":[3658,3713]},{"content":"Agreement<ph id=\"ph1\">\\_</ph>FK","pos":[3717,3730],"source":"Agreement\\_FK"},{"content":"Agreement<ph id=\"ph1\">\\_</ph>Description","pos":[3733,3755],"source":"Agreement\\_Description"},{"content":"Agreement<ph id=\"ph1\">\\_</ph>Value","pos":[3758,3774],"source":"Agreement\\_Value"},{"content":"BankAccount<ph id=\"ph1\">\\_</ph>FK","pos":[3777,3792],"source":"BankAccount\\_FK"},{"content":"BankAccount<ph id=\"ph1\">\\_</ph>Description","pos":[3795,3819],"source":"BankAccount\\_Description"},{"content":"BankAccount<ph id=\"ph1\">\\_</ph>Value","pos":[3822,3840],"source":"BankAccount\\_Value"},{"content":"BusinessUnit<ph id=\"ph1\">\\_</ph>FK","pos":[3843,3859],"source":"BusinessUnit\\_FK"},{"content":"BusinessUnit<ph id=\"ph1\">\\_</ph>Description","pos":[3862,3887],"source":"BusinessUnit\\_Description"},{"content":"BusinessUnit<ph id=\"ph1\">\\_</ph>Value","pos":[3890,3909],"source":"BusinessUnit\\_Value"},{"pos":[3911,4080],"content":"If a user defines a new financial dimension that is named <bpt id=\"p1\">**</bpt>vendor<ept id=\"p1\">**</ept>, when the Entity store is updated, a new table is added that is named LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>Vendor.","source":"If a user defines a new financial dimension that is named **vendor**, when the Entity store is updated, a new table is added that is named LedgerActivityMeasure\\_Vendor."},{"content":"The LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination table will also contain the following new set of fields:","pos":[4082,4186],"source":"The LedgerActivityMeasure\\_DimensionCombination table will also contain the following new set of fields:"},{"content":"Vendor<ph id=\"ph1\">\\_</ph>FK","pos":[4190,4200],"source":"Vendor\\_FK"},{"content":"Vendor<ph id=\"ph1\">\\_</ph>Description","pos":[4203,4222],"source":"Vendor\\_Description"},{"content":"Vendor<ph id=\"ph1\">\\_</ph>Value","pos":[4225,4238],"source":"Vendor\\_Value"},{"pos":[4243,4320],"content":"How a Power BI report author can create reports that use financial dimensions","linkify":"How a Power BI report author can create reports that use financial dimensions","nodes":[{"content":"How a Power BI report author can create reports that use financial dimensions","pos":[0,77]}]},{"content":"A business user can create a new report that uses financial dimensions by using Power BI desktop.","pos":[4322,4419]},{"content":"Existing reports that use financial dimensions can be updated so that they include additional fields.","pos":[4420,4521]},{"content":"In this example, we will use Power BI desktop to create a report that uses the Ledger Activity measure group.","pos":[4523,4632]},{"content":"In a development environment, connect to the Entity store database by using Power BI desktop.","pos":[4638,4731]},{"content":"Select the following tables:","pos":[4736,4764]},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LedgerActivityMeasureGroup","pos":[4772,4821],"source":"LedgerActivityMeasure\\_LedgerActivityMeasureGroup"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>FiscalPeriodDateAggregtateDimension","pos":[4828,4886],"source":"LedgerActivityMeasure\\_FiscalPeriodDateAggregtateDimension"},{"content":"LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination","pos":[4893,4936],"source":"LedgerActivityMeasure\\_DimensionCombination"},{"pos":[4941,5060],"content":"Use the <bpt id=\"p1\">**</bpt>Manage relationships<ept id=\"p1\">**</ept> option in Power BI desktop to define the following relationships between table fields:","source":"Use the **Manage relationships** option in Power BI desktop to define the following relationships between table fields:"},{"pos":[5068,5238],"content":"Define a join between <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LedgerActivityMeasureGroup.LEDGERDIMENSION<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>LedgerActivityMeasure<ph id=\"ph2\">\\_</ph>DimensionCombination.DIMENTIONCOMBINATIONRECID<ept id=\"p2\">**</ept>.","source":"Define a join between **LedgerActivityMeasure\\_LedgerActivityMeasureGroup.LEDGERDIMENSION** and **LedgerActivityMeasure\\_DimensionCombination.DIMENTIONCOMBINATIONRECID**."},{"pos":[5245,5437],"content":"Define a join between <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LedgerActivityMeasureGroup.LEDGERGREGORIANDATEID<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>LedgerActivityMeasure<ph id=\"ph2\">\\_</ph>FiscalPeriodDateAggregateDimension.LEDGERPERIODGREGORIANDATEID<ept id=\"p2\">**</ept>.","source":"Define a join between **LedgerActivityMeasure\\_LedgerActivityMeasureGroup.LEDGERGREGORIANDATEID** and **LedgerActivityMeasure\\_FiscalPeriodDateAggregateDimension.LEDGERPERIODGREGORIANDATEID**."},{"content":"Create a matrix report that uses the <bpt id=\"p1\">**</bpt>Sales<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>YearName<ept id=\"p2\">**</ept> fields.","pos":[5442,5513],"source":"Create a matrix report that uses the **Sales** and **YearName** fields."},{"content":"The report should resemble the following example.","pos":[5514,5563]},{"content":"Example of a matrix report that uses the Sales and YearName fields","pos":[5571,5637]},{"content":"Next, we will add financial dimension values.","pos":[5688,5733]},{"content":"In the list of fields in Power BI desktop, expand the <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination<ept id=\"p1\">**</ept> table.","pos":[5738,5846],"source":"In the list of fields in Power BI desktop, expand the **LedgerActivityMeasure\\_DimensionCombination** table."},{"content":"You will see that the list of dimension fields is expanded into table fields, as shown here.","pos":[5847,5939]},{"content":"List of dimension fields expanded into table fields","pos":[5947,5998]},{"content":"Include the <bpt id=\"p1\">**</bpt>BusinessUnit<ph id=\"ph1\">\\_</ph>Description<ept id=\"p1\">**</ept> field in the report.","pos":[6048,6110],"source":"Include the **BusinessUnit\\_Description** field in the report."},{"content":"Your report should now show sales by business unit, as shown in the following example.","pos":[6111,6197]},{"content":"Report that shows sales by business unit","pos":[6205,6245]},{"content":"Notice that you have the <bpt id=\"p1\">**</bpt>BusinessUnit<ph id=\"ph1\">\\_</ph>description<ept id=\"p1\">**</ept> field and the <bpt id=\"p2\">**</bpt>BusinessUnit<ph id=\"ph2\">\\_</ph>Value<ept id=\"p2\">**</ept> field.","pos":[6296,6395],"source":"Notice that you have the **BusinessUnit\\_description** field and the **BusinessUnit\\_Value** field."},{"content":"The value field lets you to get a numerical value that can be used to sort columns.","pos":[6396,6479]},{"content":"Define a new financial dimension, and update the Entity store.","pos":[6484,6546]},{"content":"When the update is completed, right-click the <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination<ept id=\"p1\">**</ept> table, and then select <bpt id=\"p2\">**</bpt>Refresh data<ept id=\"p2\">**</ept>.","pos":[6551,6685],"source":"When the update is completed, right-click the **LedgerActivityMeasure\\_DimensionCombination** table, and then select **Refresh data**."},{"content":"Notice that the new financial dimension that you defined is reflected in the list of fields that are available for reporting.","pos":[6686,6811]},{"content":"Refresh data","pos":[6819,6831]},{"content":"You can include the new financial dimension fields in the report.","pos":[6881,6946]},{"pos":[6952,7013],"content":"Creating reports that use expanded Financial dimension tables","linkify":"Creating reports that use expanded Financial dimension tables","nodes":[{"content":"Creating reports that use expanded Financial dimension tables","pos":[0,61]}]},{"content":"As we discussed earlier, new tables were created in the Entity store.","pos":[7015,7084]},{"content":"Each financial dimension field is also added to a new table.","pos":[7085,7145]},{"content":"The new tables contain individual fields for the name, value, and description.","pos":[7146,7224]},{"content":"Notice that the new tables contain a key that can be used to join them with the LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination table that is used to create the report.","pos":[7226,7390],"source":"Notice that the new tables contain a key that can be used to join them with the LedgerActivityMeasure\\_DimensionCombination table that is used to create the report."},{"content":"If you want to use fields from these additional tables, just include them in the report and relate them by using the keys.","pos":[7391,7513]},{"content":"Open the report that you created earlier.","pos":[7518,7559]},{"content":"We will now add a financial dimension table to the report.","pos":[7565,7623]},{"content":"In Power BI desktop, click <bpt id=\"p1\">**</bpt>Recent Sources<ept id=\"p1\">**</ept> on the menu, and then select the <bpt id=\"p2\">**</bpt>AXDW<ept id=\"p2\">**</ept> data connection.","pos":[7628,7732],"source":"In Power BI desktop, click **Recent Sources** on the menu, and then select the **AXDW** data connection."},{"content":"Table navigator is shown.","pos":[7733,7758]},{"pos":[7762,7833],"content":"Select the <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>LegalEntity<ept id=\"p1\">**</ept> table for the report.","source":"Select the **LedgerActivityMeasure\\_LegalEntity** table for the report."},{"pos":[7841,8126],"content":"[!NOTE]\nIf you're using a development or demo environment, you see this table because **LegalEntity** is a financial dimension that is defined in demo data. If you're working with your own data, the tables that you see will correspond to financial dimensions that you've defined.","leadings":["","    > "],"nodes":[{"content":"If you're using a development or demo environment, you see this table because **LegalEntity** is a financial dimension that is defined in demo data. If you're working with your own data, the tables that you see will correspond to financial dimensions that you've defined.","pos":[8,279],"nodes":[{"content":"If you're using a development or demo environment, you see this table because <bpt id=\"p1\">**</bpt>LegalEntity<ept id=\"p1\">**</ept> is a financial dimension that is defined in demo data.","pos":[0,148],"source":"If you're using a development or demo environment, you see this table because **LegalEntity** is a financial dimension that is defined in demo data."},{"content":"If you're working with your own data, the tables that you see will correspond to financial dimensions that you've defined.","pos":[149,271]}]}]},{"content":"We will now relate the selected table to existing tables in the report.","pos":[8132,8203]},{"pos":[8209,8269],"content":"In the report, open the <bpt id=\"p1\">**</bpt>Manage relationships<ept id=\"p1\">**</ept> dialog box.","source":"In the report, open the **Manage relationships** dialog box."},{"pos":[8273,8390],"content":"Join <bpt id=\"p1\">**</bpt>LedgerActivityMeasure<ph id=\"ph1\">\\_</ph>DimensionCombination.LegalEntity<ph id=\"ph2\">\\_</ph>FK<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>LedgerActivityMeasure<ph id=\"ph3\">\\_</ph>LegalEntity.KEY<ph id=\"ph4\">\\_</ph><ept id=\"p2\">**</ept>.","source":"Join **LedgerActivityMeasure\\_DimensionCombination.LegalEntity\\_FK** to **LedgerActivityMeasure\\_LegalEntity.KEY\\_**."},{"pos":[8392,8576],"content":"If you select a different dimension table in step 3, you must relate the corresponding <bpt id=\"p1\">**</bpt>FieldName<ph id=\"ph1\">\\_</ph>FK<ept id=\"p1\">**</ept> field from the combination table to the <bpt id=\"p2\">**</bpt>KEY<ph id=\"ph2\">\\_</ph><ept id=\"p2\">**</ept> field in the dimension table.","source":"If you select a different dimension table in step 3, you must relate the corresponding **FieldName\\_FK** field from the combination table to the **KEY\\_** field in the dimension table."},{"pos":[8581,8628],"content":"How a developer can enable financial dimensions","linkify":"How a developer can enable financial dimensions","nodes":[{"content":"How a developer can enable financial dimensions","pos":[0,47]}]},{"content":"Before users can see expanded financial dimensions in the Entity store, a developer must enable the use of financial dimensions in aggregate measurements.","pos":[8630,8784]},{"content":"As a best practice, financial dimensions should be included when you model any aggregate measurement that involves financial data.","pos":[8785,8915]},{"content":"To include financial dimensions, create an aggregate dimension that is based on “financial dimension tables.”","pos":[8916,9025]},{"content":"As we saw earlier, an aggregate dimension that you create by using financial dimension tables will be expanded at runtime.","pos":[9026,9148]},{"pos":[9154,9190],"content":"What are financial dimension tables?","linkify":"What are financial dimension tables?","nodes":[{"content":"What are financial dimension tables?","pos":[0,36]}]},{"content":"Financial dimension tables are base tables that contain financial dimension data.","pos":[9192,9273]},{"content":"Examples include <bpt id=\"p1\">**</bpt>DimensionAttributeValueCombination<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>DimensionAttributeValueSet<ept id=\"p2\">**</ept>.","pos":[9274,9365],"source":" Examples include **DimensionAttributeValueCombination** and **DimensionAttributeValueSet**."},{"content":"If you use a table, a view, or an entity that is based on those two tables, the fields of the aggregate dimension will be expanded at runtime.","pos":[9367,9509]},{"content":"Consider the following example from the LedgerActivityMeasure aggregate measurement.","pos":[9511,9595]},{"content":"DimensionCombination aggregate dimension in the LedgerActivityMeasure aggregate measurement","pos":[9599,9690]},{"content":"DimensionCombination is an aggregate dimension that is modeled by using the DimensionAttributeValueCombination base table.","pos":[9737,9859]},{"content":"In this case, the developer has referenced the aggregate dimension by using the LedgerActivityMeasureGroup measure group.","pos":[9860,9981]},{"content":"At runtime, new dimension fields are added (that is, the DimensionCombination table is expanded) as new financial dimensions are defined in the system.","pos":[9983,10134]},{"pos":[10140,10182],"content":"Creating role-playing financial dimensions","linkify":"Creating role-playing financial dimensions","nodes":[{"content":"Creating role-playing financial dimensions","pos":[0,42]}]},{"content":"When you report by using ledger data, you might require reporting on primary accounts and offset accounts.","pos":[10184,10290]},{"content":"For an example, if a ledger transaction involves the transfer of an amount from one account to another account, the primary account is the \"from\" account, whereas the offset account is the \"to\" account.","pos":[10291,10493]},{"content":"This pattern is known as the <bpt id=\"p1\">*</bpt>role-playing dimensions<ept id=\"p1\">*</ept> pattern.","pos":[10494,10557],"source":" This pattern is known as the *role-playing dimensions* pattern."},{"content":"Both primary accounts and offset accounts must be associated with transaction data.","pos":[10559,10642]},{"content":"Therefore, you must expand financial dimension fields of both primary accounts and offset accounts.","pos":[10643,10742]},{"content":"We will now see how you can meet this requirement.","pos":[10743,10793]},{"content":"Consider the following example.","pos":[10794,10825]},{"content":"Example of role-playing dimensions","pos":[10829,10863]},{"content":"We have modeled two dimension references for LedgerActivityMeaureGroup.","pos":[10910,10981]},{"content":"The first reference, DimensionCombination, is joined by using the <bpt id=\"p1\">**</bpt>LedgerDimension<ept id=\"p1\">**</ept> field.","pos":[10982,11074],"source":" The first reference, DimensionCombination, is joined by using the **LedgerDimension** field."},{"content":"We saw this pattern earlier in this topic.","pos":[11075,11117]},{"content":"The second reference, OffsetDimensionCombination, is another reference to the same dimension.","pos":[11119,11212]},{"content":"We have reused the DimensionCombination aggregate dimension and given it a new name.","pos":[11213,11297]},{"content":"In the second case, we can join by using the <bpt id=\"p1\">**</bpt>OffsetLedgerDimension<ept id=\"p1\">**</ept> field.","pos":[11298,11375],"source":" In the second case, we can join by using the **OffsetLedgerDimension** field."},{"content":"At runtime, the system will expand both these dimensions with additional fields.","pos":[11377,11457]},{"content":"Therefore, you can report on primary and offset dimension fields.","pos":[11458,11523]}]}