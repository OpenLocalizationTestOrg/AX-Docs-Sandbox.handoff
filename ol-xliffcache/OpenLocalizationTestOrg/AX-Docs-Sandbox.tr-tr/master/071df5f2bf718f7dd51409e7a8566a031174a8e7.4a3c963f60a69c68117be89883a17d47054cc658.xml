{"nodes":[{"pos":[32,84],"content":"Monitoring and diagnostics (Lifecycle Services, LCS)","needQuote":true,"needEscape":true,"nodes":[{"content":"Monitoring and diagnostics (Lifecycle Services, LCS)","pos":[0,52]}]},{"pos":[98,323],"content":"This topic describes the various tools that Microsoft Dynamics Lifecycle Services (LCS) provides to help you monitor, diagnose, and analyze the health of the Microsoft Dynamics 365 for Operations environments that you manage.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes the various tools that Microsoft Dynamics Lifecycle Services (LCS) provides to help you monitor, diagnose, and analyze the health of the Microsoft Dynamics 365 for Operations environments that you manage.","pos":[0,225]}]},{"pos":[816,868],"content":"Monitoring and diagnostics (Lifecycle Services, LCS)","linkify":"Monitoring and diagnostics (Lifecycle Services, LCS)","nodes":[{"content":"Monitoring and diagnostics (Lifecycle Services, LCS)","pos":[0,52]}]},{"content":"This topic describes the various tools that Microsoft Dynamics Lifecycle Services (LCS) provides to help you monitor, diagnose, and analyze the health of the Microsoft Dynamics 365 for Operations environments that you manage.","pos":[870,1095]},{"content":"To have a successful onboarding experience to the cloud service for Microsoft Dynamics 365 for Operations, you must know the health of your environments at all times.","pos":[1097,1263]},{"content":"You must also be able to troubleshoot any health issues that occur.","pos":[1264,1331]},{"content":"Microsoft Dynamics Lifecycle Services (LCS), which is the administration center for Dynamics 365 for Operations, contains a collection of monitoring and diagnostics tools that can help guarantee that you have an accurate view of the environments that you manage.","pos":[1332,1594]},{"pos":[1599,1613],"content":"Telemetry data","linkify":"Telemetry data","nodes":[{"content":"Telemetry data","pos":[0,14]}]},{"content":"The telemetry data that is the basis of the Monitoring and diagnostics portal in LCS has three primary use cases: monitoring, diagnostics, and analytics.","pos":[1614,1767]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>monitoringanddiagnostics01<ept id=\"p1\">](./media/monitoringanddiagnostics01.png)](./media/monitoringanddiagnostics01.png)</ept>","pos":[1768,1879],"source":"[![monitoringanddiagnostics01](./media/monitoringanddiagnostics01.png)](./media/monitoringanddiagnostics01.png)"},{"pos":[1885,1895],"content":"Monitoring","linkify":"Monitoring","nodes":[{"content":"Monitoring","pos":[0,10]}]},{"content":"In business operations software, you should always know whether your environment is up and running, so that it can perform business operations.","pos":[1897,2040]},{"content":"You should also be able to easily view the health of the environment through LCS.","pos":[2041,2122]},{"content":"Microsoft supports two types of monitoring capabilities:","pos":[2123,2179]},{"content":"<bpt id=\"p1\">**</bpt>Availability monitoring<ept id=\"p1\">**</ept> – This type of monitoring performs a check against the environment to make sure that it's available at all times.","pos":[2185,2326],"source":"**Availability monitoring** – This type of monitoring performs a check against the environment to make sure that it's available at all times."},{"content":"If the check fails, the Microsoft Service Engineering team is immediately notified.","pos":[2327,2410]},{"content":"<bpt id=\"p1\">**</bpt>Health monitoring<ept id=\"p1\">**</ept> – In addition to availability checks, some basic health checks must be performed.","pos":[2415,2518],"source":"**Health monitoring** – In addition to availability checks, some basic health checks must be performed."},{"content":"These basic health checks include CPU level, memory consumption of the virtual machines (VMs), and the total number of deadlocks in a five-minute period.","pos":[2519,2672]},{"content":"Microsoft Telemetry Infrastructure collects lots of health metrics from the environments.","pos":[2673,2762]},{"content":"If a metric cross a threshold value, the Microsoft Service Engineering term is alerted so that it can investigate the issue.","pos":[2763,2887]},{"pos":[2893,2904],"content":"Diagnostics","linkify":"Diagnostics","nodes":[{"content":"Diagnostics","pos":[0,11]}]},{"content":"When a user reports an issue, you can use various tools in LCS for troubleshooting.","pos":[2906,2989]},{"content":"The rich set of telemetry data helps you build a storyboard view that shows what that user and other users were doing when the issue was reported.","pos":[2990,3136]},{"content":"In addition to user activity tracking, a rich set of SQL data is available for performance troubleshooting.","pos":[3137,3244]},{"pos":[3250,3259],"content":"Analytics","linkify":"Analytics","nodes":[{"content":"Analytics","pos":[0,9]}]},{"content":"Analytics is another critical use case for the telemetry data that is collected.","pos":[3261,3341]},{"content":"Currently, only Microsoft can perform analytics, so that it can gauge and understand feature usage and performance through Microsoft Power BI.","pos":[3342,3484]},{"pos":[3489,3505],"content":"Responsibilities","linkify":"Responsibilities","nodes":[{"content":"Responsibilities","pos":[0,16]}]},{"content":"For a managed cloud service such as Dynamics 365 for Operations, Microsoft is responsible for actively monitoring the health of production environments at all times.","pos":[3506,3671]},{"content":"If a customer's environment is affected by an issue, the Microsoft Service Engineering team is immediately alerted.","pos":[3672,3787]},{"content":"The team will start to investigate the issue and will work with you to find a resolution.","pos":[3788,3877]},{"content":"However, you're responsible for proactively or reactively monitoring and troubleshooting the health of non-production environments.","pos":[3878,4009]},{"pos":[4014,4058],"content":"Access the Monitoring and diagnostics portal","linkify":"Access the Monitoring and diagnostics portal","nodes":[{"content":"Access the Monitoring and diagnostics portal","pos":[0,44]}]},{"content":"Open LCS, and navigate to the appropriate project.","pos":[4063,4113]},{"pos":[4118,4215],"content":"In the <bpt id=\"p1\">**</bpt>Environments<ept id=\"p1\">**</ept> section, select the environment to view, and then click <bpt id=\"p2\">**</bpt>Full details<ept id=\"p2\">**</ept>.","source":"In the **Environments** section, select the environment to view, and then click **Full details**."},{"content":"On the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Environment monitoring<ept id=\"p2\">**</ept> to open the Monitoring and diagnostics portal.","pos":[4220,4336],"source":"On the **Environment details** page, click **Environment monitoring** to open the Monitoring and diagnostics portal."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>howtogettoenvmonitoring<ept id=\"p1\">](./media/howtogettoenvmonitoring-1024x486.jpg)](./media/howtogettoenvmonitoring.jpg)</ept>","pos":[4337,4448],"source":"[![howtogettoenvmonitoring](./media/howtogettoenvmonitoring-1024x486.jpg)](./media/howtogettoenvmonitoring.jpg)"},{"pos":[4453,4458],"content":"Tools","linkify":"Tools","nodes":[{"content":"Tools","pos":[0,5]}]},{"content":"Several tools and resources are available in the Monitoring and diagnostics portal.","pos":[4459,4542]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Not all environments contain all the tools.","pos":[4543,4596],"source":"**Note:** Not all environments contain all the tools."},{"content":"The following table shows the tools that are available for each type of environment.","pos":[4597,4681]},{"content":"Environment type","pos":[4786,4802]},{"content":"Tools","pos":[4812,4817]},{"content":"Production systems","pos":[4867,4885]},{"content":"Activity monitoring","pos":[4904,4923]},{"content":"Environment monitoring","pos":[4933,4955]},{"content":"SQL insights","pos":[4965,4977]},{"content":"System diagnostics","pos":[4987,5005]},{"content":"User acceptance testing (UAT)/sandbox","pos":[5050,5087]},{"content":"Activity monitoring","pos":[5106,5125]},{"content":"SQL insights","pos":[5135,5147]},{"content":"System diagnostics","pos":[5157,5175]},{"content":"Demo/build","pos":[5219,5229]},{"content":"Activity monitoring","pos":[5248,5267]},{"content":"System diagnostics","pos":[5277,5295]},{"pos":[5341,5361],"content":"Monitoring dashboard","linkify":"Monitoring dashboard","nodes":[{"content":"Monitoring dashboard","pos":[0,20]}]},{"content":"In the Monitoring and diagnostics portal, click the <bpt id=\"p1\">**</bpt>Environment<ept id=\"p1\">**</ept> tab to view the Monitoring dashboard.","pos":[5363,5468],"source":"In the Monitoring and diagnostics portal, click the **Environment** tab to view the Monitoring dashboard."},{"content":"On the dashboard, a green check marks indicate that the environment is available to perform business operations.","pos":[5469,5581]},{"content":"Health metrics are collected for every machine and component.","pos":[5582,5643]},{"content":"These health metrics include CPU usage, errors logged per second, and batch heartbeat.","pos":[5644,5730]},{"content":"For some metrics, Microsoft has set up threshold values.","pos":[5731,5787]},{"content":"If a metric crosses the threshold, an alert is triggered.","pos":[5788,5845]},{"content":"For example, an alert is triggered if CPU usage exceeds 70 percent.","pos":[5846,5913]},{"content":"You can view the health monitors for a specific area to see what is occurring.","pos":[5914,5992]},{"pos":[5998,6017],"content":"Activity monitoring","linkify":"Activity monitoring","nodes":[{"content":"Activity monitoring","pos":[0,19]}]},{"content":"In the Monitoring and diagnostics portal, click the <bpt id=\"p1\">**</bpt>Activity<ept id=\"p1\">**</ept> tab to use the Activity monitoring tool.","pos":[6019,6124],"source":"In the Monitoring and diagnostics portal, click the **Activity** tab to use the Activity monitoring tool."},{"content":"This tool provides a storyboard view that shows what you or another user was doing during a specific period.","pos":[6125,6233]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>activitymonitoringview<ept id=\"p1\">](./media/activitymonitoringview-1024x507.jpg)](./media/activitymonitoringview.jpg)</ept>","pos":[6234,6342],"source":"[![activitymonitoringview](./media/activitymonitoringview-1024x507.jpg)](./media/activitymonitoringview.jpg)"},{"pos":[6348,6474],"content":"The <bpt id=\"p1\">**</bpt>User interaction<ept id=\"p1\">**</ept> chart shows a user's activities on various machines in the environment and the SQL utilization trend.","source":"The **User interaction** chart shows a user's activities on various machines in the environment and the SQL utilization trend."},{"content":"The <bpt id=\"p1\">**</bpt>User load<ept id=\"p1\">**</ept> section shows all the system users.","pos":[6479,6532],"source":"The **User load** section shows all the system users."},{"content":"Each chart shows the time that the user spent on a specific machine.","pos":[6533,6601]},{"content":"The <bpt id=\"p1\">**</bpt>Activity load<ept id=\"p1\">**</ept> section shows the activities that were performed on each machine.","pos":[6606,6693],"source":"The **Activity load** section shows the activities that were performed on each machine."},{"content":"If you hover over an activity, you see the Form:Control:Action as a tuple.","pos":[6694,6768]},{"content":"For example, if you look at LedgerJournal:New:Click in this section, you can see that user A opened the <bpt id=\"p1\">**</bpt>LedgerJournals<ept id=\"p1\">**</ept> page and clicked the <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept> button to create a new journal entry.","pos":[6769,6958],"source":" For example, if you look at LedgerJournal:New:Click in this section, you can see that user A opened the **LedgerJournals** page and clicked the **New** button to create a new journal entry."},{"pos":[6963,7074],"content":"The <bpt id=\"p1\">**</bpt>User activity<ept id=\"p1\">**</ept> grid shows the various activities that users performed, based on their session timestamp.","source":"The **User activity** grid shows the various activities that users performed, based on their session timestamp."},{"content":"You can use the filters on this page to narrow the information logs.","pos":[7076,7144]},{"content":"Here are some of the filters that are available:","pos":[7145,7193]},{"pos":[7199,7270],"content":"<bpt id=\"p1\">**</bpt>Time duration<ept id=\"p1\">**</ept> – Go back 60 minutes from the selected date and time.","source":"**Time duration** – Go back 60 minutes from the selected date and time."},{"pos":[7275,7320],"content":"<bpt id=\"p1\">**</bpt>User<ept id=\"p1\">**</ept> – View a specific user's activities.","source":"**User** – View a specific user's activities."},{"pos":[7325,7414],"content":"<bpt id=\"p1\">**</bpt>Search terms<ept id=\"p1\">**</ept> – Create a search that is based on the issue that is being investigated.","source":"**Search terms** – Create a search that is based on the issue that is being investigated."},{"pos":[7416,7490],"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept> The Activity monitoring tool retains data for only 30 days.","source":"**Important:** The Activity monitoring tool retains data for only 30 days."},{"pos":[7496,7516],"content":"Raw information logs","linkify":"Raw information logs","nodes":[{"content":"Raw information logs","pos":[0,20]}]},{"content":"For advanced troubleshooting, you can view raw information logs.","pos":[7518,7582]},{"content":"You can use a set of predefined queries to get raw logs for an issue.","pos":[7583,7652]},{"content":"You can then export the logs to do more advanced analysis.","pos":[7653,7711]},{"content":"The following types of queries are available:","pos":[7712,7757]},{"content":"Slow queries","pos":[7763,7775]},{"content":"Deadlocks","pos":[7780,7789]},{"content":"Crashes","pos":[7794,7801]},{"content":"Financial reporting issues","pos":[7806,7832]},{"pos":[7838,7850],"content":"SQL insights","linkify":"SQL insights","nodes":[{"content":"SQL insights","pos":[0,12]}]},{"content":"The Monitoring and diagnostics portal also includes advanced SQL troubleshooting tools to enable performance analysis.","pos":[7852,7970]},{"content":"Some of these tools resemble the DynPerf tool that was used for SQL troubleshooting in Microsoft Dynamics AX 2012.","pos":[7971,8085]},{"pos":[8092,8111],"content":"Performance metrics","linkify":"Performance metrics","nodes":[{"content":"Performance metrics","pos":[0,19]}]},{"content":"The <bpt id=\"p1\">**</bpt>Performance metrics<ept id=\"p1\">**</ept> page shows the most expensive queries that were run in the system during the selected period, based on logical I/O, execution count, duration, CPU time, and wait count.","pos":[8113,8309],"source":"The **Performance metrics** page shows the most expensive queries that were run in the system during the selected period, based on logical I/O, execution count, duration, CPU time, and wait count."},{"content":"This data is queried from the SQL query store.","pos":[8310,8356]},{"content":"The data is retained for 30 days, and the tool runs its data collection every day at 10 PM Coordinated Universal Time (UTC).","pos":[8357,8481]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>sqlinsights<ept id=\"p1\">](./media/sqlinsights-1024x512.jpg)](./media/sqlinsights.jpg)</ept> To use the tool, follow these steps.","pos":[8482,8594],"source":"[![sqlinsights](./media/sqlinsights-1024x512.jpg)](./media/sqlinsights.jpg) To use the tool, follow these steps."},{"content":"Select a period during the last 30 days.","pos":[8600,8640]},{"content":"When the query results appear, select the first bar in the duration chart to highlight where the query falls on other metrics.","pos":[8645,8771]},{"pos":[8776,8855],"content":"On the <bpt id=\"p1\">**</bpt>Statement<ept id=\"p1\">**</ept> tab, view the query, or download the query execution plan.","source":"On the **Statement** tab, view the query, or download the query execution plan."},{"pos":[8862,8874],"content":"SQL now tool","linkify":"SQL now tool","nodes":[{"content":"SQL now tool","pos":[0,12]}]},{"content":"You can use the SQL now tool for just-in-time diagnostics.","pos":[8876,8934]},{"content":"For example, a report is running slowly, and you want to see whether there are any locking/blocking issues and what SQL statements are running in the background.","pos":[8935,9096]},{"content":"In this case, you can open this page and refresh it while the report is being run.","pos":[9097,9179]},{"pos":[9186,9200],"content":"Index analysis","linkify":"Index analysis","nodes":[{"content":"Index analysis","pos":[0,14]}]},{"content":"The Index analysis tool shows aggregated index and table information, based on user scans, user seeks, user updates, and row count.","pos":[9202,9333]},{"content":"Like performance metrics, this tool shows the trend for the selected index together with additional table metrics.","pos":[9334,9448]},{"pos":[9454,9472],"content":"System diagnostics","linkify":"System diagnostics","nodes":[{"content":"System diagnostics","pos":[0,18]}]},{"content":"The System diagnostic tool is a rule-based framework that runs a predefined set of rules against the environment and provides a report about the status of the rules.","pos":[9474,9639]},{"content":"If failures occur, this tool provides recommendations for addressing the issue.","pos":[9640,9719]},{"content":"To start the System diagnostics tool, on the LCS project dashboard, click the hamburger icon, and then click <bpt id=\"p1\">**</bpt>System diagnostic<ept id=\"p1\">**</ept>.","pos":[9720,9851],"source":" To start the System diagnostics tool, on the LCS project dashboard, click the hamburger icon, and then click **System diagnostic**."}],"content":"---\n# required metadata\n\ntitle: Monitoring and diagnostics (Lifecycle Services, LCS)\ndescription: This topic describes the various tools that Microsoft Dynamics Lifecycle Services (LCS) provides to help you monitor, diagnose, and analyze the health of the Microsoft Dynamics 365 for Operations environments that you manage.\nauthor: kfend\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Lifecycle Services\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \n# ms.reviewer: 51\nms.search.scope: Operations\n# ms.tgt_pltfrm: \nms.custom: 267184\nms.assetid: eb056816-ccf4-43a5-aed3-cf72543353de\nms.search.region: Global\n# ms.search.industry: \nms.author: manado\nms.search.validFrom: 2016-11-30\nms.dyn365.ops.version: Version 1611\n\n---\n\n# Monitoring and diagnostics (Lifecycle Services, LCS)\n\nThis topic describes the various tools that Microsoft Dynamics Lifecycle Services (LCS) provides to help you monitor, diagnose, and analyze the health of the Microsoft Dynamics 365 for Operations environments that you manage.\n\nTo have a successful onboarding experience to the cloud service for Microsoft Dynamics 365 for Operations, you must know the health of your environments at all times. You must also be able to troubleshoot any health issues that occur. Microsoft Dynamics Lifecycle Services (LCS), which is the administration center for Dynamics 365 for Operations, contains a collection of monitoring and diagnostics tools that can help guarantee that you have an accurate view of the environments that you manage.\n\n## Telemetry data\nThe telemetry data that is the basis of the Monitoring and diagnostics portal in LCS has three primary use cases: monitoring, diagnostics, and analytics. [![monitoringanddiagnostics01](./media/monitoringanddiagnostics01.png)](./media/monitoringanddiagnostics01.png)\n\n### Monitoring\n\nIn business operations software, you should always know whether your environment is up and running, so that it can perform business operations. You should also be able to easily view the health of the environment through LCS. Microsoft supports two types of monitoring capabilities:\n\n-   **Availability monitoring** – This type of monitoring performs a check against the environment to make sure that it's available at all times. If the check fails, the Microsoft Service Engineering team is immediately notified.\n-   **Health monitoring** – In addition to availability checks, some basic health checks must be performed. These basic health checks include CPU level, memory consumption of the virtual machines (VMs), and the total number of deadlocks in a five-minute period. Microsoft Telemetry Infrastructure collects lots of health metrics from the environments. If a metric cross a threshold value, the Microsoft Service Engineering term is alerted so that it can investigate the issue.\n\n### Diagnostics\n\nWhen a user reports an issue, you can use various tools in LCS for troubleshooting. The rich set of telemetry data helps you build a storyboard view that shows what that user and other users were doing when the issue was reported. In addition to user activity tracking, a rich set of SQL data is available for performance troubleshooting.\n\n### Analytics\n\nAnalytics is another critical use case for the telemetry data that is collected. Currently, only Microsoft can perform analytics, so that it can gauge and understand feature usage and performance through Microsoft Power BI.\n\n## Responsibilities\nFor a managed cloud service such as Dynamics 365 for Operations, Microsoft is responsible for actively monitoring the health of production environments at all times. If a customer's environment is affected by an issue, the Microsoft Service Engineering team is immediately alerted. The team will start to investigate the issue and will work with you to find a resolution. However, you're responsible for proactively or reactively monitoring and troubleshooting the health of non-production environments.\n\n## Access the Monitoring and diagnostics portal\n1.  Open LCS, and navigate to the appropriate project.\n2.  In the **Environments** section, select the environment to view, and then click **Full details**.\n3.  On the **Environment details** page, click **Environment monitoring** to open the Monitoring and diagnostics portal. [![howtogettoenvmonitoring](./media/howtogettoenvmonitoring-1024x486.jpg)](./media/howtogettoenvmonitoring.jpg)\n\n## Tools\nSeveral tools and resources are available in the Monitoring and diagnostics portal. **Note:** Not all environments contain all the tools. The following table shows the tools that are available for each type of environment.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<thead>\n<tr class=\"header\">\n<th>Environment type</th>\n<th>Tools</th>\n</tr>\n</thead>\n<tbody>\n<tr class=\"odd\">\n<td>Production systems</td>\n<td><ul>\n<li>Activity monitoring</li>\n<li>Environment monitoring</li>\n<li>SQL insights</li>\n<li>System diagnostics</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td>User acceptance testing (UAT)/sandbox</td>\n<td><ul>\n<li>Activity monitoring</li>\n<li>SQL insights</li>\n<li>System diagnostics</li>\n</ul></td>\n</tr>\n<tr class=\"odd\">\n<td>Demo/build</td>\n<td><ul>\n<li>Activity monitoring</li>\n<li>System diagnostics</li>\n</ul></td>\n</tr>\n</tbody>\n</table>\n\n### Monitoring dashboard\n\nIn the Monitoring and diagnostics portal, click the **Environment** tab to view the Monitoring dashboard. On the dashboard, a green check marks indicate that the environment is available to perform business operations. Health metrics are collected for every machine and component. These health metrics include CPU usage, errors logged per second, and batch heartbeat. For some metrics, Microsoft has set up threshold values. If a metric crosses the threshold, an alert is triggered. For example, an alert is triggered if CPU usage exceeds 70 percent. You can view the health monitors for a specific area to see what is occurring.\n\n### Activity monitoring\n\nIn the Monitoring and diagnostics portal, click the **Activity** tab to use the Activity monitoring tool. This tool provides a storyboard view that shows what you or another user was doing during a specific period. [![activitymonitoringview](./media/activitymonitoringview-1024x507.jpg)](./media/activitymonitoringview.jpg)\n\n-   The **User interaction** chart shows a user's activities on various machines in the environment and the SQL utilization trend.\n-   The **User load** section shows all the system users. Each chart shows the time that the user spent on a specific machine.\n-   The **Activity load** section shows the activities that were performed on each machine. If you hover over an activity, you see the Form:Control:Action as a tuple. For example, if you look at LedgerJournal:New:Click in this section, you can see that user A opened the **LedgerJournals** page and clicked the **New** button to create a new journal entry.\n-   The **User activity** grid shows the various activities that users performed, based on their session timestamp.\n\nYou can use the filters on this page to narrow the information logs. Here are some of the filters that are available:\n\n-   **Time duration** – Go back 60 minutes from the selected date and time.\n-   **User** – View a specific user's activities.\n-   **Search terms** – Create a search that is based on the issue that is being investigated.\n\n**Important:** The Activity monitoring tool retains data for only 30 days.\n\n### Raw information logs\n\nFor advanced troubleshooting, you can view raw information logs. You can use a set of predefined queries to get raw logs for an issue. You can then export the logs to do more advanced analysis. The following types of queries are available:\n\n-   Slow queries\n-   Deadlocks\n-   Crashes\n-   Financial reporting issues\n\n### SQL insights\n\nThe Monitoring and diagnostics portal also includes advanced SQL troubleshooting tools to enable performance analysis. Some of these tools resemble the DynPerf tool that was used for SQL troubleshooting in Microsoft Dynamics AX 2012.\n\n#### Performance metrics\n\nThe **Performance metrics** page shows the most expensive queries that were run in the system during the selected period, based on logical I/O, execution count, duration, CPU time, and wait count. This data is queried from the SQL query store. The data is retained for 30 days, and the tool runs its data collection every day at 10 PM Coordinated Universal Time (UTC). [![sqlinsights](./media/sqlinsights-1024x512.jpg)](./media/sqlinsights.jpg) To use the tool, follow these steps.\n\n1.  Select a period during the last 30 days.\n2.  When the query results appear, select the first bar in the duration chart to highlight where the query falls on other metrics.\n3.  On the **Statement** tab, view the query, or download the query execution plan.\n\n#### SQL now tool\n\nYou can use the SQL now tool for just-in-time diagnostics. For example, a report is running slowly, and you want to see whether there are any locking/blocking issues and what SQL statements are running in the background. In this case, you can open this page and refresh it while the report is being run.\n\n#### Index analysis\n\nThe Index analysis tool shows aggregated index and table information, based on user scans, user seeks, user updates, and row count. Like performance metrics, this tool shows the trend for the selected index together with additional table metrics.\n\n### System diagnostics\n\nThe System diagnostic tool is a rule-based framework that runs a predefined set of rules against the environment and provides a report about the status of the rules. If failures occur, this tool provides recommendations for addressing the issue. To start the System diagnostics tool, on the LCS project dashboard, click the hamburger icon, and then click **System diagnostic**.\n\n"}