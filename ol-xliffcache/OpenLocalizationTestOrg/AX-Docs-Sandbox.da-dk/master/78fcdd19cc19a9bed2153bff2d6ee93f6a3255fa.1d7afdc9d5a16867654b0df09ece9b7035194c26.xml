{"nodes":[{"pos":[32,76],"content":"Access Dynamics 365 for Operations instances","needQuote":true,"needEscape":true,"nodes":[{"content":"Access Dynamics 365 for Operations instances","pos":[0,44]}]},{"pos":[90,305],"content":"This topic describes how to access development instances of Microsoft Dynamics 365 for Operations, configure on-premises development VMs, and find important configurations settings for developers and administrators.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes how to access development instances of Microsoft Dynamics 365 for Operations, configure on-premises development VMs, and find important configurations settings for developers and administrators.","pos":[0,215]}]},{"pos":[818,862],"content":"Access Dynamics 365 for Operations instances","linkify":"Access Dynamics 365 for Operations instances","nodes":[{"content":"Access Dynamics 365 for Operations instances","pos":[0,44]}]},{"content":"This topic describes how to access development instances of Microsoft Dynamics 365 for Operations, configure on-premises development VMs, and find important configurations settings for developers and administrators.","pos":[864,1079]},{"pos":[1081,1092],"content":"Definitions","linkify":"Definitions","nodes":[{"content":"Definitions","pos":[0,11]}]},{"content":"Term","pos":[1108,1112]},{"content":"Definition","pos":[1120,1130]},{"content":"End user","pos":[1622,1630]},{"content":"A user who accesses Microsoft Dynamics 365 for Operations through the web client.","pos":[1634,1715]},{"content":"The end user must have Microsoft Azure Active Directory (Azure AD) credentials to access an instance and must be provisioned/added as a user of that instance.","pos":[1716,1874]},{"content":"Developer","pos":[1879,1888]},{"content":"A user who will develop code through the Microsoft Visual Studio environment.","pos":[1891,1968]},{"content":"A developer requires Remote Desktop access to development environment (VM).","pos":[1969,2044]},{"content":"The developer account must be an administrator on the VM.","pos":[2045,2102]},{"pos":[2139,2151],"content":"Environments","linkify":"Environments","nodes":[{"content":"Environments","pos":[0,12]}]},{"content":"Dynamics 365 for Operations is deployed in two modes:","pos":[2153,2206]},{"content":"A cloud environment that is provisioned through Microsoft Dynamics Lifecycle Services (LCS), and that supports various topologies (developer, demo, and high availability)","pos":[2212,2382]},{"content":"A local (on-premises) development virtual machine (VM) that is downloaded from LCS","pos":[2387,2469]},{"pos":[2474,2523],"content":"Cloud environment that is provisioned through LCS","linkify":"Cloud environment that is provisioned through LCS","nodes":[{"content":"Cloud environment that is provisioned through LCS","pos":[0,49]}]},{"content":"When a cloud environment is provisioned through LCS, the following events occur:","pos":[2524,2604]},{"content":"The user who requests the cloud environment is provisioned as the administrator in that environment.","pos":[2610,2710]},{"content":"A user who requests access through LCS will be able to access the cloud environment through Remote Desktop.","pos":[2715,2822]},{"pos":[2828,2863],"content":"Accessing an instance through a URL","linkify":"Accessing an instance through a URL","nodes":[{"content":"Accessing an instance through a URL","pos":[0,35]}]},{"content":"The system can be accessed by end users.","pos":[2865,2905]},{"content":"The administrator can add users to this system by using the <bpt id=\"p1\">**</bpt>Users<ept id=\"p1\">**</ept> page in the instance.","pos":[2906,2997],"source":" The administrator can add users to this system by using the **Users** page in the instance."},{"content":"Note that these additional users don't have to be users in LCS.","pos":[2998,3061]},{"content":"You obtain the base URL for the cloud environment from your LCS project site.","pos":[3062,3139]},{"content":"Go to your LCS project page.","pos":[3145,3173]},{"pos":[3178,3242],"content":"In the <bpt id=\"p1\">**</bpt>Environments<ept id=\"p1\">**</ept> section, click the deployed environment.","source":"In the **Environments** section, click the deployed environment."},{"content":"When the environment page opens, you can access the application by clicking <bpt id=\"p1\">**</bpt>Login<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Log on to Dynamics 365 for Operations<ept id=\"p2\">**</ept> in the upper-right corner.","pos":[3247,3406],"source":"When the environment page opens, you can access the application by clicking **Login** &gt; **Log on to Dynamics 365 for Operations** in the upper-right corner."},{"content":"****","pos":[3407,3411]},{"content":"Use valid end user credentials to sign in to the application.","pos":[3416,3477]},{"content":"If the current LCS user is the user who originally deployed the environment, that user is probably a valid end user and the administrator of the application.","pos":[3478,3635]},{"content":"In your browser, make a note of the Dynamics 365 for Operations base URL after you sign in.","pos":[3640,3731]},{"content":"For example, the base URL might be <bpt id=\"p1\">**</bpt>https://dynamicsAx7aosContoso.cloud.dynamics.com<ept id=\"p1\">**</ept>.","pos":[3732,3820],"source":" For example, the base URL might be **https://dynamicsAx7aosContoso.cloud.dynamics.com**."},{"pos":[3826,3877],"content":"Accessing the cloud instance through Remote Desktop","linkify":"Accessing the cloud instance through Remote Desktop","nodes":[{"content":"Accessing the cloud instance through Remote Desktop","pos":[0,51]}]},{"content":"Some cloud environments can be accessed both as an end user and as a developer.","pos":[3879,3958]},{"content":"The developer gets access to the system through Remote Desktop credentials.","pos":[3959,4034]},{"content":"The Remote Desktop credentials are obtained from the environment page on the LCS project site (see the illustration earlier in this topic).","pos":[4035,4174]},{"content":"Click the VM name.","pos":[4180,4198]},{"content":"Use the local administrator user name and password that are shown to connect to the cloud VM through Remote Desktop.","pos":[4203,4319]},{"content":"You can reveal the password by clicking the eye icon.","pos":[4320,4373]},{"content":"After you sign in to the environment through Remote Desktop, if you want to access the local application from the browser, use the same base URL that you use to access the application from a remote computer.","pos":[4375,4582]},{"content":"The previous section explains how to obtain this base URL from LCS.","pos":[4583,4650]},{"pos":[4655,4684],"content":"VM that is running onpremises","linkify":"VM that is running onpremises","nodes":[{"content":"VM that is running onpremises","pos":[0,29]}]},{"content":"An environment virtual hard disk (VHD) is made available for download from LCS, so that it can be set up on a local machine.","pos":[4685,4809]},{"content":"This system is intended to be accessed by a developer.","pos":[4810,4864]},{"content":"On the main page for your LCS project, in the <bpt id=\"p1\">**</bpt>Environments<ept id=\"p1\">**</ept> section, click the plus sign (<bpt id=\"p2\">**</bpt><ph id=\"ph1\">+</ph><ept id=\"p2\">**</ept>), and then click <bpt id=\"p3\">**</bpt>Locally<ept id=\"p3\">**</ept>.","pos":[4870,4998],"source":"On the main page for your LCS project, in the **Environments** section, click the plus sign (**+**), and then click **Locally**."},{"content":"You're taken to the Connect site.","pos":[4999,5032]},{"pos":[5037,5093],"content":"Go to the <bpt id=\"p1\">**</bpt>Downloads<ept id=\"p1\">**</ept> page to download the latest VHD.","source":"Go to the **Downloads** page to download the latest VHD."},{"content":"In Microsoft Hyper-V Manager, create a local VM from the VHD that you downloaded.","pos":[5098,5179]},{"content":"It's a good idea to give your VM the recommended 16 gigabytes (GB) of memory and two virtual processors.","pos":[5180,5284]},{"content":"Don't use dynamic memory allocation.","pos":[5285,5321]},{"pos":[5327,5347],"content":"Retail configuration","linkify":"Retail configuration","nodes":[{"content":"Retail configuration","pos":[0,20]}]},{"content":"A newer downloadable VHD is also provided, in <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> state, to support Retail point-of-sale (POS) customization scenarios.","pos":[5349,5476],"source":"A newer downloadable VHD is also provided, in **Preview** state, to support Retail point-of-sale (POS) customization scenarios."},{"content":"This VHD is based on Microsoft Windows Server 2016 and lets you test your customized Retail POS app in an emulator on the VM.","pos":[5477,5602]},{"content":"Except for this difference, both VHDs are self-contained and support the same set of developer scenarios.","pos":[5603,5708]},{"content":"To use the downloadable VHD for POS customizations, you must also follow this step.","pos":[5709,5792]},{"content":"On the host computer, enable Nested VM support.","pos":[5798,5845]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Run Hyper-V in a Virtual Machine with Nested Virtualization<ept id=\"p1\">](https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/user_guide/nesting)</ept>.","pos":[5846,6020],"source":" For more information, see [Run Hyper-V in a Virtual Machine with Nested Virtualization](https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/user_guide/nesting)."},{"pos":[6026,6066],"content":"Running the Virtual Machine (VM) locally","linkify":"Running the Virtual Machine (VM) locally","nodes":[{"content":"Running the Virtual Machine (VM) locally","pos":[0,40]}]},{"content":"Follow these steps to run the VM from Hyper-V Manager.","pos":[6068,6122]},{"pos":[6128,6161],"content":"To start the VM, click <bpt id=\"p1\">**</bpt>Start<ept id=\"p1\">**</ept>.","source":"To start the VM, click **Start**."},{"pos":[6166,6212],"content":"To open the VM in a window, click <bpt id=\"p1\">**</bpt>Connect<ept id=\"p1\">**</ept>.","source":"To open the VM in a window, click **Connect**."},{"content":"Click the <bpt id=\"p1\">**</bpt>Ctrl+Alt+Delete<ept id=\"p1\">**</ept> button on the toolbar.","pos":[6217,6269],"source":"Click the **Ctrl+Alt+Delete** button on the toolbar."},{"content":"The VM receives most keyboard commands, but Ctrl+Alt+Delete isn't one of them.","pos":[6270,6348]},{"content":"Therefore, you must use the button or a menu command.","pos":[6349,6402]},{"content":"Sign in to the VM by using the following credentials:","pos":[6407,6460]},{"pos":[6469,6497],"content":"User name: <bpt id=\"p1\">**</bpt>Administrator<ept id=\"p1\">**</ept>","source":"User name: **Administrator**"},{"pos":[6506,6530],"content":"Password: <bpt id=\"p1\">**</bpt><ph id=\"ph1\">pass@word1</ph><ept id=\"p1\">**</ept>","source":"Password: **pass@word1**"},{"content":"<bpt id=\"p1\">**</bpt>Tip:<ept id=\"p1\">**</ept> You can resize the VM window by changing the screen resolution.","pos":[6536,6608],"source":"**Tip:** You can resize the VM window by changing the screen resolution."},{"content":"Right-click the desktop on the VM, and then click <bpt id=\"p1\">**</bpt>Screen resolution<ept id=\"p1\">**</ept>.","pos":[6609,6681],"source":" Right-click the desktop on the VM, and then click **Screen resolution**."},{"content":"Select a resolution that works well for your display.","pos":[6682,6735]},{"content":"Provision the administrator user.","pos":[6740,6773]},{"content":"For more information, see the next section.","pos":[6774,6817]},{"content":"Start the Batch Manager Service.","pos":[6822,6854]},{"content":"This step is required if you're running batch jobs or workflows.","pos":[6855,6919]},{"pos":[6928,6981],"content":"Open a <bpt id=\"p1\">**</bpt>Command Prompt<ept id=\"p1\">**</ept> window as an administrator.","source":"Open a **Command Prompt** window as an administrator."},{"pos":[6990,7047],"content":"Type <bpt id=\"p1\">**</bpt>net start DynamicsAxBatch<ept id=\"p1\">**</ept>, and then press Enter.","source":"Type **net start DynamicsAxBatch**, and then press Enter."},{"pos":[7053,7113],"content":"You can also start the service from the <bpt id=\"p1\">**</bpt>Services<ept id=\"p1\">**</ept> window.","source":"You can also start the service from the **Services** window."},{"pos":[7120,7140],"content":"Retail configuration","linkify":"Retail configuration","nodes":[{"content":"Retail configuration","pos":[0,20]}]},{"content":"For the downloadable VHD for POS customizations, you must also follow these steps on the guest VM.","pos":[7142,7240]},{"pos":[7246,7393],"content":"Download and install <bpt id=\"p1\">[</bpt>Microsoft Emulator for Windows 10 Mobile Anniversary Update<ept id=\"p1\">](https://www.microsoft.com/en-us/download/details.aspx?id=53424)</ept>.","source":"Download and install [Microsoft Emulator for Windows 10 Mobile Anniversary Update](https://www.microsoft.com/en-us/download/details.aspx?id=53424)."},{"content":"Start the Hyper-V host service.","pos":[7398,7429]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Hyper-V: The Hyper-V Virtual Machine Management service must be running<ept id=\"p1\">](https://technet.microsoft.com/en-us/library/ee956894(v=ws.10).aspx)</ept>.","pos":[7430,7598],"source":" For more information, see [Hyper-V: The Hyper-V Virtual Machine Management service must be running](https://technet.microsoft.com/en-us/library/ee956894(v=ws.10).aspx)."},{"content":"If errors occur during startup, you can also try to uninstall and reinstall the Hyper-V role on the guest VM.","pos":[7599,7708]},{"pos":[7714,7749],"content":"Provisioning the administrator user","linkify":"Provisioning the administrator user","nodes":[{"content":"Provisioning the administrator user","pos":[0,35]}]},{"content":"For developer access, you must be an administrator on the instance.","pos":[7751,7818]},{"content":"To provision your own credentials as an administrator, run the admin user provisioning tool that is provided on the desktop, and provide your email address (Azure AD credentials) in the tool.","pos":[7819,8010]},{"pos":[8016,8155],"content":"From the desktop, run the admin user provisioning tool as an administrator (right-click the icon, and then click <bpt id=\"p1\">**</bpt>Run as administrator<ept id=\"p1\">**</ept>).","source":"From the desktop, run the admin user provisioning tool as an administrator (right-click the icon, and then click **Run as administrator**)."},{"pos":[8160,8212],"content":"Enter your email address, and then click <bpt id=\"p1\">**</bpt>Submit<ept id=\"p1\">**</ept>.","source":"Enter your email address, and then click **Submit**."},{"pos":[8218,8238],"content":"Retail configuration","linkify":"Retail configuration","nodes":[{"content":"Retail configuration","pos":[0,20]}]},{"pos":[8245,8290],"content":"For Dynamics 365 for Operations, Version 1611","linkify":"For Dynamics 365 for Operations, Version 1611","nodes":[{"content":"For Dynamics 365 for Operations, Version 1611","pos":[0,45]}]},{"content":"Run the RetailTenantUpdateTool.","pos":[8296,8327]},{"content":"The icon for this tool is available on the desktop.","pos":[8336,8387]},{"content":"This tool is also available at the following location: C:\\windowsSystem32WindowsPowerShellv1.0PowerShell.exe -File C:\\RetailSDKToolsRetailTenantUpdateTool.ps1","pos":[8396,8554]},{"content":"Double-click the icon to start this tool.","pos":[8560,8601]},{"content":"You will be prompted for your Azure AD credentials.","pos":[8602,8653]},{"content":"You must use the same credentials that you used in the admin user provisioning tool earlier.","pos":[8654,8746]},{"pos":[8753,8798],"content":"For Microsoft Dynamics 365 for Operations 7.0","linkify":"For Microsoft Dynamics 365 for Operations 7.0","nodes":[{"content":"For Microsoft Dynamics 365 for Operations 7.0","pos":[0,45]}]},{"pos":[8804,8930],"content":"Install <bpt id=\"p1\">[</bpt>Microsoft Online Services Sign-In Assistant for IT Professionals RTW<ept id=\"p1\">](http://go.microsoft.com/fwlink/?LinkID=286152)</ept>.","source":"Install [Microsoft Online Services Sign-In Assistant for IT Professionals RTW](http://go.microsoft.com/fwlink/?LinkID=286152)."},{"pos":[8935,9064],"content":"Install <bpt id=\"p1\">[</bpt>Azure Active Directory Module for Windows PowerShell (64-bit version)<ept id=\"p1\">](http://go.microsoft.com/fwlink/p/?linkid=236297)</ept>.","source":"Install [Azure Active Directory Module for Windows PowerShell (64-bit version)](http://go.microsoft.com/fwlink/p/?linkid=236297)."},{"content":"Query Azure AD for your tenant and user ID.","pos":[9069,9112]},{"content":"Open a Windows PowerShell Integrated Scripting Environment (ISE) window with administrative privileges, and run the following command.","pos":[9113,9247]},{"content":"You will be prompted for Azure AD credentials.","pos":[9248,9294]},{"content":"Use the same user account that you used in the admin user provisioning tool earlier.","pos":[9295,9379]},{"pos":[9880,9994],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Command in the Windows PowerShell ISE window<ept id=\"p1\">](./media/retailconfig02-1024x529.png)](./media/retailconfig02.png)</ept>","source":"[![Command in the Windows PowerShell ISE window](./media/retailconfig02-1024x529.png)](./media/retailconfig02.png)"},{"content":"Update the following SQL script, and run it in on AXDB for that environment.","pos":[10000,10076]},{"content":"Supply values for the following parameters from the preceding Windows PowerShell script output:","pos":[10077,10172]},{"pos":[10182,10246],"content":"<bpt id=\"p1\">**</bpt>TenantID<ept id=\"p1\">**</ept> – For example, c83429a6-782b-4275-85cf-60ebe81250ee","source":"**TenantID** – For example, c83429a6-782b-4275-85cf-60ebe81250ee"},{"pos":[10255,10317],"content":"<bpt id=\"p1\">**</bpt>UserId<ept id=\"p1\">**</ept> – For example, a036b5d8-bc8c-4abe-8eec-17516ea913ec","source":"**UserId** – For example, a036b5d8-bc8c-4abe-8eec-17516ea913ec"},{"pos":[11091,11198],"content":"Reset Internet Information Services (IIS) by running <bpt id=\"p1\">**</bpt>IISRESET<ept id=\"p1\">**</ept> in an elevated <bpt id=\"p2\">**</bpt>Command Prompt<ept id=\"p2\">**</ept> window.","source":"Reset Internet Information Services (IIS) by running **IISRESET** in an elevated **Command Prompt** window."},{"content":"Update the Real-time service profile to use the new admin user.","pos":[11203,11266]},{"pos":[11275,11382],"content":"Click <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail scheduler<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Real-time service profiles<ept id=\"p4\">**</ept>.","source":"Click **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Real-time service profiles**."},{"pos":[11391,11498],"content":"Click <bpt id=\"p1\">**</bpt>Retail<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Headquarters setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Retail scheduler<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Real-time service profiles<ept id=\"p4\">**</ept>.","source":"Click **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Real-time service profiles**."},{"pos":[11507,11634],"content":"Edit the JBB record so that it uses the user that you used earlier (for example, <bpt id=\"p1\">**</bpt><ph id=\"ph1\">administrator@contosoax7.onmicrosoft.com</ph><ept id=\"p1\">**</ept>).","source":"Edit the JBB record so that it uses the user that you used earlier (for example, **administrator@contosoax7.onmicrosoft.com**)."},{"content":"Run CDX Job 1070 (Staff) for the default channel database.","pos":[11643,11701]},{"pos":[11710,11796],"content":"Verify that the job succeeded by viewing the <bpt id=\"p1\">**</bpt>Download Sessions<ept id=\"p1\">**</ept> page on the client.","source":"Verify that the job succeeded by viewing the **Download Sessions** page on the client."},{"pos":[11802,11835],"content":"Base URL of the local application","linkify":"Base URL of the local application","nodes":[{"content":"Base URL of the local application","pos":[0,33]}]},{"content":"After the user is provisioned as an administrator, that user can access the instance on the computer by navigating to the following base URL: https://usnconeboxax1aos.cloud.onebox.dynamics.com.","pos":[11837,12030]},{"content":"If you're using version control and plan to connect multiple development VMs to the same Visual Studio Team Services (VSTS) project, rename your local VM.","pos":[12031,12185]},{"content":"For instructions, see <bpt id=\"p1\">[</bpt>Rename a local development VM to enable access to Visual Studio Team Services<ept id=\"p1\">](../migration-upgrade/vso-machine-renaming.md)</ept>.","pos":[12186,12334],"source":" For instructions, see [Rename a local development VM to enable access to Visual Studio Team Services](../migration-upgrade/vso-machine-renaming.md)."},{"pos":[12341,12361],"content":"Retail configuration","linkify":"Retail configuration","nodes":[{"content":"Retail configuration","pos":[0,20]}]},{"content":"The URL of the Retail Cloud POS app is: <bpt id=\"p1\">&lt;</bpt>https://usnconeboxax1pos.cloud.onebox.dynamics.com/<ept id=\"p1\">&gt;</ept> After you complete the configuration steps, this VM is provisioned with your Azure AD tenant.","pos":[12363,12550],"source":"The URL of the Retail Cloud POS app is: <https://usnconeboxax1pos.cloud.onebox.dynamics.com/> After you complete the configuration steps, this VM is provisioned with your Azure AD tenant."},{"content":"Your Azure AD admin account is mapped to a cashier worker account in demo data.","pos":[12551,12630]},{"content":"You can use this cashier account to easily activate a Retail POS device in this environment.","pos":[12631,12723]},{"pos":[12729,12756],"content":"Cashier user ID: <bpt id=\"p1\">**</bpt>000160<ept id=\"p1\">**</ept>","source":"Cashier user ID: **000160**"},{"pos":[12761,12786],"content":"Cashier password: <bpt id=\"p1\">**</bpt>123<ept id=\"p1\">**</ept>","source":"Cashier password: **123**"},{"pos":[12791,12811],"content":"Cashier LE: <bpt id=\"p1\">**</bpt>USRT<ept id=\"p1\">**</ept>","source":"Cashier LE: **USRT**"},{"pos":[12816,12842],"content":"Cashier store: <bpt id=\"p1\">**</bpt>Houston<ept id=\"p1\">**</ept>","source":"Cashier store: **Houston**"},{"pos":[12847,12910],"content":"Location of packages, source code, and other AOS configurations","linkify":"Location of packages, source code, and other AOS configurations","nodes":[{"content":"Location of packages, source code, and other AOS configurations","pos":[0,63]}]},{"content":"On a VM, you can find most of the application configuration by opening the web.config file of AOSWebApplication.","pos":[12911,13023]},{"content":"Start IIS.","pos":[13029,13039]},{"pos":[13044,13087],"content":"Go to <bpt id=\"p1\">**</bpt>Sites<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>AOSWebApplication<ept id=\"p2\">**</ept>.","source":"Go to **Sites** &gt; **AOSWebApplication**."},{"pos":[13092,13154],"content":"Right-click, and then click <bpt id=\"p1\">**</bpt>Explore<ept id=\"p1\">**</ept> to open File Explorer.","source":"Right-click, and then click **Explore** to open File Explorer."},{"content":"Open the web.config file in Notepad or another text editor.","pos":[13159,13218]},{"content":"The following keys are of interest to many developers and administrators:","pos":[13219,13292]},{"content":"<bpt id=\"p1\">**</bpt>Aos.MetadataDirectory<ept id=\"p1\">**</ept> – This key points to the location of the packages folder that contains platform and application binaries, and also source code.","pos":[13301,13454],"source":"**Aos.MetadataDirectory** – This key points to the location of the packages folder that contains platform and application binaries, and also source code."},{"content":"(Source code is available only in development environments.) Typical values are: c:\\packages, c:\\AosServicePackagesLocalDirectory, and J:AosServicePackagesLocalDirectory.","pos":[13455,13625]},{"pos":[13634,13700],"content":"<bpt id=\"p1\">**</bpt>DataAccess.Database<ept id=\"p1\">**</ept> – This key holds the name of the database.","source":"**DataAccess.Database** – This key holds the name of the database."},{"pos":[13709,13817],"content":"<bpt id=\"p1\">**</bpt>Aos.AppRoot<ept id=\"p1\">**</ept> – This key points to the root folder of the Application Object Server (AOS) web application.","source":"**Aos.AppRoot** – This key points to the root folder of the Application Object Server (AOS) web application."},{"pos":[13823,13843],"content":"Retail configuration","linkify":"Retail configuration","nodes":[{"content":"Retail configuration","pos":[0,20]}]},{"content":"The Retail software development kit (SDK) is available at C:\\RetailSDK.","pos":[13845,13916]},{"content":"For more information about how to use and customize retail applications, see the following topics:","pos":[13917,14015]},{"pos":[14020,14126],"content":"<bpt id=\"p1\">[</bpt>Retail SDK overview<ept id=\"p1\">](/dynamics365/operations/retail/dynamics365/operations/dev-itpro/retail-sdk-overview)</ept>","source":"[Retail SDK overview](/dynamics365/operations/retail/dynamics365/operations/dev-itpro/retail-sdk-overview)"},{"pos":[14131,14231],"content":"<bpt id=\"p1\">[</bpt>Retail POS device activation<ept id=\"p1\">](/dynamics365/operations/retail/dev-itpro/retail-device-activation.md)</ept>","source":"[Retail POS device activation](/dynamics365/operations/retail/dev-itpro/retail-device-activation.md)"},{"pos":[14236,14283],"content":"Redeploying or restarting the runtime on the VM","linkify":"Redeploying or restarting the runtime on the VM","nodes":[{"content":"Redeploying or restarting the runtime on the VM","pos":[0,47]}]},{"content":"To restart the local runtime and redeploy all the packages, follow these steps.","pos":[14284,14363]},{"content":"Open File Explorer, and go to C:\\CustomerServiceUnit.","pos":[14369,14422]},{"pos":[14427,14498],"content":"Right-click <bpt id=\"p1\">**</bpt>AOSDeploy.cmd<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Run as administrator<ept id=\"p2\">**</ept>.","source":"Right-click **AOSDeploy.cmd**, and then click **Run as administrator**."},{"content":"This process might take a while.","pos":[14500,14532]},{"content":"The process is completed when the cmd.exe window closes.","pos":[14533,14589]},{"content":"If you just want to restart AOS (without redeploying the runtime), run <bpt id=\"p1\">**</bpt>iisreset<ept id=\"p1\">**</ept> from an administrator <bpt id=\"p2\">**</bpt>Command Prompt<ept id=\"p2\">**</ept> window, or restart AOSWebApplication from IIS.","pos":[14590,14761],"source":" If you just want to restart AOS (without redeploying the runtime), run **iisreset** from an administrator **Command Prompt** window, or restart AOSWebApplication from IIS."}],"content":"---\n# required metadata\n\ntitle: Access Dynamics 365 for Operations instances\ndescription: This topic describes how to access development instances of Microsoft Dynamics 365 for Operations, configure on-premises development VMs, and find important configurations settings for developers and administrators.\nauthor: RobinARH\nmanager: AnnBe\nms.date: 2015-10-16 23 - 42 - 46\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 2051\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 10031\nms.assetid: 4be8b7a1-9632-4368-af41-6811cd100a37\nms.search.region: Global\n# ms.search.industry: \nms.author: robadawy\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Access Dynamics 365 for Operations instances\n\nThis topic describes how to access development instances of Microsoft Dynamics 365 for Operations, configure on-premises development VMs, and find important configurations settings for developers and administrators.\n\nDefinitions\n-----------\n\n| Term      | Definition                                                                                                                                                                                                                                       |\n|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| End user  | A user who accesses Microsoft Dynamics 365 for Operations through the web client. The end user must have Microsoft Azure Active Directory (Azure AD) credentials to access an instance and must be provisioned/added as a user of that instance. |\n| Developer | A user who will develop code through the Microsoft Visual Studio environment. A developer requires Remote Desktop access to development environment (VM). The developer account must be an administrator on the VM.                              |\n\n### Environments\n\nDynamics 365 for Operations is deployed in two modes:\n\n-   A cloud environment that is provisioned through Microsoft Dynamics Lifecycle Services (LCS), and that supports various topologies (developer, demo, and high availability)\n-   A local (on-premises) development virtual machine (VM) that is downloaded from LCS\n\n## Cloud environment that is provisioned through LCS\nWhen a cloud environment is provisioned through LCS, the following events occur:\n\n-   The user who requests the cloud environment is provisioned as the administrator in that environment.\n-   A user who requests access through LCS will be able to access the cloud environment through Remote Desktop.\n\n### Accessing an instance through a URL\n\nThe system can be accessed by end users. The administrator can add users to this system by using the **Users** page in the instance. Note that these additional users don't have to be users in LCS. You obtain the base URL for the cloud environment from your LCS project site.\n\n1.  Go to your LCS project page.\n2.  In the **Environments** section, click the deployed environment.\n3.  When the environment page opens, you can access the application by clicking **Login** &gt; **Log on to Dynamics 365 for Operations** in the upper-right corner. ****\n4.  Use valid end user credentials to sign in to the application. If the current LCS user is the user who originally deployed the environment, that user is probably a valid end user and the administrator of the application.\n5.  In your browser, make a note of the Dynamics 365 for Operations base URL after you sign in. For example, the base URL might be **https://dynamicsAx7aosContoso.cloud.dynamics.com**.\n\n### Accessing the cloud instance through Remote Desktop\n\nSome cloud environments can be accessed both as an end user and as a developer. The developer gets access to the system through Remote Desktop credentials. The Remote Desktop credentials are obtained from the environment page on the LCS project site (see the illustration earlier in this topic).\n\n1.  Click the VM name.\n2.  Use the local administrator user name and password that are shown to connect to the cloud VM through Remote Desktop. You can reveal the password by clicking the eye icon.\n\nAfter you sign in to the environment through Remote Desktop, if you want to access the local application from the browser, use the same base URL that you use to access the application from a remote computer. The previous section explains how to obtain this base URL from LCS.\n\n## VM that is running onpremises\nAn environment virtual hard disk (VHD) is made available for download from LCS, so that it can be set up on a local machine. This system is intended to be accessed by a developer.\n\n1.  On the main page for your LCS project, in the **Environments** section, click the plus sign (**+**), and then click **Locally**. You're taken to the Connect site.\n2.  Go to the **Downloads** page to download the latest VHD.\n3.  In Microsoft Hyper-V Manager, create a local VM from the VHD that you downloaded. It's a good idea to give your VM the recommended 16 gigabytes (GB) of memory and two virtual processors. Don't use dynamic memory allocation.\n\n### Retail configuration\n\nA newer downloadable VHD is also provided, in **Preview** state, to support Retail point-of-sale (POS) customization scenarios. This VHD is based on Microsoft Windows Server 2016 and lets you test your customized Retail POS app in an emulator on the VM. Except for this difference, both VHDs are self-contained and support the same set of developer scenarios. To use the downloadable VHD for POS customizations, you must also follow this step.\n\n-   On the host computer, enable Nested VM support. For more information, see [Run Hyper-V in a Virtual Machine with Nested Virtualization](https://msdn.microsoft.com/en-us/virtualization/hyperv_on_windows/user_guide/nesting).\n\n### Running the Virtual Machine (VM) locally\n\nFollow these steps to run the VM from Hyper-V Manager.\n\n1.  To start the VM, click **Start**.\n2.  To open the VM in a window, click **Connect**.\n3.  Click the **Ctrl+Alt+Delete** button on the toolbar. The VM receives most keyboard commands, but Ctrl+Alt+Delete isn't one of them. Therefore, you must use the button or a menu command.\n4.  Sign in to the VM by using the following credentials:\n    -   User name: **Administrator**\n    -   Password: **pass@word1**\n\n    **Tip:** You can resize the VM window by changing the screen resolution. Right-click the desktop on the VM, and then click **Screen resolution**. Select a resolution that works well for your display.\n5.  Provision the administrator user. For more information, see the next section.\n6.  Start the Batch Manager Service. This step is required if you're running batch jobs or workflows.\n    1.  Open a **Command Prompt** window as an administrator.\n    2.  Type **net start DynamicsAxBatch**, and then press Enter.\n\n    You can also start the service from the **Services** window.\n\n#### Retail configuration\n\nFor the downloadable VHD for POS customizations, you must also follow these steps on the guest VM.\n\n1.  Download and install [Microsoft Emulator for Windows 10 Mobile Anniversary Update](https://www.microsoft.com/en-us/download/details.aspx?id=53424).\n2.  Start the Hyper-V host service. For more information, see [Hyper-V: The Hyper-V Virtual Machine Management service must be running](https://technet.microsoft.com/en-us/library/ee956894(v=ws.10).aspx). If errors occur during startup, you can also try to uninstall and reinstall the Hyper-V role on the guest VM.\n\n### Provisioning the administrator user\n\nFor developer access, you must be an administrator on the instance. To provision your own credentials as an administrator, run the admin user provisioning tool that is provided on the desktop, and provide your email address (Azure AD credentials) in the tool.\n\n1.  From the desktop, run the admin user provisioning tool as an administrator (right-click the icon, and then click **Run as administrator**).\n2.  Enter your email address, and then click **Submit**.\n\n### Retail configuration\n\n#### For Dynamics 365 for Operations, Version 1611\n\n1.  Run the RetailTenantUpdateTool.\n    -   The icon for this tool is available on the desktop.\n    -   This tool is also available at the following location: C:\\windowsSystem32WindowsPowerShellv1.0PowerShell.exe -File C:\\RetailSDKToolsRetailTenantUpdateTool.ps1\n\n2.  Double-click the icon to start this tool. You will be prompted for your Azure AD credentials. You must use the same credentials that you used in the admin user provisioning tool earlier.\n\n#### For Microsoft Dynamics 365 for Operations 7.0\n\n1.  Install [Microsoft Online Services Sign-In Assistant for IT Professionals RTW](http://go.microsoft.com/fwlink/?LinkID=286152).\n2.  Install [Azure Active Directory Module for Windows PowerShell (64-bit version)](http://go.microsoft.com/fwlink/p/?linkid=236297).\n3.  Query Azure AD for your tenant and user ID. Open a Windows PowerShell Integrated Scripting Environment (ISE) window with administrative privileges, and run the following command. You will be prompted for Azure AD credentials. Use the same user account that you used in the admin user provisioning tool earlier.\n\n        $msocred = Get-Credential \n        Connect-MsolService -Credential $msocred \n        $company = Get-MsolCompanyInformation \n        Write-Host \"TenantID: $($company.ObjectId)\" \n        $msocred.UserName \n        $users = Get-MsolUser -SearchString \"$($msocred.username)\" \n        foreach($u in $users) \n        { \n            if($u.SignInName -eq $msocred.UserName) \n            { \n               Write-Host \"SignInName:$($u.SignInName) UserId: $($u.ObjectId)\" \n            } \n        }\n    [![Command in the Windows PowerShell ISE window](./media/retailconfig02-1024x529.png)](./media/retailconfig02.png)\n\n4.  Update the following SQL script, and run it in on AXDB for that environment. Supply values for the following parameters from the preceding Windows PowerShell script output:\n\n    -   **TenantID** – For example, c83429a6-782b-4275-85cf-60ebe81250ee\n    -   **UserId** – For example, a036b5d8-bc8c-4abe-8eec-17516ea913ec\n\n    <!-- -->\n\n        DECLARE @TenantId NVARCHAR(1024)         DECLARE @UserId NVARCHAR(1024) \n        SET @TenantId = ‘‘ \n        SET @UserId = ‘‘ \n        IF(LEN(@TenantId) > 0 AND LEN(@UserId) > 0) \n            BEGIN \n            UPDATE AxDBRAIN.dbo.SYSSERVICECONFIGURATIONSETTING SET [VALUE] = @TenantId WHERE [NAME] = ‘TENANTID’ \n            UPDATE RetailHoustonStore.ax.SYSSERVICECONFIGURATIONSETTING SET [VALUE] = @TenantId WHERE [NAME] = ‘TENANTID’ \n            UPDATE AxDBRAIN.dbo.RETAILSTAFFTABLE SET EXTERNALIDENTITYID = @TenantId, EXTERNALIDENTITYSUBID = @UserId WHERE STAFFID = ‘000160’\n            END \n        ELSE \n            BEGIN \n            RAISERROR (15600, -1, -1, ‘TenantId and UserId must be set before running this script’) \n            END\n\n5.  Reset Internet Information Services (IIS) by running **IISRESET** in an elevated **Command Prompt** window.\n6.  Update the Real-time service profile to use the new admin user.\n    1.  Click **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Real-time service profiles**.\n    2.  Click **Retail** &gt; **Headquarters setup** &gt; **Retail scheduler** &gt; **Real-time service profiles**.\n    3.  Edit the JBB record so that it uses the user that you used earlier (for example, **administrator@contosoax7.onmicrosoft.com**).\n    4.  Run CDX Job 1070 (Staff) for the default channel database.\n    5.  Verify that the job succeeded by viewing the **Download Sessions** page on the client.\n\n### Base URL of the local application\n\nAfter the user is provisioned as an administrator, that user can access the instance on the computer by navigating to the following base URL: https://usnconeboxax1aos.cloud.onebox.dynamics.com. If you're using version control and plan to connect multiple development VMs to the same Visual Studio Team Services (VSTS) project, rename your local VM. For instructions, see [Rename a local development VM to enable access to Visual Studio Team Services](../migration-upgrade/vso-machine-renaming.md).\n\n#### Retail configuration\n\nThe URL of the Retail Cloud POS app is: <https://usnconeboxax1pos.cloud.onebox.dynamics.com/> After you complete the configuration steps, this VM is provisioned with your Azure AD tenant. Your Azure AD admin account is mapped to a cashier worker account in demo data. You can use this cashier account to easily activate a Retail POS device in this environment.\n\n-   Cashier user ID: **000160**\n-   Cashier password: **123**\n-   Cashier LE: **USRT**\n-   Cashier store: **Houston**\n\n## Location of packages, source code, and other AOS configurations\nOn a VM, you can find most of the application configuration by opening the web.config file of AOSWebApplication.\n\n1.  Start IIS.\n2.  Go to **Sites** &gt; **AOSWebApplication**.\n3.  Right-click, and then click **Explore** to open File Explorer.\n4.  Open the web.config file in Notepad or another text editor. The following keys are of interest to many developers and administrators:\n    -   **Aos.MetadataDirectory** – This key points to the location of the packages folder that contains platform and application binaries, and also source code. (Source code is available only in development environments.) Typical values are: c:\\packages, c:\\AosServicePackagesLocalDirectory, and J:AosServicePackagesLocalDirectory.\n    -   **DataAccess.Database** – This key holds the name of the database.\n    -   **Aos.AppRoot** – This key points to the root folder of the Application Object Server (AOS) web application.\n\n### Retail configuration\n\nThe Retail software development kit (SDK) is available at C:\\RetailSDK. For more information about how to use and customize retail applications, see the following topics:\n-   [Retail SDK overview](/dynamics365/operations/retail/dynamics365/operations/dev-itpro/retail-sdk-overview)\n-   [Retail POS device activation](/dynamics365/operations/retail/dev-itpro/retail-device-activation.md)\n\n## Redeploying or restarting the runtime on the VM\nTo restart the local runtime and redeploy all the packages, follow these steps.\n\n1.  Open File Explorer, and go to C:\\CustomerServiceUnit.\n2.  Right-click **AOSDeploy.cmd**, and then click **Run as administrator**.\n\nThis process might take a while. The process is completed when the cmd.exe window closes. If you just want to restart AOS (without redeploying the runtime), run **iisreset** from an administrator **Command Prompt** window, or restart AOSWebApplication from IIS.\n\n"}