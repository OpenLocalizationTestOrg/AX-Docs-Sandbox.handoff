{"nodes":[{"pos":[32,78],"content":"Set up and manage images for Retail Modern POS","needQuote":true,"needEscape":true,"nodes":[{"content":"Set up and manage images for Retail Modern POS","pos":[0,46]}]},{"pos":[92,241],"content":"This article explains the steps that are involved in setting up and managing images for the various entities that appear in Retail Modern POS (MPOS).","needQuote":true,"needEscape":true,"nodes":[{"content":"This article explains the steps that are involved in setting up and managing images for the various entities that appear in Retail Modern POS (MPOS).","pos":[0,149]}]},{"pos":[757,803],"content":"Set up and manage images for Retail Modern POS","linkify":"Set up and manage images for Retail Modern POS","nodes":[{"content":"Set up and manage images for Retail Modern POS","pos":[0,46]}]},{"content":"This article explains the steps that are involved in setting up and managing images for the various entities that appear in Retail Modern POS (MPOS).","pos":[805,954]},{"pos":[956,1053],"content":"Setting up the media base URL and defining media templates to configure the format for image URLs","linkify":"Setting up the media base URL and defining media templates to configure the format for image URLs","nodes":[{"content":"Setting up the media base URL and defining media templates to configure the format for image URLs","pos":[0,97]}]},{"content":"The images that appear in Retail Modern POS (MPOS) must be hosted externally, outside Microsoft Dynamics 365 for Operations - Retail.","pos":[1153,1286]},{"content":"Typically, they are hosted in a content management system, content delivery network (CDN), or media server.","pos":[1287,1394]},{"content":"MPOS then fetches and displays the images for the appropriate entities, such as products and catalogs, by accessing the target URL.","pos":[1395,1526]},{"content":"To fetch these externally hosted images, MPOS requires the correct URL format for the images.","pos":[1527,1620]},{"content":"You can configure the required URL format for the images by setting up the <bpt id=\"p1\">**</bpt>Media base URL<ept id=\"p1\">**</ept> value in the channel profile and using the <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept> functionality for each entity.","pos":[1621,1814],"source":" You can configure the required URL format for the images by setting up the **Media base URL** value in the channel profile and using the **Define media template** functionality for each entity."},{"content":"You can also overwrite the standard URL format for a subset of entities by using the <bpt id=\"p1\">**</bpt>Edit in Excel<ept id=\"p1\">**</ept> functionality.","pos":[1815,1932],"source":" You can also overwrite the standard URL format for a subset of entities by using the **Edit in Excel** functionality."},{"content":"<bpt id=\"p1\">**</bpt>Important note:<ept id=\"p1\">**</ept> In the current version of Dynamics 365 for Operations, you can no longer set up the URL format by using the <bpt id=\"p2\">**</bpt>Image<ept id=\"p2\">**</ept> attribute XML for MPOS in the <bpt id=\"p3\">**</bpt>Default<ept id=\"p3\">**</ept> attribute group for entities.","pos":[1933,2142],"source":"**Important note:** In the current version of Dynamics 365 for Operations, you can no longer set up the URL format by using the **Image** attribute XML for MPOS in the **Default** attribute group for entities."},{"content":"If you're familiar with Microsoft Dynamics AX 2012 R3 and are now using the current version of Dynamics 365 for Operations, make sure that you always use the new <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> functionality to set up images.","pos":[2143,2362],"source":" If you're familiar with Microsoft Dynamics AX 2012 R3 and are now using the current version of Dynamics 365 for Operations, make sure that you always use the new **Define media template** functionality to set up images."},{"content":"Don't use or modify the <bpt id=\"p1\">**</bpt>Image<ept id=\"p1\">**</ept> attribute in the <bpt id=\"p2\">**</bpt>Default<ept id=\"p2\">**</ept> attribute group for any entities, including products.","pos":[2363,2479],"source":" Don't use or modify the **Image** attribute in the **Default** attribute group for any entities, including products."},{"content":"Changes that you make directly in the <bpt id=\"p1\">**</bpt>Default<ept id=\"p1\">**</ept> attribute group for images won't be reflected.","pos":[2480,2576],"source":" Changes that you make directly in the **Default** attribute group for images won't be reflected."},{"content":"This option will be disabled in a future release.","pos":[2577,2626]},{"content":"In the following procedures, images are set up for the Catalog entity as an example.","pos":[2627,2711]},{"content":"These procedures will help guarantee that the correct image destination path is set implicitly for all catalog images that use a common path.","pos":[2712,2853]},{"content":"For example, if you've set up a media server or CDN externally, and want the images to appear in MPOS for a given store, the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> functionality helps you the set the path where MPOS can look up and retrieve the images.","pos":[2854,3093],"source":" For example, if you've set up a media server or CDN externally, and want the images to appear in MPOS for a given store, the **Define media template** functionality helps you the set the path where MPOS can look up and retrieve the images."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> For this demo data example, the media server is deployed on the Retail Server.","pos":[3094,3182],"source":"**Note:** For this demo data example, the media server is deployed on the Retail Server."},{"content":"However, you can have it anywhere outside Dynamics 365 for Operations.","pos":[3183,3253]},{"pos":[3259,3298],"content":"Set up the media base URL for a channel","linkify":"Set up the media base URL for a channel","nodes":[{"content":"Set up the media base URL for a channel","pos":[0,39]}]},{"content":"Open the Dynamics 365 for Operations HQ portal.","pos":[3304,3351]},{"content":"Click <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Channel setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Channel profiles<ept id=\"p3\">**</ept>.","pos":[3356,3435],"source":"Click **Retail and commerce** &gt; **Channel setup** &gt; **Channel profiles**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>channel-profile1<ept id=\"p1\">](./media/channel-profile1.png)](./media/channel-profile1.png)</ept>","pos":[3436,3517],"source":"[![channel-profile1](./media/channel-profile1.png)](./media/channel-profile1.png)"},{"content":"In the channel profile that your store uses for MPOS, update the <bpt id=\"p1\">**</bpt>Media base URL<ept id=\"p1\">**</ept> field with the base URL of your media server or CDN.","pos":[3522,3658],"source":"In the channel profile that your store uses for MPOS, update the **Media base URL** field with the base URL of your media server or CDN."},{"content":"The base URL is the first part of the URL that is shared by all image folders of different entities.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>channel-profile2<ept id=\"p1\">](./media/channel-profile2.png)](./media/channel-profile2.png)</ept>","pos":[3659,3840],"source":" The base URL is the first part of the URL that is shared by all image folders of different entities.[![channel-profile2](./media/channel-profile2.png)](./media/channel-profile2.png)"},{"pos":[3846,3885],"content":"Define the media template for an entity","linkify":"Define the media template for an entity","nodes":[{"content":"Define the media template for an entity","pos":[0,39]}]},{"pos":[3891,3973],"content":"Click <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Catalog management<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Catalog images<ept id=\"p3\">**</ept>.","source":"Click **Retail and commerce** &gt; **Catalog management** &gt; **Catalog images**."},{"content":"On the <bpt id=\"p1\">**</bpt>Catalog images<ept id=\"p1\">**</ept> page, on the Action Pane, click <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","pos":[3978,4062],"source":"On the **Catalog images** page, on the Action Pane, click **Define media template**."},{"content":"In the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog box, in the <bpt id=\"p2\">**</bpt>Entity<ept id=\"p2\">**</ept> field, <bpt id=\"p3\">**</bpt>Catalog<ept id=\"p3\">**</ept> should be selected by default.","pos":[4063,4175],"source":" In the **Define media template** dialog box, in the **Entity** field, **Catalog** should be selected by default."},{"content":"On the <bpt id=\"p1\">**</bpt>Media path<ept id=\"p1\">**</ept> FastTab, enter the remaining path of the image location.","pos":[4180,4258],"source":"On the **Media path** FastTab, enter the remaining path of the image location."},{"content":"The media path supports <bpt id=\"p1\">**</bpt>LanguageID<ept id=\"p1\">**</ept> as a variable.","pos":[4259,4312],"source":" The media path supports **LanguageID** as a variable."},{"content":"For example, for the demo data, you can create a <bpt id=\"p1\">**</bpt>Catalogs<ept id=\"p1\">**</ept> folder for all catalog images under the media base URL for your media server (https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer).","pos":[4313,4522],"source":" For example, for the demo data, you can create a **Catalogs** folder for all catalog images under the media base URL for your media server (https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer)."},{"content":"You can then have a folder for each language, such as en-US or fr-FR, and copy the appropriate images under each folder.","pos":[4523,4643]},{"content":"If you don't have different images for the various languages, you can omit the <bpt id=\"p1\">**</bpt>LanguageID<ept id=\"p1\">**</ept> variable from your folder structure and point directly to the Catalogs folder that contains the catalog images.","pos":[4644,4849],"source":" If you don't have different images for the various languages, you can omit the **LanguageID** variable from your folder structure and point directly to the Catalogs folder that contains the catalog images."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> The current version of Dynamics AX supports the <bpt id=\"p2\">**</bpt>{LanguageId}<ept id=\"p2\">**</ept> token for Catalog, Product, and Category entities.","pos":[4850,4975],"source":"**Note:** The current version of Dynamics AX supports the **{LanguageId}** token for Catalog, Product, and Category entities."},{"content":"(The <bpt id=\"p1\">**</bpt>{LanguageID}<ept id=\"p1\">**</ept> token isn't supported for Customer and Worker entities, according to the existing standard that has been effective since Microsoft Dynamics AX 6.x.)","pos":[4976,5146],"source":" (The **{LanguageID}** token isn't supported for Customer and Worker entities, according to the existing standard that has been effective since Microsoft Dynamics AX 6.x.)"},{"content":"For images, the file name format is hard-coded to the catalog name and can't be changed.","pos":[5151,5239]},{"content":"Therefore, rename your images so that they have appropriate catalog names, to help guarantee that MPOS handles them correctly.","pos":[5240,5366]},{"content":"In the <bpt id=\"p1\">**</bpt>File Extension<ept id=\"p1\">**</ept> field, select the expected file name extension, depending on the type of images that you have.","pos":[5371,5491],"source":"In the **File Extension** field, select the expected file name extension, depending on the type of images that you have."},{"content":"For example, for the demo data, the catalog images are set to the .jpg extension.","pos":[5492,5573]},{"content":"(The image files are also renamed so that they have catalog names.)","pos":[5574,5641]},{"pos":[5646,5659],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Click **OK**."},{"content":"To validate that the media template for images has been saved correctly, on the <bpt id=\"p1\">**</bpt>Catalog images<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept> again.","pos":[5664,5807],"source":"To validate that the media template for images has been saved correctly, on the **Catalog images** page, click **Define media template** again."},{"content":"To validate the template without closing the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog box, you can use the <bpt id=\"p2\">**</bpt>Generate Image URLs for Excel<ept id=\"p2\">**</ept> FastTab.","pos":[5808,5949],"source":" To validate the template without closing the **Define media template** dialog box, you can use the **Generate Image URLs for Excel** FastTab."},{"content":"Check the appearance of the image URL, and verify that the URL complies with the template standard that was mentioned earlier.","pos":[5950,6076]},{"content":"The <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog box has now set the image path implicitly for all catalog images that use this common URL path.","pos":[6077,6209],"source":" The **Define media template** dialog box has now set the image path implicitly for all catalog images that use this common URL path."},{"content":"This URL path applies to all catalog images unless they are overwritten.","pos":[6210,6282]},{"content":"The first part of the image path is taken from the media base URL that you defined in the channel profile.","pos":[6283,6389]},{"content":"The remaining part of the path is taken from the path that you defined in the media template.","pos":[6390,6483]},{"content":"The two parts are concatenated to provide the full URL of the image location.","pos":[6484,6561]},{"content":"For example, a catalog in the demo data is named Fabrikam Base Catalog.","pos":[6562,6633]},{"content":"Therefore, the image name must be Fabrikam Base Catalog.jpg so that it uses the catalog name and the .jpg file name extension that is configured in the template.","pos":[6634,6795]},{"content":"In this case, after concatenation, the URL will be https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer/Catalogs/en-US/Fabrikam Base Catalog.jpg.","pos":[6796,6956]},{"content":"Run the synchronization jobs to push the new template to the channel database, so that MPOS can use the template to access the images.","pos":[6961,7095]},{"pos":[7100,7312],"content":"To update the media template for catalog images on the channel side, be sure to run <bpt id=\"p1\">**</bpt>Catalog Job 1150<ept id=\"p1\">**</ept> from <bpt id=\"p2\">**</bpt>Retail IT<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.<bpt id=\"p4\">[</bpt><ph id=\"ph2\">![</ph>catalog1<ept id=\"p4\">](./media/catalog1.png)](./media/catalog1.png)</ept>","source":"To update the media template for catalog images on the channel side, be sure to run **Catalog Job 1150** from **Retail IT** &gt; **Distribution schedule**.[![catalog1](./media/catalog1.png)](./media/catalog1.png)"},{"pos":[7317,7358],"content":"Previewing an image from the entity level","linkify":"Previewing an image from the entity level","nodes":[{"content":"Previewing an image from the entity level","pos":[0,41]}]},{"content":"From the page for the entity item in HQ, you can preview the image that uses the image URL that is derived from the media template.","pos":[7363,7494]},{"content":"For this example, go to the appropriate catalog, and then, on the Action Pane, click <bpt id=\"p1\">**</bpt>Media<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Images<ept id=\"p2\">**</ept>.","pos":[7495,7606],"source":" For this example, go to the appropriate catalog, and then, on the Action Pane, click **Media** &gt; **Images**."},{"content":"Use the drop-down list to select different stores that might have different channel profiles.","pos":[7607,7700]},{"pos":[7705,7844],"content":"To edit or remove the implicit media template, you must return to the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog box for the <bpt id=\"p2\">**</bpt>Catalog images<ept id=\"p2\">**</ept> page.","source":"To edit or remove the implicit media template, you must return to the **Define media template** dialog box for the **Catalog images** page."},{"content":"You can use the <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Remove<ept id=\"p2\">**</ept> buttons to manually change the path that is based on the implicit template and used for a specific image.","pos":[7849,7993],"source":"You can use the **Add** and **Remove** buttons to manually change the path that is based on the implicit template and used for a specific image."},{"content":"For more information, see the \"Overwriting the media template for entity items\" section later in this article.","pos":[7994,8104]},{"pos":[8109,8345],"content":"After you've finished previewing an image and making any changes that you require, start the MPOS instance for the appropriate store, and see whether the catalog images are shown.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>catalog4<ept id=\"p1\">](./media/catalog4.png)](./media/catalog4.png)</ept>","source":"After you've finished previewing an image and making any changes that you require, start the MPOS instance for the appropriate store, and see whether the catalog images are shown.[![catalog4](./media/catalog4.png)](./media/catalog4.png)"},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> You can use the same procedure for all the five entities that are supported: Worker, Customer, Catalog, Category, and Products.","pos":[8347,8484],"source":"**Note:** You can use the same procedure for all the five entities that are supported: Worker, Customer, Catalog, Category, and Products."},{"content":"\"Catalog Products\" (products that are set at the catalog level) and \"Channel Products\" (products that are set at the channel level) use the media template that is set for the Products entity.","pos":[8485,8676]},{"content":"For the Products media template, you can select the number of product images to show per product.","pos":[8677,8774]},{"content":"You can also set the default image for a given product.","pos":[8775,8830]},{"content":"In this way, you can prevent blank images in MPOS and help to control which image is used as the default image for a product item.","pos":[8831,8961]},{"content":"In the following example, each product has five images, and the first image is set as the default image.","pos":[8962,9066]},{"content":"Variant products are treated the same way as master products.","pos":[9067,9128]},{"content":"The file name of the image file should be based on the product number.","pos":[9129,9199]},{"content":"Some characters are also escaped while the file name is generated.","pos":[9200,9266]},{"content":"Therefore, it's a good to verify the file name by using the <bpt id=\"p1\">**</bpt>Generate Image URLs for Excel<ept id=\"p1\">**</ept> section.","pos":[9267,9369],"source":" Therefore, it's a good to verify the file name by using the **Generate Image URLs for Excel** section."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>prods<ept id=\"p1\">](./media/prods.png)](./media/prods.png)</ept>","pos":[9370,9418],"source":"[![prods](./media/prods.png)](./media/prods.png)"},{"pos":[9425,9490],"content":"Synchronization jobs to send a media template to the channel side","linkify":"Synchronization jobs to send a media template to the channel side","nodes":[{"content":"Synchronization jobs to send a media template to the channel side","pos":[0,65]}]},{"content":"For all the five supported entities (Worker, Customer, Catalog, Category, and Products), whenever you update the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog to set up an image, make sure that you run the Catalog job (1150) from <bpt id=\"p2\">**</bpt>Retail IT<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Distribution schedule<ept id=\"p3\">**</ept>.","pos":[9491,9753],"source":"For all the five supported entities (Worker, Customer, Catalog, Category, and Products), whenever you update the **Define media template** dialog to set up an image, make sure that you run the Catalog job (1150) from **Retail IT** &gt; **Distribution schedule**."},{"content":"This job will enable the updated media template to be synced to the channel and used by MPOS.","pos":[9754,9847]},{"content":"Run the Catalog job (1150) after you make any of the following changes:","pos":[9848,9919]},{"pos":[9925,10024],"content":"You update the Catalog image media template from <bpt id=\"p1\">**</bpt>Catalog images<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","source":"You update the Catalog image media template from **Catalog images** &gt; **Define media template**."},{"pos":[10029,10130],"content":"You update the Employee image media template from <bpt id=\"p1\">**</bpt>Employee images<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","source":"You update the Employee image media template from **Employee images** &gt; **Define media template**."},{"pos":[10135,10235],"content":"You update the Customer image media template from <bpt id=\"p1\">**</bpt>Customer image<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","source":"You update the Customer image media template from **Customer image** &gt; **Define media template**."},{"pos":[10240,10339],"content":"You update the Product image media template from <bpt id=\"p1\">**</bpt>Product images<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","source":"You update the Product image media template from **Product images** &gt; **Define media template**."},{"content":"You update the Category image media template from <bpt id=\"p1\">**</bpt>Category images<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","pos":[10344,10445],"source":"You update the Category image media template from **Category images** &gt; **Define media template**."},{"content":"You must also publish the channel.","pos":[10446,10480]},{"pos":[10485,10532],"content":"Overwriting the media template for entity items","linkify":"Overwriting the media template for entity items","nodes":[{"content":"Overwriting the media template for entity items","pos":[0,47]}]},{"content":"As you learned in the previous section, the media template for a given entity supports only one common path.","pos":[10533,10641]},{"content":"This path is based on the media base URL that is configured and the media path that is defined.","pos":[10642,10737]},{"content":"However, in many cases, a retailer wants to be able to use images from different sources for a subset of items in an entity.","pos":[10738,10862]},{"content":"For example, a store uses the self-hosted media server for one set of catalog images but uses CDN URLs for another set.","pos":[10863,10982]},{"content":"To overwrite image URLs that are based on a media template for entity images at the entity level, you can use the Edit in Excel and Manual edit functionality from the <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> page.","pos":[10983,11167],"source":" To overwrite image URLs that are based on a media template for entity images at the entity level, you can use the Edit in Excel and Manual edit functionality from the **Preview** page."},{"pos":[11173,11205],"content":"Overwrite by using Edit in Excel","linkify":"Overwrite by using Edit in Excel","nodes":[{"content":"Overwrite by using Edit in Excel","pos":[0,32]}]},{"pos":[11211,11293],"content":"Click <bpt id=\"p1\">**</bpt>Retail and commerce<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Catalog management<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Catalog images<ept id=\"p3\">**</ept>.","source":"Click **Retail and commerce** &gt; **Catalog management** &gt; **Catalog images**."},{"content":"On the <bpt id=\"p1\">**</bpt>Catalog images<ept id=\"p1\">**</ept> page, click <bpt id=\"p2\">**</bpt>Define media template<ept id=\"p2\">**</ept>.","pos":[11298,11362],"source":"On the **Catalog images** page, click **Define media template**."},{"content":"In the <bpt id=\"p1\">**</bpt>Define media template<ept id=\"p1\">**</ept> dialog box, in the <bpt id=\"p2\">**</bpt>Entity<ept id=\"p2\">**</ept> field, <bpt id=\"p3\">**</bpt>Catalog<ept id=\"p3\">**</ept> should be selected.","pos":[11363,11464],"source":" In the **Define media template** dialog box, in the **Entity** field, **Catalog** should be selected."},{"pos":[11469,11526],"content":"On the <bpt id=\"p1\">**</bpt>Media path<ept id=\"p1\">**</ept> FastTab, notice the image location.","source":"On the **Media path** FastTab, notice the image location."},{"content":"On the <bpt id=\"p1\">**</bpt>Generate Image URLs for Excel<ept id=\"p1\">**</ept> FastTab, click <bpt id=\"p2\">**</bpt>Generate<ept id=\"p2\">**</ept>.","pos":[11531,11600],"source":"On the **Generate Image URLs for Excel** FastTab, click **Generate**."},{"content":"<bpt id=\"p1\">**</bpt>Important:<ept id=\"p1\">**</ept> Whenever the media template is changed, you must click <bpt id=\"p2\">**</bpt>Generate<ept id=\"p2\">**</ept> before you can use the Edit in Excel functionality.","pos":[11601,11735],"source":"**Important:** Whenever the media template is changed, you must click **Generate** before you can use the Edit in Excel functionality."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>excel1<ept id=\"p1\">](./media/excel1.jpg)](./media/excel1.jpg)</ept> You now see a preview of the image URLs that were generated based on the last saved media template.","pos":[11736,11887],"source":"[![excel1](./media/excel1.jpg)](./media/excel1.jpg) You now see a preview of the image URLs that were generated based on the last saved media template."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>excel2<ept id=\"p1\">](./media/excel2.png)](./media/excel2.png)</ept> <bpt id=\"p2\">**</bpt>Note:<ept id=\"p2\">**</ept> The URLs that are generated for Excel use the path and conventions of the media template that is defined.","pos":[11888,12055],"source":"[![excel2](./media/excel2.png)](./media/excel2.png) **Note:** The URLs that are generated for Excel use the path and conventions of the media template that is defined."},{"content":"These conventions include the conventions for file names.","pos":[12056,12113]},{"content":"The expectation is that you've set up the physical images outside Dynamics AX, and the images can be retrieved from the URLs that are derived from the media template that you defined earlier.","pos":[12114,12305]},{"content":"You can overwrite these derived URLs by using the Edit in Excel functionality.","pos":[12306,12384]},{"pos":[12389,12413],"content":"Click <bpt id=\"p1\">**</bpt>Edit in Excel<ept id=\"p1\">**</ept>.","source":"Click **Edit in Excel**."},{"pos":[12418,12508],"content":"After the Microsoft Excel worksheet is opened, click <bpt id=\"p1\">**</bpt>Enable edit<ept id=\"p1\">**</ept> when you're prompted.","source":"After the Microsoft Excel worksheet is opened, click **Enable edit** when you're prompted."},{"content":"When you're prompted, click <bpt id=\"p1\">**</bpt>Trust this add-in<ept id=\"p1\">**</ept> in the right pane, and wait for the add-in to complete the installation.","pos":[12513,12635],"source":"When you're prompted, click **Trust this add-in** in the right pane, and wait for the add-in to complete the installation."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Trust this add-in<ept id=\"p1\">](./media/excel4.jpg)](./media/excel4.jpg)</ept>","pos":[12636,12698],"source":"[![Trust this add-in](./media/excel4.jpg)](./media/excel4.jpg)"},{"content":"If you're prompted to sign in, enter the credentials that you used to sign in to HQ.","pos":[12703,12787]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Sign-in prompt<ept id=\"p1\">](./media/excel5.png)](./media/excel5.png)</ept>","pos":[12788,12847],"source":"[![Sign-in prompt](./media/excel5.png)](./media/excel5.png)"},{"content":"After you sign in, you should be able to see the list of image URLs for the various catalog entries.","pos":[12852,12952]},{"content":"You edit, add, and remove the image URLs for various entity items.","pos":[12957,13023]},{"content":"For all entities except Products, you can overwrite the image URLs.","pos":[13028,13095]},{"content":"Modify the existing image URL, so that it uses the new destination URL of the image, and update the file name with the new file name for the image file.","pos":[13096,13248]},{"content":"The file name must be unique to help guarantee that the record is unique.","pos":[13249,13322]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Overwrite the image URLs in Excel<ept id=\"p1\">](./media/excel6.jpg)](./media/excel6.jpg)</ept> <bpt id=\"p2\">**</bpt>Note:<ept id=\"p2\">**</ept> When you overwrite image URLs for Products entities by using the Edit in Excel functionality or the entity item page, MPOS always shows all the media template image URLs together with the overwritten image URLs.","pos":[13323,13623],"source":"[![Overwrite the image URLs in Excel](./media/excel6.jpg)](./media/excel6.jpg) **Note:** When you overwrite image URLs for Products entities by using the Edit in Excel functionality or the entity item page, MPOS always shows all the media template image URLs together with the overwritten image URLs."},{"pos":[13628,13741],"content":"After you've finished making your changes, click <bpt id=\"p1\">**</bpt>Publish in Excel<ept id=\"p1\">**</ept> to create a new explicit association entry.","source":"After you've finished making your changes, click **Publish in Excel** to create a new explicit association entry."},{"pos":[13746,13777],"content":"Return to HQ, and click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Return to HQ, and click **OK**."},{"content":"Run the appropriate synchronization jobs for the entity, and check the preview on the entity page or in MPOS.","pos":[13782,13891]},{"pos":[13898,13918],"content":"Creating new records","linkify":"Creating new records","nodes":[{"content":"Creating new records","pos":[0,20]}]},{"content":"You can create new records in Excel.","pos":[13920,13956]},{"content":"However, make sure that you provide the correct information.","pos":[13957,14017]},{"content":"For example, to create a new entry for a catalog, make sure that the catalog ID and catalog name are correct, and also provide a unique file name.","pos":[14018,14164]},{"content":"The unique file name is very important, because the uniqueness of records in Excel is validated during publishing.","pos":[14165,14279]},{"content":"First copy the details from the catalog that you want to create a new record for, and copy the record.","pos":[14280,14382]},{"content":"You just have to update the file name and URL, because the rest of the information will be same.","pos":[14383,14479]},{"content":"To create new records for Product entity items, you use the same basic procedure.","pos":[14480,14561]},{"content":"From the Excel worksheet, copy an existing record for the product that you to create a new record for, and then replace the image URL and filename.","pos":[14562,14709]},{"content":"Make sure that the file name is unique.","pos":[14710,14749]},{"pos":[14756,14783],"content":"Deleting an existing record","linkify":"Deleting an existing record","nodes":[{"content":"Deleting an existing record","pos":[0,27]}]},{"content":"Only the overwritten image URL records can be deleted.","pos":[14785,14839]},{"content":"After an image is deleted and synchronization is completed, the image will no longer appear on the <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> page or in MPOS.","pos":[14840,14967],"source":" After an image is deleted and synchronization is completed, the image will no longer appear on the **Preview** page or in MPOS."},{"content":"Image URL records that are derived from the media template can't be deleted, because these records are always derived from the media template every time.","pos":[14968,15121]},{"pos":[15127,15171],"content":"Overwrite from the entity-level Preview page","linkify":"Overwrite from the entity-level Preview page","nodes":[{"content":"Overwrite from the entity-level Preview page","pos":[0,44]}]},{"content":"For all entities except Products, you can overwrite the image URL for a given entity item at the entity item level from the <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> page.","pos":[15173,15314],"source":"For all entities except Products, you can overwrite the image URL for a given entity item at the entity item level from the **Preview** page."},{"content":"For Products, you can use the \"Catalog Products\" entity page.","pos":[15315,15376]},{"content":"This example shows how to overwrite a catalog image.","pos":[15377,15429]},{"pos":[15435,15525],"content":"Click <bpt id=\"p1\">**</bpt>Catalogs<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Media<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Images<ept id=\"p3\">**</ept>, and select the catalog image to update.","source":"Click **Catalogs** &gt; **Media** &gt; **Images**, and select the catalog image to update."},{"pos":[15530,15605],"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, and enter the image URL to overwrite the media template URL.","source":"Click **Add**, and enter the image URL to overwrite the media template URL."},{"content":"If you want this image to be shown in MPOS for the catalog, you can set it as the default image.","pos":[15610,15706]},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[15711,15724],"source":"Click **OK**."},{"content":"The image URL is updated for this catalog image, and a preview is shown.","pos":[15725,15797]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>preview3<ept id=\"p1\">](./media/preview3.png)](./media/preview3.png)</ept>","pos":[15798,15855],"source":"[![preview3](./media/preview3.png)](./media/preview3.png)"},{"pos":[15860,15965],"content":"You can also see the image preview for all overwritten image URLs on the <bpt id=\"p1\">**</bpt>Catalog images<ept id=\"p1\">**</ept> gallery page.","source":"You can also see the image preview for all overwritten image URLs on the **Catalog images** gallery page."},{"content":"<bpt id=\"p1\">**</bpt><bpt id=\"p2\">[</bpt><ph id=\"ph1\">![</ph>preview-4<ept id=\"p2\">](./media/preview-4.png)](./media/preview-4.png)</ept>Note:<ept id=\"p1\">**</ept> Currently, the gallery doesn't show image previews for media template image URLs.","pos":[15967,16118],"source":"**[![preview-4](./media/preview-4.png)](./media/preview-4.png)Note:** Currently, the gallery doesn't show image previews for media template image URLs."},{"content":"For Catalog, Worker, Customer, and Category entities, if the user explicitly provides a URL through this page, we recommend that you indicate which image is the default image, because Retail Server clients show only one image per Catalog, Customer, Worker, and Category.","pos":[16119,16389]},{"content":"If the user doesn't specify a default image, the system determines the default image and send it to the Retail service caller (MPOS or Ecommerce).","pos":[16390,16536]},{"pos":[16542,16614],"content":"Overwrite the image URL for catalog product images from the Preview page","linkify":"Overwrite the image URL for catalog product images from the Preview page","nodes":[{"content":"Overwrite the image URL for catalog product images from the Preview page","pos":[0,72]}]},{"content":"To overwrite image URLs for catalog product images, you must use the <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> page.","pos":[16616,16702],"source":"To overwrite image URLs for catalog product images, you must use the **Preview** page."},{"content":"You can't use the Edit in Excel functionality.","pos":[16703,16749]},{"content":"To overwrite product images at a catalog level, select a catalog, and then select the product to overwrite the image for.","pos":[16755,16876]},{"pos":[16881,16902],"content":"Click <bpt id=\"p1\">**</bpt>Attributes<ept id=\"p1\">**</ept>.","source":"Click **Attributes**."},{"content":"On the next page, select <bpt id=\"p1\">**</bpt>Image<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Edit<ept id=\"p2\">**</ept>.","pos":[16907,16967],"source":"On the next page, select **Image**, and then click **Edit**."},{"content":"The <bpt id=\"p1\">**</bpt>Preview<ept id=\"p1\">**</ept> page opens as a slider dialog box.","pos":[16968,17018],"source":" The **Preview** page opens as a slider dialog box."},{"pos":[17023,17081],"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, and overwrite the image URL with a new URL.","source":"Click **Add**, and overwrite the image URL with a new URL."},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[17086,17099],"source":"Click **OK**."},{"content":"You now see the preview of the new image and can set it as the default image.","pos":[17100,17177]},{"pos":[17179,17394],"content":"<bpt id=\"p1\">**</bpt><bpt id=\"p2\">[</bpt><ph id=\"ph1\">![</ph>cat3<ept id=\"p2\">](./media/cat3.png)](./media/cat3.png)</ept>Note:<ept id=\"p1\">**</ept> After category image association, you must publish the channel and run the Channel job to help guarantee that the changes are published to the channel database.","source":"**[![cat3](./media/cat3.png)](./media/cat3.png)Note:** After category image association, you must publish the channel and run the Channel job to help guarantee that the changes are published to the channel database."},{"pos":[17399,17451],"content":"Setting up images to appear in Offline mode for MPOS","linkify":"Setting up images to appear in Offline mode for MPOS","nodes":[{"content":"Setting up images to appear in Offline mode for MPOS","pos":[0,52]}]},{"content":"MPOS can run in Online mode (when MPOS connected to Retail Server) or Offline mode (when there is no Retail Server or network connectivity, and transactions are stored in a local offline database).","pos":[17452,17649]},{"content":"When MPOS runs in Offline mode, it can't get images from the external image server to display from Retail Server, because Retail Server connectivity has been lost.","pos":[17650,17813]},{"content":"However, you can still set up images so that they are shown when MPOS runs in Offline mode.","pos":[17814,17905]},{"pos":[17911,17967],"content":"Set up product images to appear in Offline mode for MPOS","linkify":"Set up product images to appear in Offline mode for MPOS","nodes":[{"content":"Set up product images to appear in Offline mode for MPOS","pos":[0,56]}]},{"content":"The product images that must be used in Offline mode can be set up by uploading the required physical image into the base product image.","pos":[17969,18105]},{"pos":[18111,18188],"content":"Click <bpt id=\"p1\">**</bpt>Product information management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Products<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Products<ept id=\"p3\">**</ept>.","source":"Click **Product information management** &gt; **Products** &gt; **Products**."},{"content":"Select the product to set the offline image for.","pos":[18193,18241]},{"pos":[18246,18330],"content":"Click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept>, and then click the arrow in the right corner to show the right pane.","source":"Click **Edit**, and then click the arrow in the right corner to show the right pane."},{"pos":[18335,18471],"content":"On the <bpt id=\"p1\">**</bpt>Product image<ept id=\"p1\">**</ept> FastTab, click <bpt id=\"p2\">**</bpt>Change image<ept id=\"p2\">**</ept>, and upload the physical image to use for the selected product in Offline mode.","source":"On the **Product image** FastTab, click **Change image**, and upload the physical image to use for the selected product in Offline mode."},{"content":"Save and close the page.","pos":[18476,18500]},{"content":"While MPOS is in Online mode, run the Catalog job in HQ, to make sure that the data is sent at least one time to the offline database.","pos":[18505,18639]},{"content":"Put MPOS into Offline mode.","pos":[18644,18671]},{"content":"You should see the image that you uploaded for the specific product in HQ.","pos":[18672,18746]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>offline1<ept id=\"p1\">](./media/offline1.png)](./media/offline1.png)</ept>","pos":[18747,18804],"source":"[![offline1](./media/offline1.png)](./media/offline1.png)"},{"pos":[18813,18903],"content":"Set up catalog, category, employee, and customer images to appear in Offline mode for MPOS","linkify":"Set up catalog, category, employee, and customer images to appear in Offline mode for MPOS","nodes":[{"content":"Set up catalog, category, employee, and customer images to appear in Offline mode for MPOS","pos":[0,90]}]},{"content":"The catalog, category, employee, and customer images that must be used in Offline mode can be set up by adding the required image's destination link to the gallery and setting the image as the default image for the selected entity.","pos":[18905,19136]},{"pos":[19142,19223],"content":"Go to the catalog, and then, on the Action Pane, click <bpt id=\"p1\">**</bpt>Media<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Images<ept id=\"p2\">**</ept>.","source":"Go to the catalog, and then, on the Action Pane, click **Media** &gt; **Images**."},{"pos":[19228,19341],"content":"Follow the steps in the \"<bpt id=\"p1\">**</bpt>Overwrite from the entity-level Preview page<ept id=\"p1\">**</ept>\" section to add the external image URL.","source":"Follow the steps in the \"**Overwrite from the entity-level Preview page**\" section to add the external image URL."},{"content":"Mark this image as the default image for the catalog by selecting the check box against the Image listed in the grid.","pos":[19346,19463]},{"content":"Run the Catalog job.","pos":[19468,19488]},{"content":"This image will now be used as the Offline image for that catalog in MPOS.","pos":[19489,19563]},{"content":"Follow a similar process for other entities, such as Category, Employee, and Customer.","pos":[19568,19654]},{"pos":[19656,19713],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>offline2<ept id=\"p1\">](./media/offline2.png)](./media/offline2.png)</ept>","source":"[![offline2](./media/offline2.png)](./media/offline2.png)"}],"content":"---\n# required metadata\n\ntitle: Set up and manage images for Retail Modern POS\ndescription: This article explains the steps that are involved in setting up and managing images for the various entities that appear in Retail Modern POS (MPOS).\nauthor: MargoC\nmanager: AnnBe\nms.date: 2016-02-24 14 - 58 - 41\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User\n# ms.devlang: \n# ms.reviewer: 41\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 52851\nms.assetid: 480b51e8-a077-43ce-9111-cd3532952cd6\nms.search.region: global\nms.search.industry: Retail\nms.author: athinesh\nms.dyn365.ops.intro: Feb-16\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Set up and manage images for Retail Modern POS\n\nThis article explains the steps that are involved in setting up and managing images for the various entities that appear in Retail Modern POS (MPOS).\n\nSetting up the media base URL and defining media templates to configure the format for image URLs\n-------------------------------------------------------------------------------------------------\n\nThe images that appear in Retail Modern POS (MPOS) must be hosted externally, outside Microsoft Dynamics 365 for Operations - Retail. Typically, they are hosted in a content management system, content delivery network (CDN), or media server. MPOS then fetches and displays the images for the appropriate entities, such as products and catalogs, by accessing the target URL. To fetch these externally hosted images, MPOS requires the correct URL format for the images. You can configure the required URL format for the images by setting up the **Media base URL** value in the channel profile and using the **Define media template** functionality for each entity. You can also overwrite the standard URL format for a subset of entities by using the **Edit in Excel** functionality. **Important note:** In the current version of Dynamics 365 for Operations, you can no longer set up the URL format by using the **Image** attribute XML for MPOS in the **Default** attribute group for entities. If you're familiar with Microsoft Dynamics AX 2012 R3 and are now using the current version of Dynamics 365 for Operations, make sure that you always use the new **Define media template** functionality to set up images. Don't use or modify the **Image** attribute in the **Default** attribute group for any entities, including products. Changes that you make directly in the **Default** attribute group for images won't be reflected. This option will be disabled in a future release. In the following procedures, images are set up for the Catalog entity as an example. These procedures will help guarantee that the correct image destination path is set implicitly for all catalog images that use a common path. For example, if you've set up a media server or CDN externally, and want the images to appear in MPOS for a given store, the **Define media template** functionality helps you the set the path where MPOS can look up and retrieve the images. **Note:** For this demo data example, the media server is deployed on the Retail Server. However, you can have it anywhere outside Dynamics 365 for Operations.\n\n### Set up the media base URL for a channel\n\n1.  Open the Dynamics 365 for Operations HQ portal.\n2.  Click **Retail and commerce** &gt; **Channel setup** &gt; **Channel profiles**. [![channel-profile1](./media/channel-profile1.png)](./media/channel-profile1.png)\n3.  In the channel profile that your store uses for MPOS, update the **Media base URL** field with the base URL of your media server or CDN. The base URL is the first part of the URL that is shared by all image folders of different entities.[![channel-profile2](./media/channel-profile2.png)](./media/channel-profile2.png)\n\n### Define the media template for an entity\n\n1.  Click **Retail and commerce** &gt; **Catalog management** &gt; **Catalog images**.\n2.  On the **Catalog images** page, on the Action Pane, click **Define media template**. In the **Define media template** dialog box, in the **Entity** field, **Catalog** should be selected by default.\n3.  On the **Media path** FastTab, enter the remaining path of the image location. The media path supports **LanguageID** as a variable. For example, for the demo data, you can create a **Catalogs** folder for all catalog images under the media base URL for your media server (https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer). You can then have a folder for each language, such as en-US or fr-FR, and copy the appropriate images under each folder. If you don't have different images for the various languages, you can omit the **LanguageID** variable from your folder structure and point directly to the Catalogs folder that contains the catalog images. **Note:** The current version of Dynamics AX supports the **{LanguageId}** token for Catalog, Product, and Category entities. (The **{LanguageID}** token isn't supported for Customer and Worker entities, according to the existing standard that has been effective since Microsoft Dynamics AX 6.x.)\n4.  For images, the file name format is hard-coded to the catalog name and can't be changed. Therefore, rename your images so that they have appropriate catalog names, to help guarantee that MPOS handles them correctly.\n5.  In the **File Extension** field, select the expected file name extension, depending on the type of images that you have. For example, for the demo data, the catalog images are set to the .jpg extension. (The image files are also renamed so that they have catalog names.)\n6.  Click **OK**.\n7.  To validate that the media template for images has been saved correctly, on the **Catalog images** page, click **Define media template** again. To validate the template without closing the **Define media template** dialog box, you can use the **Generate Image URLs for Excel** FastTab. Check the appearance of the image URL, and verify that the URL complies with the template standard that was mentioned earlier. The **Define media template** dialog box has now set the image path implicitly for all catalog images that use this common URL path. This URL path applies to all catalog images unless they are overwritten. The first part of the image path is taken from the media base URL that you defined in the channel profile. The remaining part of the path is taken from the path that you defined in the media template. The two parts are concatenated to provide the full URL of the image location. For example, a catalog in the demo data is named Fabrikam Base Catalog. Therefore, the image name must be Fabrikam Base Catalog.jpg so that it uses the catalog name and the .jpg file name extension that is configured in the template. In this case, after concatenation, the URL will be https://testax3ret.cloud.test.dynamics.com/RetailServer/MediaServer/Catalogs/en-US/Fabrikam Base Catalog.jpg.\n8.  Run the synchronization jobs to push the new template to the channel database, so that MPOS can use the template to access the images.\n9.  To update the media template for catalog images on the channel side, be sure to run **Catalog Job 1150** from **Retail IT** &gt; **Distribution schedule**.[![catalog1](./media/catalog1.png)](./media/catalog1.png)\n\n## Previewing an image from the entity level\n1.  From the page for the entity item in HQ, you can preview the image that uses the image URL that is derived from the media template. For this example, go to the appropriate catalog, and then, on the Action Pane, click **Media** &gt; **Images**. Use the drop-down list to select different stores that might have different channel profiles.\n2.  To edit or remove the implicit media template, you must return to the **Define media template** dialog box for the **Catalog images** page.\n3.  You can use the **Add** and **Remove** buttons to manually change the path that is based on the implicit template and used for a specific image. For more information, see the \"Overwriting the media template for entity items\" section later in this article.\n4.  After you've finished previewing an image and making any changes that you require, start the MPOS instance for the appropriate store, and see whether the catalog images are shown.[![catalog4](./media/catalog4.png)](./media/catalog4.png)\n\n**Note:** You can use the same procedure for all the five entities that are supported: Worker, Customer, Catalog, Category, and Products. \"Catalog Products\" (products that are set at the catalog level) and \"Channel Products\" (products that are set at the channel level) use the media template that is set for the Products entity. For the Products media template, you can select the number of product images to show per product. You can also set the default image for a given product. In this way, you can prevent blank images in MPOS and help to control which image is used as the default image for a product item. In the following example, each product has five images, and the first image is set as the default image. Variant products are treated the same way as master products. The file name of the image file should be based on the product number. Some characters are also escaped while the file name is generated. Therefore, it's a good to verify the file name by using the **Generate Image URLs for Excel** section. [![prods](./media/prods.png)](./media/prods.png)  \n\n## Synchronization jobs to send a media template to the channel side\nFor all the five supported entities (Worker, Customer, Catalog, Category, and Products), whenever you update the **Define media template** dialog to set up an image, make sure that you run the Catalog job (1150) from **Retail IT** &gt; **Distribution schedule**. This job will enable the updated media template to be synced to the channel and used by MPOS. Run the Catalog job (1150) after you make any of the following changes:\n\n-   You update the Catalog image media template from **Catalog images** &gt; **Define media template**.\n-   You update the Employee image media template from **Employee images** &gt; **Define media template**.\n-   You update the Customer image media template from **Customer image** &gt; **Define media template**.\n-   You update the Product image media template from **Product images** &gt; **Define media template**.\n-   You update the Category image media template from **Category images** &gt; **Define media template**. You must also publish the channel.\n\n## Overwriting the media template for entity items\nAs you learned in the previous section, the media template for a given entity supports only one common path. This path is based on the media base URL that is configured and the media path that is defined. However, in many cases, a retailer wants to be able to use images from different sources for a subset of items in an entity. For example, a store uses the self-hosted media server for one set of catalog images but uses CDN URLs for another set. To overwrite image URLs that are based on a media template for entity images at the entity level, you can use the Edit in Excel and Manual edit functionality from the **Preview** page.\n\n### Overwrite by using Edit in Excel\n\n1.  Click **Retail and commerce** &gt; **Catalog management** &gt; **Catalog images**.\n2.  On the **Catalog images** page, click **Define media template**. In the **Define media template** dialog box, in the **Entity** field, **Catalog** should be selected.\n3.  On the **Media path** FastTab, notice the image location.\n4.  On the **Generate Image URLs for Excel** FastTab, click **Generate**. **Important:** Whenever the media template is changed, you must click **Generate** before you can use the Edit in Excel functionality. [![excel1](./media/excel1.jpg)](./media/excel1.jpg) You now see a preview of the image URLs that were generated based on the last saved media template. [![excel2](./media/excel2.png)](./media/excel2.png) **Note:** The URLs that are generated for Excel use the path and conventions of the media template that is defined. These conventions include the conventions for file names. The expectation is that you've set up the physical images outside Dynamics AX, and the images can be retrieved from the URLs that are derived from the media template that you defined earlier. You can overwrite these derived URLs by using the Edit in Excel functionality.\n5.  Click **Edit in Excel**.\n6.  After the Microsoft Excel worksheet is opened, click **Enable edit** when you're prompted.\n7.  When you're prompted, click **Trust this add-in** in the right pane, and wait for the add-in to complete the installation. [![Trust this add-in](./media/excel4.jpg)](./media/excel4.jpg)\n8.  If you're prompted to sign in, enter the credentials that you used to sign in to HQ. [![Sign-in prompt](./media/excel5.png)](./media/excel5.png)\n9.  After you sign in, you should be able to see the list of image URLs for the various catalog entries.\n10. You edit, add, and remove the image URLs for various entity items.\n11. For all entities except Products, you can overwrite the image URLs. Modify the existing image URL, so that it uses the new destination URL of the image, and update the file name with the new file name for the image file. The file name must be unique to help guarantee that the record is unique. [![Overwrite the image URLs in Excel](./media/excel6.jpg)](./media/excel6.jpg) **Note:** When you overwrite image URLs for Products entities by using the Edit in Excel functionality or the entity item page, MPOS always shows all the media template image URLs together with the overwritten image URLs.\n12. After you've finished making your changes, click **Publish in Excel** to create a new explicit association entry.\n13. Return to HQ, and click **OK**.\n14. Run the appropriate synchronization jobs for the entity, and check the preview on the entity page or in MPOS.\n\n#### Creating new records\n\nYou can create new records in Excel. However, make sure that you provide the correct information. For example, to create a new entry for a catalog, make sure that the catalog ID and catalog name are correct, and also provide a unique file name. The unique file name is very important, because the uniqueness of records in Excel is validated during publishing. First copy the details from the catalog that you want to create a new record for, and copy the record. You just have to update the file name and URL, because the rest of the information will be same. To create new records for Product entity items, you use the same basic procedure. From the Excel worksheet, copy an existing record for the product that you to create a new record for, and then replace the image URL and filename. Make sure that the file name is unique.\n\n#### Deleting an existing record\n\nOnly the overwritten image URL records can be deleted. After an image is deleted and synchronization is completed, the image will no longer appear on the **Preview** page or in MPOS. Image URL records that are derived from the media template can't be deleted, because these records are always derived from the media template every time.\n\n### Overwrite from the entity-level Preview page\n\nFor all entities except Products, you can overwrite the image URL for a given entity item at the entity item level from the **Preview** page. For Products, you can use the \"Catalog Products\" entity page. This example shows how to overwrite a catalog image.\n\n1.  Click **Catalogs** &gt; **Media** &gt; **Images**, and select the catalog image to update.\n2.  Click **Add**, and enter the image URL to overwrite the media template URL.\n3.  If you want this image to be shown in MPOS for the catalog, you can set it as the default image.\n4.  Click **OK**. The image URL is updated for this catalog image, and a preview is shown. [![preview3](./media/preview3.png)](./media/preview3.png)\n5.  You can also see the image preview for all overwritten image URLs on the **Catalog images** gallery page.\n\n**[![preview-4](./media/preview-4.png)](./media/preview-4.png)Note:** Currently, the gallery doesn't show image previews for media template image URLs. For Catalog, Worker, Customer, and Category entities, if the user explicitly provides a URL through this page, we recommend that you indicate which image is the default image, because Retail Server clients show only one image per Catalog, Customer, Worker, and Category. If the user doesn't specify a default image, the system determines the default image and send it to the Retail service caller (MPOS or Ecommerce).\n\n### Overwrite the image URL for catalog product images from the Preview page\n\nTo overwrite image URLs for catalog product images, you must use the **Preview** page. You can't use the Edit in Excel functionality.\n\n1.  To overwrite product images at a catalog level, select a catalog, and then select the product to overwrite the image for.\n2.  Click **Attributes**.\n3.  On the next page, select **Image**, and then click **Edit**. The **Preview** page opens as a slider dialog box.\n4.  Click **Add**, and overwrite the image URL with a new URL.\n5.  Click **OK**. You now see the preview of the new image and can set it as the default image.\n\n**[![cat3](./media/cat3.png)](./media/cat3.png)Note:** After category image association, you must publish the channel and run the Channel job to help guarantee that the changes are published to the channel database.\n\n## Setting up images to appear in Offline mode for MPOS\nMPOS can run in Online mode (when MPOS connected to Retail Server) or Offline mode (when there is no Retail Server or network connectivity, and transactions are stored in a local offline database). When MPOS runs in Offline mode, it can't get images from the external image server to display from Retail Server, because Retail Server connectivity has been lost. However, you can still set up images so that they are shown when MPOS runs in Offline mode.\n\n### Set up product images to appear in Offline mode for MPOS\n\nThe product images that must be used in Offline mode can be set up by uploading the required physical image into the base product image.\n\n1.  Click **Product information management** &gt; **Products** &gt; **Products**.\n2.  Select the product to set the offline image for.\n3.  Click **Edit**, and then click the arrow in the right corner to show the right pane.\n4.  On the **Product image** FastTab, click **Change image**, and upload the physical image to use for the selected product in Offline mode.\n5.  Save and close the page.\n6.  While MPOS is in Online mode, run the Catalog job in HQ, to make sure that the data is sent at least one time to the offline database.\n7.  Put MPOS into Offline mode. You should see the image that you uploaded for the specific product in HQ. [![offline1](./media/offline1.png)](./media/offline1.png)\n\n \n\n### Set up catalog, category, employee, and customer images to appear in Offline mode for MPOS\n\nThe catalog, category, employee, and customer images that must be used in Offline mode can be set up by adding the required image's destination link to the gallery and setting the image as the default image for the selected entity.\n\n1.  Go to the catalog, and then, on the Action Pane, click **Media** &gt; **Images**.\n2.  Follow the steps in the \"**Overwrite from the entity-level Preview page**\" section to add the external image URL.\n3.  Mark this image as the default image for the catalog by selecting the check box against the Image listed in the grid.\n4.  Run the Catalog job. This image will now be used as the Offline image for that catalog in MPOS.\n5.  Follow a similar process for other entities, such as Category, Employee, and Customer.\n\n[![offline2](./media/offline2.png)](./media/offline2.png)    \n\n"}