{"nodes":[{"pos":[32,115],"content":"Apply a deployable package on a Dynamics 365 for Operations system | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Apply a deployable package on a Dynamics 365 for Operations system | Microsoft Docs","pos":[0,83]}]},{"pos":[129,408],"content":"This tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system. This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.","needQuote":true,"needEscape":true,"nodes":[{"content":"This tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system. This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.","pos":[0,279],"nodes":[{"content":"This tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system.","pos":[0,126]},{"content":"This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.","pos":[127,279]}]}]},{"pos":[842,908],"content":"Apply a deployable package on a Dynamics 365 for Operations system","linkify":"Apply a deployable package on a Dynamics 365 for Operations system","nodes":[{"content":"Apply a deployable package on a Dynamics 365 for Operations system","pos":[0,66]}]},{"content":"This tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system.","pos":[910,1036]},{"content":"This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.","pos":[1037,1189]},{"pos":[1191,1213],"content":"Supported environments","linkify":"Supported environments","nodes":[{"content":"Supported environments","pos":[0,22]}]},{"pos":[1242,1405],"content":"<bpt id=\"p1\">**</bpt>Demo<ept id=\"p1\">**</ept> - Customers/partners can apply a deployable package in their demo environments using LCS without having to establish a remote connection to each computer.","source":"**Demo** - Customers/partners can apply a deployable package in their demo environments using LCS without having to establish a remote connection to each computer."},{"content":"<bpt id=\"p1\">**</bpt>Dev/Test/Build<ept id=\"p1\">**</ept>  – Customers/partners can apply a deployable package in their dev/test environments by establishing a remote connection to the computers and running the package manually.","pos":[1410,1599],"source":"**Dev/Test/Build**  – Customers/partners can apply a deployable package in their dev/test environments by establishing a remote connection to the computers and running the package manually."},{"content":"For more information about this environment, see <bpt id=\"p1\">[</bpt>Install a deployable package in Microsoft Dynamics 365 for Operations<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)</ept>.","pos":[1600,1836],"source":" For more information about this environment, see [Install a deployable package in Microsoft Dynamics 365 for Operations](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)."},{"pos":[1841,2010],"content":"<bpt id=\"p1\">**</bpt>Sandbox<ept id=\"p1\">**</ept> – Customers/partners can apply a deployable package in their sandbox environments using LCS without having to establish a remote connection to each computer.","source":"**Sandbox** – Customers/partners can apply a deployable package in their sandbox environments using LCS without having to establish a remote connection to each computer."},{"content":"<bpt id=\"p1\">**</bpt>Production<ept id=\"p1\">**</ept> – Customers can submit requests to the Microsoft Service Engineering team through Microsoft Dynamics Lifecycle Services (LCS) to apply a deployable package in their production environments.","pos":[2015,2219],"source":"**Production** – Customers can submit requests to the Microsoft Service Engineering team through Microsoft Dynamics Lifecycle Services (LCS) to apply a deployable package in their production environments."},{"content":"They will then be able to see the progress of their request in the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> view in LCS.","pos":[2220,2323],"source":" They will then be able to see the progress of their request in the **Environment details** view in LCS."},{"content":"<bpt id=\"p1\">**</bpt>Downloadable VHD<ept id=\"p1\">**</ept> – Customers/partners can manually apply a deployable package by establishing a remote connection to the computers.","pos":[2328,2463],"source":"**Downloadable VHD** – Customers/partners can manually apply a deployable package by establishing a remote connection to the computers."},{"content":"For more information about this environment, see <bpt id=\"p1\">[</bpt>Install a deployable package in Microsoft Dynamics 365 for Operations<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)</ept>.","pos":[2464,2700],"source":" For more information about this environment, see [Install a deployable package in Microsoft Dynamics 365 for Operations](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)."},{"pos":[2705,2717],"content":"Key concepts","linkify":"Key concepts","nodes":[{"content":"Key concepts","pos":[0,12]}]},{"content":"<bpt id=\"p1\">**</bpt>Deployable package<ept id=\"p1\">**</ept> – A deployable package is a unit of deployment that can be applied in any Dynamics 365 for Operations environment.","pos":[2722,2859],"source":"**Deployable package** – A deployable package is a unit of deployment that can be applied in any Dynamics 365 for Operations environment."},{"content":"A deployable package can be a binary hotfix to the Application Object Server (AOS) runtime components, an updated Dynamics 365 for Operations customization package, or a new Dynamics 365 for Operations customization/application module package.","pos":[2860,3103]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Example of a deployable package<ept id=\"p1\">](./media/applypackage_deployablepackage.jpg)](./media/applypackage_deployablepackage.jpg)</ept>","pos":[3104,3228],"source":"[![Example of a deployable package](./media/applypackage_deployablepackage.jpg)](./media/applypackage_deployablepackage.jpg)"},{"content":"<bpt id=\"p1\">**</bpt>Runbook<ept id=\"p1\">**</ept> – The deployment runbook is a series of steps that are generated for applying the deployable package to the target environment.","pos":[3233,3372],"source":"**Runbook** – The deployment runbook is a series of steps that are generated for applying the deployable package to the target environment."},{"content":"Some of the steps are automated, and some are manual.","pos":[3373,3426]},{"content":"AXUpdateInstaller lets you run these steps one at a time and in the correct order.","pos":[3427,3509]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Example of a deployment runbook<ept id=\"p1\">](./media/applypackage_runbook-1024x528.jpg)](./media/applypackage_runbook.jpg)</ept>","pos":[3510,3623],"source":"[![Example of a deployment runbook](./media/applypackage_runbook-1024x528.jpg)](./media/applypackage_runbook.jpg)"},{"content":"<bpt id=\"p1\">**</bpt>AXUpdateInstaller<ept id=\"p1\">**</ept> – When you create a customization package from Microsoft Visual Studio or a Microsoft binary hotfix, the installer executable is bundled together with the deployable package.","pos":[3628,3824],"source":"**AXUpdateInstaller** – When you create a customization package from Microsoft Visual Studio or a Microsoft binary hotfix, the installer executable is bundled together with the deployable package."},{"content":"The installer generates the runbook for the specified topology.","pos":[3825,3888]},{"content":"The installer can also run steps in order, according to the runbook for a specific topology.","pos":[3889,3981]},{"pos":[3986,4003],"content":"Types of packages","linkify":"Types of packages","nodes":[{"content":"Types of packages","pos":[0,17]}]},{"pos":[4008,4175],"content":"<bpt id=\"p1\">**</bpt>AOT deployable package<ept id=\"p1\">**</ept> – A deployable package that is generated after the application source code is applied, any conflicts are resolved, and the code is compiled.","source":"**AOT deployable package** – A deployable package that is generated after the application source code is applied, any conflicts are resolved, and the code is compiled."},{"pos":[4180,4317],"content":"<bpt id=\"p1\">**</bpt>Binary package<ept id=\"p1\">**</ept> – A deployable package that contains binary dynamic-link libraries (DLLs) that the platform and application depend on.","source":"**Binary package** – A deployable package that contains binary dynamic-link libraries (DLLs) that the platform and application depend on."},{"pos":[4322,4434],"content":"<bpt id=\"p1\">**</bpt>Retail deployable package (combined)<ept id=\"p1\">**</ept> – A combined deployable package that is generated from the source code.","source":"**Retail deployable package (combined)** – A combined deployable package that is generated from the source code."},{"pos":[4439,4457],"content":"Prerequisite steps","linkify":"Prerequisite steps","nodes":[{"content":"Prerequisite steps","pos":[0,18]}]},{"content":"When the status of the package application changes, LCS sends notifications to all the project users.","pos":[4458,4559]},{"content":"Any additional stakeholders who must be notified must be specified in the notification list.","pos":[4560,4652]},{"pos":[4658,4763],"content":"To add additional stakeholders, in LCS, in the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> view, click <bpt id=\"p2\">**</bpt>Notification list<ept id=\"p2\">**</ept>.","source":"To add additional stakeholders, in LCS, in the **Environment details** view, click **Notification list**."},{"pos":[4768,4849],"content":"Add the email address of each user who must be notified, and then click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>.","source":"Add the email address of each user who must be notified, and then click **Save**."},{"pos":[4854,4912],"content":"A customer applies a package in a demo/sandbox environment","linkify":"A customer applies a package in a demo/sandbox environment","nodes":[{"content":"A customer applies a package in a demo/sandbox environment","pos":[0,58]}]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> Package application causes system downtime.","pos":[4913,4966],"source":"**Note:** Package application causes system downtime."},{"content":"All the relevant services will be stopped, and you won't be able to use your environments while the package is being applied.","pos":[4967,5092]},{"content":"Download a hotfix from LCS.","pos":[5098,5125]},{"content":"For information about how to download a hotfix from LCS, see <bpt id=\"p1\">[</bpt>Download hotfixes from Lifecycle Services<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services)</ept>.","pos":[5126,5350],"source":" For information about how to download a hotfix from LCS, see [Download hotfixes from Lifecycle Services](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services)."},{"content":"For a binary hotfix, upload the hotfix directly to the Asset library.","pos":[5359,5428]},{"content":"For an application/X++ hotfix, apply the package in a dev environment.","pos":[5437,5507]},{"content":"After you resolve any conflicts, generate a deployable package from Visual Studio, and upload the package to the Asset library.","pos":[5508,5635]},{"content":"For information about how to upload to the Asset library and create a deployable package, see <bpt id=\"p1\">[</bpt>Create and apply a deployable package<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package)</ept>.","pos":[5636,5886],"source":" For information about how to upload to the Asset library and create a deployable package, see [Create and apply a deployable package](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package)."},{"pos":[5892,5994],"content":"Open the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> view for the sandbox environment where you want to apply the package.","source":"Open the **Environment details** view for the sandbox environment where you want to apply the package."},{"pos":[5999,6060],"content":"Click <bpt id=\"p1\">**</bpt>Maintain<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Apply updates<ept id=\"p2\">**</ept> to apply an update.","source":"Click **Maintain** &gt; **Apply updates** to apply an update."},{"content":"Click the type of package to apply.","pos":[6065,6100]},{"content":"Select the package to apply, and then click <bpt id=\"p1\">**</bpt>Apply<ept id=\"p1\">**</ept>.","pos":[6105,6159],"source":"Select the package to apply, and then click **Apply**."},{"content":"Notice that the status in the upper right of the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> view changes to <bpt id=\"p2\">**</bpt>Queued<ept id=\"p2\">**</ept>, and that an <bpt id=\"p3\">**</bpt>Environment updates<ept id=\"p3\">**</ept> section now shows the progress of the package.","pos":[6160,6343],"source":" Notice that the status in the upper right of the **Environment details** view changes to **Queued**, and that an **Environment updates** section now shows the progress of the package."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Environment details view showing Queued status and an Environment updates section<ept id=\"p1\">](./media/applypackage_sandbox_6-1024x302.png)](./media/applypackage_sandbox_6.png)</ept>","pos":[6344,6511],"source":"[![Environment details view showing Queued status and an Environment updates section](./media/applypackage_sandbox_6-1024x302.png)](./media/applypackage_sandbox_6.png)"},{"content":"Refresh the page to see the progress of the package application.","pos":[6516,6580]},{"content":"Notice that the servicing status is <bpt id=\"p1\">**</bpt>In Progress<ept id=\"p1\">**</ept>, and the environment status is <bpt id=\"p2\">**</bpt>Servicing<ept id=\"p2\">**</ept>.","pos":[6581,6678],"source":" Notice that the servicing status is **In Progress**, and the environment status is **Servicing**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Environment details view showing a servicing status of In Progress and an environment status of Servicing<ept id=\"p1\">](./media/applypackage_sandbox_7-1024x397.png)](./media/applypackage_sandbox_7.png)</ept>","pos":[6679,6870],"source":"[![Environment details view showing a servicing status of In Progress and an environment status of Servicing](./media/applypackage_sandbox_7-1024x397.png)](./media/applypackage_sandbox_7.png)"},{"content":"Continue to refresh the page to see the status updates for the package application request.","pos":[6875,6966]},{"content":"When the package has been applied, the environment status changes to <bpt id=\"p1\">**</bpt>Deployed<ept id=\"p1\">**</ept>, and the servicing status changes to <bpt id=\"p2\">**</bpt>Completed<ept id=\"p2\">**</ept>.","pos":[6967,7100],"source":" When the package has been applied, the environment status changes to **Deployed**, and the servicing status changes to **Completed**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Environment details view showing an environment status of Deployed and a servicing status of Completed<ept id=\"p1\">](./media/applypackage_sandbox_8-1024x396.png)](./media/applypackage_sandbox_8.png)</ept>","pos":[7101,7289],"source":"[![Environment details view showing an environment status of Deployed and a servicing status of Completed](./media/applypackage_sandbox_8-1024x396.png)](./media/applypackage_sandbox_8.png)"},{"content":"To sign off on the package application, click <bpt id=\"p1\">**</bpt>Sign off<ept id=\"p1\">**</ept> if there are no issues.","pos":[7294,7376],"source":"To sign off on the package application, click **Sign off** if there are no issues."},{"content":"If issues occurred when you applied the package, click <bpt id=\"p1\">**</bpt>Sign off with issues<ept id=\"p1\">**</ept>.","pos":[7377,7457],"source":" If issues occurred when you applied the package, click **Sign off with issues**."},{"pos":[7463,7478],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"pos":[7485,7520],"content":"General troubleshooting/diagnostics","linkify":"General troubleshooting/diagnostics","nodes":[{"content":"General troubleshooting/diagnostics","pos":[0,35]}]},{"content":"If package application isn't successful, you can download either the logs or the runbook to see the detailed logs.","pos":[7522,7636]},{"content":"You can also use Remote Desktop Protocol (RDP) to establish a remote connection to an environment to fix issues.","pos":[7637,7749]},{"content":"If you must report the issue to Microsoft, be sure to include the activity ID that is reported in the <bpt id=\"p1\">**</bpt>Environment updates<ept id=\"p1\">**</ept> section.","pos":[7750,7884],"source":" If you must report the issue to Microsoft, be sure to include the activity ID that is reported in the **Environment updates** section."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Environment details view showing the activity ID and the buttons for downloading the logs and the runbook<ept id=\"p1\">](./media/applypackage_sandbox_10-1024x397.png)](./media/applypackage_sandbox_10.png)</ept>","pos":[7885,8078],"source":"[![Environment details view showing the activity ID and the buttons for downloading the logs and the runbook](./media/applypackage_sandbox_10-1024x397.png)](./media/applypackage_sandbox_10.png)"},{"pos":[8085,8099],"content":"Using the logs","linkify":"Using the logs","nodes":[{"content":"Using the logs","pos":[0,14]}]},{"content":"Download the logs.","pos":[8105,8123]},{"content":"Unzip the log files.","pos":[8128,8148]},{"content":"Select the role that had the step failure, such as AOS or BI.","pos":[8153,8214]},{"content":"Select the virtual machine (VM) where the step failed.","pos":[8219,8273]},{"content":"This information appears in the <bpt id=\"p1\">**</bpt>Machine name<ept id=\"p1\">**</ept> column in the <bpt id=\"p2\">**</bpt>Environment updates<ept id=\"p2\">**</ept> section.","pos":[8274,8369],"source":" This information appears in the **Machine name** column in the **Environment updates** section."},{"content":"In the logs for the VM, select the folder that corresponds to the step where the issue occurred.","pos":[8374,8470]},{"content":"The folder name identifies the step that each folder corresponds to.","pos":[8471,8539]},{"content":"For example, if the issue occurred in the executing a step, select the <bpt id=\"p1\">**</bpt>ExecuteRunbook<ph id=\"ph1\">\\*</ph><ept id=\"p1\">**</ept> folder.","pos":[8540,8639],"source":" For example, if the issue occurred in the executing a step, select the **ExecuteRunbook\\*** folder."},{"content":"For example, if the folder name is ExecuteRunbook-b0c5c413-dae3-4a7a-a0c4-d558614f7e98-1<ph id=\"ph1\">\\_</ph>I0<ph id=\"ph2\">\\_</ph>R0, the step number is highlighted and is the number after the GUID.","pos":[8641,8803],"source":"For example, if the folder name is ExecuteRunbook-b0c5c413-dae3-4a7a-a0c4-d558614f7e98-1\\_I0\\_R0, the step number is highlighted and is the number after the GUID."},{"pos":[8810,8836],"content":"Failure of a specific step","linkify":"Failure of a specific step","nodes":[{"content":"Failure of a specific step","pos":[0,26]}]},{"content":"If a specific step fails, you have two options:","pos":[8838,8885]},{"pos":[8891,9011],"content":"Click <bpt id=\"p1\">**</bpt>Rerun step<ept id=\"p1\">**</ept> or, if you've manually fixed the issue that caused the step to fail, mark the step as <bpt id=\"p2\">**</bpt>Complete<ept id=\"p2\">**</ept>.","source":"Click **Rerun step** or, if you've manually fixed the issue that caused the step to fail, mark the step as **Complete**."},{"content":"Click <bpt id=\"p1\">**</bpt>Abort<ept id=\"p1\">**</ept> to stop package application.","pos":[9016,9060],"source":"Click **Abort** to stop package application."},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> If you click <bpt id=\"p2\">**</bpt>Abort<ept id=\"p2\">**</ept>, you don't roll back the changes that have already been made to your environment.","pos":[9061,9175],"source":"**Note:** If you click **Abort**, you don't roll back the changes that have already been made to your environment."},{"content":"To proceed, you must fix the issue.","pos":[9176,9211]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Message box that appears when you abort package application<ept id=\"p1\">](./media/applypackage_sandbox_13-1024x274.png)](./media/applypackage_sandbox_13.png)</ept>","pos":[9212,9359],"source":"[![Message box that appears when you abort package application](./media/applypackage_sandbox_13-1024x274.png)](./media/applypackage_sandbox_13.png)"},{"pos":[9364,9439],"content":"A customer submits a request to apply a package in a production environment","linkify":"A customer submits a request to apply a package in a production environment","nodes":[{"content":"A customer submits a request to apply a package in a production environment","pos":[0,75]}]},{"pos":[9440,9619],"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> See <bpt id=\"p2\">[</bpt>Enable additional notifications on package application through LCS<ept id=\"p2\">](https://ax.help.dynamics.com/en/wp-admin/post.php?post=1139123&amp;action=edit#_Pre-requisite_Step)</ept>.","source":"**Note:** See [Enable additional notifications on package application through LCS](https://ax.help.dynamics.com/en/wp-admin/post.php?post=1139123&action=edit#_Pre-requisite_Step)."},{"content":"Download a hotfix from LCS.","pos":[9625,9652]},{"content":"For information about how to download a hotfix from LCS, see <bpt id=\"p1\">[</bpt>Download hotfixes from Lifecycle Services<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services)</ept>.","pos":[9653,9877],"source":" For information about how to download a hotfix from LCS, see [Download hotfixes from Lifecycle Services](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services)."},{"content":"For a binary hotfix, upload the hotfix directly to the Asset library.","pos":[9886,9955]},{"content":"For an application/X++ hotfix, apply the package in a dev environment.","pos":[9964,10034]},{"content":"After you resolve any conflicts, generate a deployable package from Visual Studio, and upload the package to the Asset library.","pos":[10035,10162]},{"content":"For information about how to upload to the Asset library and create a deployable package, see <bpt id=\"p1\">[</bpt>Create and apply a deployable package<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package)</ept>.","pos":[10163,10413],"source":" For information about how to upload to the Asset library and create a deployable package, see [Create and apply a deployable package](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package)."},{"pos":[10419,10590],"content":"On the LCS <bpt id=\"p1\">**</bpt>Asset library<ept id=\"p1\">**</ept> page, on the tab that corresponds to the asset type (<bpt id=\"p2\">**</bpt>Software deployable package<ept id=\"p2\">**</ept>), select a package, and then click <bpt id=\"p3\">**</bpt>Release candidate<ept id=\"p3\">**</ept>.","source":"On the LCS **Asset library** page, on the tab that corresponds to the asset type (**Software deployable package**), select a package, and then click **Release candidate**."},{"pos":[10595,10700],"content":"Open the <bpt id=\"p1\">**</bpt>Environment details<ept id=\"p1\">**</ept> view for the production environment where you want to apply the package.","source":"Open the **Environment details** view for the production environment where you want to apply the package."},{"pos":[10705,10768],"content":"Click <bpt id=\"p1\">**</bpt>Maintain<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Apply updates<ept id=\"p2\">**</ept> to apply the package.","source":"Click **Maintain** &gt; **Apply updates** to apply the package."},{"content":"Select the type of package to apply.","pos":[10773,10809]},{"content":"Select the package to apply in your production environment, and then click <bpt id=\"p1\">**</bpt>Schedule<ept id=\"p1\">**</ept> to submit a request to the Service Engineering team to apply it.","pos":[10814,10966],"source":"Select the package to apply in your production environment, and then click **Schedule** to submit a request to the Service Engineering team to apply it."},{"content":"The list of packages includes only packages that have been successfully signed off in the sandbox environment, and that have been marked as release candidates.","pos":[10967,11126]},{"content":"Specify the date and time when you want to schedule package application, click <bpt id=\"p1\">**</bpt>Submit<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>OK<ept id=\"p2\">**</ept> to confirm.","pos":[11131,11255],"source":"Specify the date and time when you want to schedule package application, click **Submit**, and then click **OK** to confirm."},{"content":"Note that your environments will be down and unavailable to perform business while the package is being applied.","pos":[11256,11368]},{"content":"Refresh the page.","pos":[11373,11390]},{"content":"Two fields on the page indicate the status of the request.","pos":[11391,11449]},{"pos":[11458,11558],"content":"<bpt id=\"p1\">**</bpt>Request status<ept id=\"p1\">**</ept> – This field indicates the status of the request that you submitted to Microsoft.","source":"**Request status** – This field indicates the status of the request that you submitted to Microsoft."},{"pos":[11567,11633],"content":"<bpt id=\"p1\">**</bpt>Actionable by<ept id=\"p1\">**</ept> – This field indicates who needs to take action.","source":"**Actionable by** – This field indicates who needs to take action."},{"pos":[11639,11758],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Request status and Actionable by fields<ept id=\"p1\">](./media/applypackage_prod_7-1024x269.png)](./media/applypackage_prod_7.png)</ept>","source":"[![Request status and Actionable by fields](./media/applypackage_prod_7-1024x269.png)](./media/applypackage_prod_7.png)"},{"content":"The Service Engineering team can either accept or deny the request.","pos":[11763,11830]},{"content":"If the request is accepted, the Service Engineering team begins to update the environment.","pos":[11839,11929]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Accepted request: Request status = Request accepted, Actionable by = Microsoft<ept id=\"p1\">](./media/applypackage_prod_9-1024x384.png)](./media/applypackage_prod_9.png)</ept>","pos":[11930,12088],"source":"[![Accepted request: Request status = Request accepted, Actionable by = Microsoft](./media/applypackage_prod_9-1024x384.png)](./media/applypackage_prod_9.png)"},{"content":"If the request is denied, Microsoft informs the customer about the reason for the denial and the action that the customer must take.","pos":[12097,12229]},{"content":"The customer can then reschedule the request, change the package, or cancel the request.","pos":[12230,12318]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Denied request: Request status = Request denied, Actionable by = Customer/Partner<ept id=\"p1\">](./media/applypackage_prod_8-1024x322.png)](./media/applypackage_prod_8.png)</ept>","pos":[12319,12480],"source":"[![Denied request: Request status = Request denied, Actionable by = Customer/Partner](./media/applypackage_prod_8-1024x322.png)](./media/applypackage_prod_8.png)"},{"content":"At any time, the customer can use the <bpt id=\"p1\">**</bpt>Comments<ept id=\"p1\">**</ept> field to post comments to the request.","pos":[12486,12575],"source":"At any time, the customer can use the **Comments** field to post comments to the request."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Example of comments that are posted to a request<ept id=\"p1\">](./media/applypackage_prod_10-1024x336.png)](./media/applypackage_prod_10.png)</ept>","pos":[12576,12706],"source":"[![Example of comments that are posted to a request](./media/applypackage_prod_10-1024x336.png)](./media/applypackage_prod_10.png)"},{"content":"After the environment is serviced, you can monitor the status.","pos":[12711,12773]},{"content":"The <bpt id=\"p1\">**</bpt>Servicing status<ept id=\"p1\">**</ept> field indicates the status of the package application.","pos":[12774,12853],"source":" The **Servicing status** field indicates the status of the package application."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Servicing status and Request status fields<ept id=\"p1\">](./media/applypackage_prod_11-1024x399.png)](./media/applypackage_prod_11.png)</ept> You can also see the number of steps that have been run, out of the total number of steps that are available.","pos":[12854,13088],"source":"[![Servicing status and Request status fields](./media/applypackage_prod_11-1024x399.png)](./media/applypackage_prod_11.png) You can also see the number of steps that have been run, out of the total number of steps that are available."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Progress indicator<ept id=\"p1\">](./media/applypackage_prod_12-1024x414.png)](./media/applypackage_prod_12.png)</ept>","pos":[13089,13189],"source":"[![Progress indicator](./media/applypackage_prod_12-1024x414.png)](./media/applypackage_prod_12.png)"},{"pos":[13195,13225],"content":"Successful package application","linkify":"Successful package application","nodes":[{"content":"Successful package application","pos":[0,30]}]},{"content":"After the deployment is successfully completed, the <bpt id=\"p1\">**</bpt>Servicing<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>status<ept id=\"p2\">**</ept> field is set to <bpt id=\"p3\">**</bpt>Completed<ept id=\"p3\">**</ept>, but the <bpt id=\"p4\">**</bpt>Request status<ept id=\"p4\">**</ept> is still set to <bpt id=\"p5\">**</bpt>In progress<ept id=\"p5\">**</ept>, because the request hasn't yet been closed.","pos":[13231,13442],"source":"After the deployment is successfully completed, the **Servicing** **status** field is set to **Completed**, but the **Request status** is still set to **In progress**, because the request hasn't yet been closed."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Successful deployment: Servicing status = Completed, Request status = In progress<ept id=\"p1\">](./media/applypackage_prod_13-1024x392.png)](./media/applypackage_prod_13.png)</ept>","pos":[13443,13606],"source":"[![Successful deployment: Servicing status = Completed, Request status = In progress](./media/applypackage_prod_13-1024x392.png)](./media/applypackage_prod_13.png)"},{"pos":[13611,13748],"content":"After the Service Engineering team has finished applying the request, you must close the request by clicking <bpt id=\"p1\">**</bpt>Close servicing request<ept id=\"p1\">**</ept>.","source":"After the Service Engineering team has finished applying the request, you must close the request by clicking **Close servicing request**."},{"pos":[13753,13926],"content":"When you're closing a successful request, in the <bpt id=\"p1\">**</bpt>Edit work item details<ept id=\"p1\">**</ept> dialog box, set the <bpt id=\"p2\">**</bpt>Service request status<ept id=\"p2\">**</ept> field to <bpt id=\"p3\">**</bpt>Succeeded<ept id=\"p3\">**</ept>, and then click <bpt id=\"p4\">**</bpt>Submit<ept id=\"p4\">**</ept>.","source":"When you're closing a successful request, in the **Edit work item details** dialog box, set the **Service request status** field to **Succeeded**, and then click **Submit**."},{"pos":[13932,13964],"content":"Unsuccessful package application","linkify":"Unsuccessful package application","nodes":[{"content":"Unsuccessful package application","pos":[0,32]}]},{"content":"If package application fails, Microsoft will investigate the issue.","pos":[13970,14037]},{"content":"The <bpt id=\"p1\">**</bpt>Servicing status<ept id=\"p1\">**</ept> will indicate that package application has failed.","pos":[14038,14113],"source":" The **Servicing status** will indicate that package application has failed."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Unsuccessful package deployment: Servicing status = Failed<ept id=\"p1\">](./media/applypackage_prod_17-1024x289.png)](./media/applypackage_prod_17.png)</ept>","pos":[14114,14254],"source":"[![Unsuccessful package deployment: Servicing status = Failed](./media/applypackage_prod_17-1024x289.png)](./media/applypackage_prod_17.png)"},{"content":"When the deployment fails, Microsoft can abort the package, revert the environment to a good state, and send the request back to the customer, so that the customer can validate the environment and close the request.","pos":[14259,14474]},{"content":"If there is an issue in the package, the customer must submit a new request with the new package.","pos":[14475,14572]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Comment from Microsoft that changes were reverted, and that the customer must validate the environment<ept id=\"p1\">](./media/applypackage_prod_18-1024x346.png)](./media/applypackage_prod_18.png)</ept>","pos":[14573,14757],"source":"[![Comment from Microsoft that changes were reverted, and that the customer must validate the environment](./media/applypackage_prod_18-1024x346.png)](./media/applypackage_prod_18.png)"},{"pos":[14762,14902],"content":"When you're closing a failed request, in the <bpt id=\"p1\">**</bpt>Edit work item details<ept id=\"p1\">**</ept> dialog box, set the <bpt id=\"p2\">**</bpt>Service request status<ept id=\"p2\">**</ept> field to <bpt id=\"p3\">**</bpt>Aborted<ept id=\"p3\">**</ept>.","source":"When you're closing a failed request, in the **Edit work item details** dialog box, set the **Service request status** field to **Aborted**."},{"pos":[14905,14913],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[14924,15094],"content":"<bpt id=\"p1\">[</bpt>Install a deployable package in Microsoft Dynamics AX<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)</ept>","source":"[Install a deployable package in Microsoft Dynamics AX](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)"}],"content":"---\n# required metadata\n\ntitle: Apply a deployable package on a Dynamics 365 for Operations system | Microsoft Docs\ndescription: This tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system. This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.\nauthor: kfend\nmanager: AnnBe\nms.date: 2016-08-10 23:27:58\nms.topic: article\nms.prod: \nms.service: Lifecycle Services\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: 51\nms.suite: Released- Dynamics AX platform update 1\n# ms.tgt_pltfrm: \nms.custom: 107013\nms.assetid: d7148304-7180-430b-be63-bd57429d06e4\nms.region: Global\n# ms.industry: \nms.author: manado\n\n---\n\n# Apply a deployable package on a Dynamics 365 for Operations system\n\nThis tutorial walks you through the steps for applying a deployable package on a Microsoft Dynamics 365 for Operations system. This package can be either a binary hotfix for Application Object Server (AOS) or a deployable package that was created in your development environment.\n\nSupported environments\n----------------------\n\n-   **Demo** - Customers/partners can apply a deployable package in their demo environments using LCS without having to establish a remote connection to each computer.\n-   **Dev/Test/Build**  – Customers/partners can apply a deployable package in their dev/test environments by establishing a remote connection to the computers and running the package manually. For more information about this environment, see [Install a deployable package in Microsoft Dynamics 365 for Operations](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7).\n-   **Sandbox** – Customers/partners can apply a deployable package in their sandbox environments using LCS without having to establish a remote connection to each computer.\n-   **Production** – Customers can submit requests to the Microsoft Service Engineering team through Microsoft Dynamics Lifecycle Services (LCS) to apply a deployable package in their production environments. They will then be able to see the progress of their request in the **Environment details** view in LCS.\n-   **Downloadable VHD** – Customers/partners can manually apply a deployable package by establishing a remote connection to the computers. For more information about this environment, see [Install a deployable package in Microsoft Dynamics 365 for Operations](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7).\n\n## Key concepts\n-   **Deployable package** – A deployable package is a unit of deployment that can be applied in any Dynamics 365 for Operations environment. A deployable package can be a binary hotfix to the Application Object Server (AOS) runtime components, an updated Dynamics 365 for Operations customization package, or a new Dynamics 365 for Operations customization/application module package. [![Example of a deployable package](./media/applypackage_deployablepackage.jpg)](./media/applypackage_deployablepackage.jpg)\n-   **Runbook** – The deployment runbook is a series of steps that are generated for applying the deployable package to the target environment. Some of the steps are automated, and some are manual. AXUpdateInstaller lets you run these steps one at a time and in the correct order. [![Example of a deployment runbook](./media/applypackage_runbook-1024x528.jpg)](./media/applypackage_runbook.jpg)\n-   **AXUpdateInstaller** – When you create a customization package from Microsoft Visual Studio or a Microsoft binary hotfix, the installer executable is bundled together with the deployable package. The installer generates the runbook for the specified topology. The installer can also run steps in order, according to the runbook for a specific topology.\n\n## Types of packages\n-   **AOT deployable package** – A deployable package that is generated after the application source code is applied, any conflicts are resolved, and the code is compiled.\n-   **Binary package** – A deployable package that contains binary dynamic-link libraries (DLLs) that the platform and application depend on.\n-   **Retail deployable package (combined)** – A combined deployable package that is generated from the source code.\n\n## Prerequisite steps\nWhen the status of the package application changes, LCS sends notifications to all the project users. Any additional stakeholders who must be notified must be specified in the notification list.\n\n1.  To add additional stakeholders, in LCS, in the **Environment details** view, click **Notification list**.\n2.  Add the email address of each user who must be notified, and then click **Save**.\n\n## A customer applies a package in a demo/sandbox environment\n**Note:** Package application causes system downtime. All the relevant services will be stopped, and you won't be able to use your environments while the package is being applied.\n\n1.  Download a hotfix from LCS. For information about how to download a hotfix from LCS, see [Download hotfixes from Lifecycle Services](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services).\n    -   For a binary hotfix, upload the hotfix directly to the Asset library.\n    -   For an application/X++ hotfix, apply the package in a dev environment. After you resolve any conflicts, generate a deployable package from Visual Studio, and upload the package to the Asset library. For information about how to upload to the Asset library and create a deployable package, see [Create and apply a deployable package](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package).\n\n2.  Open the **Environment details** view for the sandbox environment where you want to apply the package.\n3.  Click **Maintain** &gt; **Apply updates** to apply an update.\n4.  Click the type of package to apply.\n5.  Select the package to apply, and then click **Apply**. Notice that the status in the upper right of the **Environment details** view changes to **Queued**, and that an **Environment updates** section now shows the progress of the package. [![Environment details view showing Queued status and an Environment updates section](./media/applypackage_sandbox_6-1024x302.png)](./media/applypackage_sandbox_6.png)\n6.  Refresh the page to see the progress of the package application. Notice that the servicing status is **In Progress**, and the environment status is **Servicing**. [![Environment details view showing a servicing status of In Progress and an environment status of Servicing](./media/applypackage_sandbox_7-1024x397.png)](./media/applypackage_sandbox_7.png)\n7.  Continue to refresh the page to see the status updates for the package application request. When the package has been applied, the environment status changes to **Deployed**, and the servicing status changes to **Completed**. [![Environment details view showing an environment status of Deployed and a servicing status of Completed](./media/applypackage_sandbox_8-1024x396.png)](./media/applypackage_sandbox_8.png)\n8.  To sign off on the package application, click **Sign off** if there are no issues. If issues occurred when you applied the package, click **Sign off with issues**.\n\n### Troubleshooting\n\n#### General troubleshooting/diagnostics\n\nIf package application isn't successful, you can download either the logs or the runbook to see the detailed logs. You can also use Remote Desktop Protocol (RDP) to establish a remote connection to an environment to fix issues. If you must report the issue to Microsoft, be sure to include the activity ID that is reported in the **Environment updates** section. [![Environment details view showing the activity ID and the buttons for downloading the logs and the runbook](./media/applypackage_sandbox_10-1024x397.png)](./media/applypackage_sandbox_10.png)\n\n#### Using the logs\n\n1.  Download the logs.\n2.  Unzip the log files.\n3.  Select the role that had the step failure, such as AOS or BI.\n4.  Select the virtual machine (VM) where the step failed. This information appears in the **Machine name** column in the **Environment updates** section.\n5.  In the logs for the VM, select the folder that corresponds to the step where the issue occurred. The folder name identifies the step that each folder corresponds to. For example, if the issue occurred in the executing a step, select the **ExecuteRunbook\\*** folder.\n\nFor example, if the folder name is ExecuteRunbook-b0c5c413-dae3-4a7a-a0c4-d558614f7e98-1\\_I0\\_R0, the step number is highlighted and is the number after the GUID.\n\n#### Failure of a specific step\n\nIf a specific step fails, you have two options:\n\n-   Click **Rerun step** or, if you've manually fixed the issue that caused the step to fail, mark the step as **Complete**.\n-   Click **Abort** to stop package application. **Note:** If you click **Abort**, you don't roll back the changes that have already been made to your environment. To proceed, you must fix the issue. [![Message box that appears when you abort package application](./media/applypackage_sandbox_13-1024x274.png)](./media/applypackage_sandbox_13.png)\n\n## A customer submits a request to apply a package in a production environment\n**Note:** See [Enable additional notifications on package application through LCS](https://ax.help.dynamics.com/en/wp-admin/post.php?post=1139123&action=edit#_Pre-requisite_Step).\n\n1.  Download a hotfix from LCS. For information about how to download a hotfix from LCS, see [Download hotfixes from Lifecycle Services](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/servicing/download-hotfixes-from-lifecycle-services).\n    -   For a binary hotfix, upload the hotfix directly to the Asset library.\n    -   For an application/X++ hotfix, apply the package in a dev environment. After you resolve any conflicts, generate a deployable package from Visual Studio, and upload the package to the Asset library. For information about how to upload to the Asset library and create a deployable package, see [Create and apply a deployable package](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/create-and-apply-a-deployable-package).\n\n2.  On the LCS **Asset library** page, on the tab that corresponds to the asset type (**Software deployable package**), select a package, and then click **Release candidate**.\n3.  Open the **Environment details** view for the production environment where you want to apply the package.\n4.  Click **Maintain** &gt; **Apply updates** to apply the package.\n5.  Select the type of package to apply.\n6.  Select the package to apply in your production environment, and then click **Schedule** to submit a request to the Service Engineering team to apply it. The list of packages includes only packages that have been successfully signed off in the sandbox environment, and that have been marked as release candidates.\n7.  Specify the date and time when you want to schedule package application, click **Submit**, and then click **OK** to confirm. Note that your environments will be down and unavailable to perform business while the package is being applied.\n8.  Refresh the page. Two fields on the page indicate the status of the request.\n    -   **Request status** – This field indicates the status of the request that you submitted to Microsoft.\n    -   **Actionable by** – This field indicates who needs to take action.\n\n    [![Request status and Actionable by fields](./media/applypackage_prod_7-1024x269.png)](./media/applypackage_prod_7.png)\n9.  The Service Engineering team can either accept or deny the request.\n    -   If the request is accepted, the Service Engineering team begins to update the environment. [![Accepted request: Request status = Request accepted, Actionable by = Microsoft](./media/applypackage_prod_9-1024x384.png)](./media/applypackage_prod_9.png)\n    -   If the request is denied, Microsoft informs the customer about the reason for the denial and the action that the customer must take. The customer can then reschedule the request, change the package, or cancel the request. [![Denied request: Request status = Request denied, Actionable by = Customer/Partner](./media/applypackage_prod_8-1024x322.png)](./media/applypackage_prod_8.png)\n\n    At any time, the customer can use the **Comments** field to post comments to the request. [![Example of comments that are posted to a request](./media/applypackage_prod_10-1024x336.png)](./media/applypackage_prod_10.png)\n10. After the environment is serviced, you can monitor the status. The **Servicing status** field indicates the status of the package application. [![Servicing status and Request status fields](./media/applypackage_prod_11-1024x399.png)](./media/applypackage_prod_11.png) You can also see the number of steps that have been run, out of the total number of steps that are available. [![Progress indicator](./media/applypackage_prod_12-1024x414.png)](./media/applypackage_prod_12.png)\n\n### Successful package application\n\n-   After the deployment is successfully completed, the **Servicing** **status** field is set to **Completed**, but the **Request status** is still set to **In progress**, because the request hasn't yet been closed. [![Successful deployment: Servicing status = Completed, Request status = In progress](./media/applypackage_prod_13-1024x392.png)](./media/applypackage_prod_13.png)\n-   After the Service Engineering team has finished applying the request, you must close the request by clicking **Close servicing request**.\n-   When you're closing a successful request, in the **Edit work item details** dialog box, set the **Service request status** field to **Succeeded**, and then click **Submit**.\n\n### Unsuccessful package application\n\n-   If package application fails, Microsoft will investigate the issue. The **Servicing status** will indicate that package application has failed. [![Unsuccessful package deployment: Servicing status = Failed](./media/applypackage_prod_17-1024x289.png)](./media/applypackage_prod_17.png)\n-   When the deployment fails, Microsoft can abort the package, revert the environment to a good state, and send the request back to the customer, so that the customer can validate the environment and close the request. If there is an issue in the package, the customer must submit a new request with the new package. [![Comment from Microsoft that changes were reverted, and that the customer must validate the environment](./media/applypackage_prod_18-1024x346.png)](./media/applypackage_prod_18.png)\n-   When you're closing a failed request, in the **Edit work item details** dialog box, set the **Service request status** field to **Aborted**.\n\n\nSee also\n--------\n\n[Install a deployable package in Microsoft Dynamics AX](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/deployment/installing-deployable-package-in-ax7)\n\n"}