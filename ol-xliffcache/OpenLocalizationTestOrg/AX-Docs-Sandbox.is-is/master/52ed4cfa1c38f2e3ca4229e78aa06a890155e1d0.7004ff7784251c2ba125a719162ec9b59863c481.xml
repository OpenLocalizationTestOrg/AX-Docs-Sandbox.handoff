{"content":"---\n# required metadata\n\ntitle: Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations\ndescription: This article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations. It also explains how to service and upgrade your environment.\nauthor: YuyuScheller\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: 2084\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 30171\nms.assetid: acdddf48-d385-4f86-8633-013ff2d6eecd\nms.search.region: Global\n# ms.search.industry: \nms.author: mafoge\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations\n\n[!include[banner](../includes/banner.md)]\n\n\nThis article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations. It also explains how to service and upgrade your environment.\n\nWarehouse Mobile Devices Portal (WMDP) is a web application hosted in IIS. It uses ASP.NET MVC runtime. For the current version of Microsoft Dynamics 365 for Operations, WMDP is provided as a standalone component, meant for self-deployment on-premises. In order to enable the WMDP on your environment, you need to download the installer, deploy the WMDP application, and configure it to connect with a Dynamics 365 for Operations server. This article explains how to enable WMDP on your environment. It also explains the process of introducing a hotfix into your environment.\n\n## Download the installer for Warehouse Mobile Devices Portal\nThe WMDP is installed through a standalone Microsoft installation package. The installer file, WarehouseMobileDevicesPortal.msi, can be downloaded directly from Dynamics 365 for Operations. In order to obtain the installer, you need to have Warehouse Management module enabled. Follow these steps to download the WMDP installer:\n\n1.  Log-in to Dynamics 365 for Operations as a user with an Information technology manager role.\n2.  Go to **Warehouse management** &gt; **Setup** &gt; **Mobile device** &gt; **Download Warehouse Mobile Devices Portal**.[![op-wmdp-01](./media/op-wmdp-01.png)](./media/op-wmdp-01.png)\n3.  Familiarize yourself with the Security Best Practices checklist. Select the **Complete** check box for each item that you’ve reviewed.\n4.  In the Legal Information section, read the software license terms.\n5.  Click **OK**. The WarehouseMobileDevicesPortal.msi then downloads, as show in the following screenshot. [![WarehouseMobileDevicesPortal.msi download dialog](./media/02.png)](./media/02.png)\n\n## Install the Warehouse Mobile Devices Portal\nThe Warehouse Mobile Devices Portal installer supports the installation of up to 100 instances on the same Windows server machine. Follow these steps to install an instance of WMDP instance:\n\n1.  To install a default instance, run the WarehouseMobileDevicesPortal.msi. -or- To install a non-default instance, execute following command:\n\n        msiexec /I WarehouseMobileDevicesPortal.msi TRANSFORMS=:<InstanceID> MSINEWINSTANCE=1\n\n    where: **InstanceID** is the named instance identifier. Use values **Instance\\_01** to **Instance\\_99** to identify the name of the instance to deploy. [![wmdp-wizard-01](./media/wmdp-wizard-01.png)](./media/wmdp-wizard-01.png)\n\n2.  Click **Next**.\n3.  Choose an installation location, or leave the default installation location (recommended).\n4.  Click **Next**.\n5.  On the **IIS configuration** page, in the **Website port** field, enter the TCP port on which the website is meant to be available. For example, type 8999.\n6.  Click **Next**.\n7.  The setup wizard is now ready to complete installation. \n\n    [![wmdp-wizard-02](./media/wmdp-wizard-02.png)](./media/wmdp-wizard-02.png)\n\n8.  Click **Install**.\n9.  When the installation is complete, click **Finish**.\n\n## Retrieve and install a certificate on your Warehouse Mobile Device Portal host machine\nThe Warehouse Mobile Devices Portal is deployed to run using https. The installer creates https binding on a chosen port, but does not associate any SSL/TLS certificate with it. In order to complete the initial configuration process, you need to associate the certificate with your binding.\n\n-   Deploy a commercial certificate distributed by a well-known certificate authority. By using trusted providers, the certificate will by default be trusted by the client browsers in your warehouse. This is a recommended choice for a commercial deployment.\n-   Alternatively, you may consider creating a self-signed certificate. This is a handy practice for development and staging environments. Follow this tutorial to create a Self-Signed Server Certificate: <https://technet.microsoft.com/en-us/library/cc753127(v=ws.10).aspx>\n\nTo retrieve and install a certificate on your Warehouse Mobile Device Portal host machine:\n\n1.  In IIS, open the bindings for your Warehouse Mobile Device Portal site, as shown in the following screenshot.[![iis-wmdp-01](./media/iis-wmdp-01-1024x540.png)](./media/iis-wmdp-01.png)\n2.  Select your binding. [![Select site bindings](./media/06.png)](./media/06.png)\n3.  Click **Edit** and associate any host names that you will use for the Warehouse Mobile Devices Portal. For more information, refer to <https://technet.microsoft.com/en-us/library/cc771629.aspx>.\n4.  The following screenshot shows an example of a self-signed certificate named localhostWMDP\\_DEFAULT, associated with https binding on port 8999. [![Edit site bindings](./media/07.png)](./media/07.png)\n\n## Configure the Warehouse Mobile Devices Portal web application\nTo enable the Warehouse Mobile Devices Portal application to interact with a particular Dynamics 365 for Operations server, you need to complete the following configuration steps after installation:\n\n1.  Register a native application in Azure Active Directory for the Operations tenant. This application should have access to Microsoft Dynamics ERP.\n    1.  Read the following guide to learn about Dynamics 365 for Operations custom service authentication: the Custom services section in the [Dynamics 365 for Operations Services Technical Concepts Guide](/dynamics365/operations/dev-itpro/data-entities/services-home-page).\n    2.  Follow the steps for “Register a Native Application with AAD”.\n    3.  You have now obtained **Client ID** of the application.\n\n2.  Create a new user account in Azure Active Directory for the Operations tenant. The purpose of this user account is to access the WMDP specific custom service, which the Operations server exposes. After completing this step, you will have **WMDP user credentials**, which consist of a **WMDP email address** and a **WMDP password**. To learn about the basic steps for adding users to Azure AD and Dynamics 365 for Operations, refer to this tutorial: [Sign up for a Microsoft Dynamics 365 for Operations subscription]((/dynamics365/operations/dev-itpro/sign-up-preview-subscription).\n3.  Create an Operations user that corresponds to the **WMDP user credentials**.\n    1.  In Dynamics 365 for Operations, go to **System administration** &gt; **Common** &gt; **Users**.\n    2.  Create a new user.\n    3.  Assign the Warehouse mobile device user, as shown in the example screenshot. [![Create a new user for the WMDP ](./media/08.png)](./media/08.png)\n\n4.  Update the Warehouse Mobile Devices Portal web.config file.\n    1.  In Internet Information Services (IIS) Manager, find your website.\n    2.  On the **Actions** pane, select **Explore** in order to browse the WMDP website sources.\n    3.  Edit the Web.config file and find **ServiceConnection** element.\n    4.  Assign a value to the URI attribute of the **ServiceReference** element:\n\n             <your root Operations URL>/api/services.\n\n        For example:\n\n             URI=\"https://dynamics1622aos.cloud.dynamics.com/api/services/\n\n    5.  Assign values to following attributes of the **Authentication** element:\n\n            ServiceSecurityResource = <your lower-cased root Operations URL>\n            ServiceClientID = <Client ID> (obtained in step 1 of this section)\n            ServiceUserName = <WMDP email address> (obtained in step 2 of this section)\n            ServiceUserPassword = <WMDP password> (obtained in step 2 of this section)\n            ServiceAuthenticationURL = <authentication URL to your tenant>\n\n        For example:\n\n            ServiceSecurityResource = https://usncax1aos.cloud.onebox.dynamics.com\n            ServiceClientID = \"aaaaaaaa-1234-bbbb-5678-ccccccccccc\"\n            ServiceUserName = WMDPapp@contoso.net\n            ServiceUserPassword = \"wmdpP@ss\"\n            ServiceAuthenticationURL = \"https://login.windows.net/contoso.net\"\n\n5.  Even though the Web.config file has an exclusive strong ACL applied to it, for security reasons you should make sure that you remove any credentials from the Web.config file before going live. In this step, you will protect the credentials created in the previous step, by saving them in Windows Credentials Manager.\n\n    1.  Open the main page of the Warehouse Mobile Devices Portal.\n    2.  Click **Load web application configuration**. [![wmdp-load-config-01](./media/wmdp-load-config-01.png)](./media/wmdp-load-config-01.png)\n    3.  After successfully recording your credentials, the following message displays. [![Web configuration loading success](./media/10.png)](./media/10.png)\n    4.  In the Web.config file, set ServiceUserName and ServiceUserPassword to empty strings:\n\n    <!-- -->\n\n        ServiceUserName = \"\" \n        ServiceUserPassword = \"\"\n\n6.  Go back to your browser and click **Load web application configuration** again. You should see following message. [![Web configuration loading: no changes](./media/11.png)](./media/11.png)\n7.  You can now log on to Warehouse Mobile Devices Portal pages. If your configuration succeeded, you will see the company selection page. [![Company selection page](./media/12.png)](./media/12.png)\n\nIf you see the **Select company** screen, you will connect to Dynamics 365 for Operations. Otherwise, visit the “Troubleshooting” section. To start using the WMDP menus, you need to complete the remaining setup steps, which are documented for Dynamics AX 2012 here: <https://technet.microsoft.com/en-us/library/dn553159.aspx>.\n\n## Servicing the Warehouse Mobile Devices Portal\nSince Warehouse Mobile Devices Portal is released as a standalone component, you need to manually apply hotfixes when they are available. When a hotfix is available, a new instance of the WMDP is deployed side-by-side with the old one. After it has been properly configured and tested, the administrator can retire the old version and make the new, updated version the live version. This hot-swapping servicing model allows minimization of downtime caused by the configuration and testing of the updated environment. To apply a hotfix:\n\n1.  After a new update to the Warehouse Mobile Devices Portal is available on your LCS portal, it can be downloaded to your local environment. Follow this tutorial to retrieve the hotfix: [Download hotfixes from Lifecycle Services](/dynamics365/operations/dev-itpro/migration-upgrade/download-hotfix-lcs)\n2.  The hotfix package will be available as a zip file. If you unpack it, you should be able to find patched version of WarehouseMobileDevicesPortal.msi within SCMSelfService\\\\Packages.\n3.  Follow the “Install the Warehouse Mobile Devices Portal” section in this document to install another instance of WMDP on your server machine, under a different TCP port than the original instance. Let’s call this instance **patched WMDP** and the original instance **old WMDP instance**. As a good security practice, you should consider using a TCP port that is not exposed through your firewall to the production network, as it is still under configuration.\n4.  Follow the “Configure the Warehouse Mobile Devices Portal web application” section for configuring the **patched WMDP**.\n5.  Apply any customizations and execute any tests that ensure that your **patched WMDP** is ready to go live.\n6.  Update the site bindings on **patched WMDP** and retire the **old WMDP instance**.\n    1.  In IIS, stop the **old WMDP instance**. Note that this will terminate the work user sessions, but will not damage their work in progress, as the work session state is stored in Dynamics 365 for Operations.\n    2.  In Internet Information Services (IIS) Manger, open the Bindings for your **old WMDP instance**, as shown in the following screenshot. [![iis-wmdp-02](./media/iis-wmdp-02-1024x192.png)](./media/iis-wmdp-02.png)\n    3.  Remove the default binding and close the **Site Bindings** window.\n    4.  Select the **patched WMDP instance** site in Internet Information Services (IIS) Manger, open **Bindings** and create a new https binding for exactly the same port as the binding removed from the **old WMDP instance**.\n\n7.  Your **patched WMDP instance** should now be live.\n8.  You can now uninstall the **old WMDP instance**.\n    1.  On your computer, open the **Uninstall or change a program** window (**Control Pane**l &gt; **Programs** &gt; **Programs and Features**), or open appwiz.cpl as administrator.\n    2.  Find the **old WMDP instance** in the list of installed programs. The following screenshot the shows DEFAULT instance in the list. [![wmdp-control-panel-01](./media/wmdp-control-panel-01-1024x190.png)](./media/wmdp-control-panel-01.png)\n    3.  Uninstall the **old WMDP instance**, either using the UI or the command line.\n\n## Troubleshooting\n**Problem:** You see this generic error: “Sorry, an error occurred while processing your request. Please retry your request or contact your system administrator.” **Solution:** If you open the Event Viewer and navigate to Application logs, you will find a log sourced by ASP.NET, with exception details, as shown in the following example. [![ASP.NET log in the Event Viewer Application logs](./media/151.png)](./media/151.png) Some additional information about the errors in the Event Viewer is available in this blog post: [Warehouse Mobile Devices Portal for Microsoft Dynamics AX](http://community.dynamics.com/ax/b/dynamicsaxseven/archive/2016/03/17/warehouse-mobile-devices-portal-for-microsoft-dynamics-ax).\n\n\n\n","nodes":[{"pos":[32,102],"content":"Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations","needQuote":true,"needEscape":true,"nodes":[{"content":"Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations","pos":[0,70]}]},{"pos":[116,293],"content":"This article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations. It also explains how to service and upgrade your environment.","needQuote":true,"needEscape":true,"nodes":[{"content":"This article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations. It also explains how to service and upgrade your environment.","pos":[0,177],"nodes":[{"content":"This article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations.","pos":[0,115]},{"content":"It also explains how to service and upgrade your environment.","pos":[116,177]}]}]},{"pos":[801,871],"content":"Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations","linkify":"Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations","nodes":[{"content":"Warehouse Mobile Devices Portal (WMDP) for Dynamics 365 for Operations","pos":[0,70]}]},{"content":"This article describes how to enable the Warehouse Mobile Devices Portal for Microsoft Dynamics 365 for Operations.","pos":[917,1032]},{"content":"It also explains how to service and upgrade your environment.","pos":[1033,1094]},{"content":"Warehouse Mobile Devices Portal (WMDP) is a web application hosted in IIS.","pos":[1096,1170]},{"content":"It uses ASP.NET MVC runtime.","pos":[1171,1199]},{"content":"For the current version of Microsoft Dynamics 365 for Operations, WMDP is provided as a standalone component, meant for self-deployment on-premises.","pos":[1200,1348]},{"content":"In order to enable the WMDP on your environment, you need to download the installer, deploy the WMDP application, and configure it to connect with a Dynamics 365 for Operations server.","pos":[1349,1533]},{"content":"This article explains how to enable WMDP on your environment.","pos":[1534,1595]},{"content":"It also explains the process of introducing a hotfix into your environment.","pos":[1596,1671]},{"pos":[1676,1734],"content":"Download the installer for Warehouse Mobile Devices Portal","linkify":"Download the installer for Warehouse Mobile Devices Portal","nodes":[{"content":"Download the installer for Warehouse Mobile Devices Portal","pos":[0,58]}]},{"content":"The WMDP is installed through a standalone Microsoft installation package.","pos":[1735,1809]},{"content":"The installer file, WarehouseMobileDevicesPortal.msi, can be downloaded directly from Dynamics 365 for Operations.","pos":[1810,1924]},{"content":"In order to obtain the installer, you need to have Warehouse Management module enabled.","pos":[1925,2012]},{"content":"Follow these steps to download the WMDP installer:","pos":[2013,2063]},{"content":"Log-in to Dynamics 365 for Operations as a user with an Information technology manager role.","pos":[2069,2161]},{"pos":[2166,2348],"content":"Go to <bpt id=\"p1\">**</bpt>Warehouse management<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Setup<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Mobile device<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Download Warehouse Mobile Devices Portal<ept id=\"p4\">**</ept>.<bpt id=\"p5\">[</bpt><ph id=\"ph4\">![</ph>op-wmdp-01<ept id=\"p5\">](./media/op-wmdp-01.png)](./media/op-wmdp-01.png)</ept>","source":"Go to **Warehouse management** &gt; **Setup** &gt; **Mobile device** &gt; **Download Warehouse Mobile Devices Portal**.[![op-wmdp-01](./media/op-wmdp-01.png)](./media/op-wmdp-01.png)"},{"content":"Familiarize yourself with the Security Best Practices checklist.","pos":[2353,2417]},{"content":"Select the <bpt id=\"p1\">**</bpt>Complete<ept id=\"p1\">**</ept> check box for each item that you’ve reviewed.","pos":[2418,2487],"source":" Select the **Complete** check box for each item that you’ve reviewed."},{"content":"In the Legal Information section, read the software license terms.","pos":[2492,2558]},{"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","pos":[2563,2576],"source":"Click **OK**."},{"content":"The WarehouseMobileDevicesPortal.msi then downloads, as show in the following screenshot.","pos":[2577,2666]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>WarehouseMobileDevicesPortal.msi download dialog<ept id=\"p1\">](./media/02.png)](./media/02.png)</ept>","pos":[2667,2752],"source":"[![WarehouseMobileDevicesPortal.msi download dialog](./media/02.png)](./media/02.png)"},{"pos":[2757,2800],"content":"Install the Warehouse Mobile Devices Portal","linkify":"Install the Warehouse Mobile Devices Portal","nodes":[{"content":"Install the Warehouse Mobile Devices Portal","pos":[0,43]}]},{"content":"The Warehouse Mobile Devices Portal installer supports the installation of up to 100 instances on the same Windows server machine.","pos":[2801,2931]},{"content":"Follow these steps to install an instance of WMDP instance:","pos":[2932,2991]},{"content":"To install a default instance, run the WarehouseMobileDevicesPortal.msi.","pos":[2997,3069]},{"content":"-or- To install a non-default instance, execute following command:","pos":[3070,3136]},{"content":"where: <bpt id=\"p1\">**</bpt>InstanceID<ept id=\"p1\">**</ept> is the named instance identifier.","pos":[3237,3292],"source":"where: **InstanceID** is the named instance identifier."},{"content":"Use values <bpt id=\"p1\">**</bpt>Instance<ph id=\"ph1\">\\_</ph>01<ept id=\"p1\">**</ept> to <bpt id=\"p2\">**</bpt>Instance<ph id=\"ph2\">\\_</ph>99<ept id=\"p2\">**</ept> to identify the name of the instance to deploy.","pos":[3293,3388],"source":" Use values **Instance\\_01** to **Instance\\_99** to identify the name of the instance to deploy."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wmdp-wizard-01<ept id=\"p1\">](./media/wmdp-wizard-01.png)](./media/wmdp-wizard-01.png)</ept>","pos":[3389,3464],"source":"[![wmdp-wizard-01](./media/wmdp-wizard-01.png)](./media/wmdp-wizard-01.png)"},{"pos":[3470,3485],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","source":"Click **Next**."},{"content":"Choose an installation location, or leave the default installation location (recommended).","pos":[3490,3580]},{"pos":[3585,3600],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","source":"Click **Next**."},{"content":"On the <bpt id=\"p1\">**</bpt>IIS configuration<ept id=\"p1\">**</ept> page, in the <bpt id=\"p2\">**</bpt>Website port<ept id=\"p2\">**</ept> field, enter the TCP port on which the website is meant to be available.","pos":[3605,3736],"source":"On the **IIS configuration** page, in the **Website port** field, enter the TCP port on which the website is meant to be available."},{"content":"For example, type 8999.","pos":[3737,3760]},{"pos":[3765,3780],"content":"Click <bpt id=\"p1\">**</bpt>Next<ept id=\"p1\">**</ept>.","source":"Click **Next**."},{"content":"The setup wizard is now ready to complete installation.","pos":[3785,3840]},{"pos":[3847,3922],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wmdp-wizard-02<ept id=\"p1\">](./media/wmdp-wizard-02.png)](./media/wmdp-wizard-02.png)</ept>","source":"[![wmdp-wizard-02](./media/wmdp-wizard-02.png)](./media/wmdp-wizard-02.png)"},{"pos":[3928,3946],"content":"Click <bpt id=\"p1\">**</bpt>Install<ept id=\"p1\">**</ept>.","source":"Click **Install**."},{"pos":[3951,4003],"content":"When the installation is complete, click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.","source":"When the installation is complete, click **Finish**."},{"pos":[4008,4094],"content":"Retrieve and install a certificate on your Warehouse Mobile Device Portal host machine","linkify":"Retrieve and install a certificate on your Warehouse Mobile Device Portal host machine","nodes":[{"content":"Retrieve and install a certificate on your Warehouse Mobile Device Portal host machine","pos":[0,86]}]},{"content":"The Warehouse Mobile Devices Portal is deployed to run using https.","pos":[4095,4162]},{"content":"The installer creates https binding on a chosen port, but does not associate any SSL/TLS certificate with it.","pos":[4163,4272]},{"content":"In order to complete the initial configuration process, you need to associate the certificate with your binding.","pos":[4273,4385]},{"content":"Deploy a commercial certificate distributed by a well-known certificate authority.","pos":[4391,4473]},{"content":"By using trusted providers, the certificate will by default be trusted by the client browsers in your warehouse.","pos":[4474,4586]},{"content":"This is a recommended choice for a commercial deployment.","pos":[4587,4644]},{"content":"Alternatively, you may consider creating a self-signed certificate.","pos":[4649,4716]},{"content":"This is a handy practice for development and staging environments.","pos":[4717,4783]},{"content":"Follow this tutorial to create a Self-Signed Server Certificate: <bpt id=\"p1\">&lt;</bpt>https://technet.microsoft.com/en-us/library/cc753127(v=ws.10).aspx<ept id=\"p1\">&gt;</ept>","pos":[4784,4917],"source":" Follow this tutorial to create a Self-Signed Server Certificate: <https://technet.microsoft.com/en-us/library/cc753127(v=ws.10).aspx>"},{"content":"To retrieve and install a certificate on your Warehouse Mobile Device Portal host machine:","pos":[4919,5009]},{"pos":[5015,5199],"content":"In IIS, open the bindings for your Warehouse Mobile Device Portal site, as shown in the following screenshot.<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>iis-wmdp-01<ept id=\"p1\">](./media/iis-wmdp-01-1024x540.png)](./media/iis-wmdp-01.png)</ept>","source":"In IIS, open the bindings for your Warehouse Mobile Device Portal site, as shown in the following screenshot.[![iis-wmdp-01](./media/iis-wmdp-01-1024x540.png)](./media/iis-wmdp-01.png)"},{"content":"Select your binding.","pos":[5204,5224]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Select site bindings<ept id=\"p1\">](./media/06.png)](./media/06.png)</ept>","pos":[5225,5282],"source":"[![Select site bindings](./media/06.png)](./media/06.png)"},{"content":"Click <bpt id=\"p1\">**</bpt>Edit<ept id=\"p1\">**</ept> and associate any host names that you will use for the Warehouse Mobile Devices Portal.","pos":[5287,5389],"source":"Click **Edit** and associate any host names that you will use for the Warehouse Mobile Devices Portal."},{"content":"For more information, refer to <bpt id=\"p1\">&lt;</bpt>https://technet.microsoft.com/en-us/library/cc771629.aspx<ept id=\"p1\">&gt;</ept>.","pos":[5390,5481],"source":" For more information, refer to <https://technet.microsoft.com/en-us/library/cc771629.aspx>."},{"content":"The following screenshot shows an example of a self-signed certificate named localhostWMDP<ph id=\"ph1\">\\_</ph>DEFAULT, associated with https binding on port 8999.","pos":[5486,5630],"source":"The following screenshot shows an example of a self-signed certificate named localhostWMDP\\_DEFAULT, associated with https binding on port 8999."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Edit site bindings<ept id=\"p1\">](./media/07.png)](./media/07.png)</ept>","pos":[5631,5686],"source":"[![Edit site bindings](./media/07.png)](./media/07.png)"},{"pos":[5691,5752],"content":"Configure the Warehouse Mobile Devices Portal web application","linkify":"Configure the Warehouse Mobile Devices Portal web application","nodes":[{"content":"Configure the Warehouse Mobile Devices Portal web application","pos":[0,61]}]},{"content":"To enable the Warehouse Mobile Devices Portal application to interact with a particular Dynamics 365 for Operations server, you need to complete the following configuration steps after installation:","pos":[5753,5951]},{"content":"Register a native application in Azure Active Directory for the Operations tenant.","pos":[5957,6039]},{"content":"This application should have access to Microsoft Dynamics ERP.","pos":[6040,6102]},{"pos":[6111,6377],"content":"Read the following guide to learn about Dynamics 365 for Operations custom service authentication: the Custom services section in the <bpt id=\"p1\">[</bpt>Dynamics 365 for Operations Services Technical Concepts Guide<ept id=\"p1\">](/dynamics365/operations/dev-itpro/data-entities/services-home-page)</ept>.","source":"Read the following guide to learn about Dynamics 365 for Operations custom service authentication: the Custom services section in the [Dynamics 365 for Operations Services Technical Concepts Guide](/dynamics365/operations/dev-itpro/data-entities/services-home-page)."},{"content":"Follow the steps for “Register a Native Application with AAD”.","pos":[6386,6448]},{"pos":[6457,6512],"content":"You have now obtained <bpt id=\"p1\">**</bpt>Client ID<ept id=\"p1\">**</ept> of the application.","source":"You have now obtained **Client ID** of the application."},{"content":"Create a new user account in Azure Active Directory for the Operations tenant.","pos":[6518,6596]},{"content":"The purpose of this user account is to access the WMDP specific custom service, which the Operations server exposes.","pos":[6597,6713]},{"content":"After completing this step, you will have <bpt id=\"p1\">**</bpt>WMDP user credentials<ept id=\"p1\">**</ept>, which consist of a <bpt id=\"p2\">**</bpt>WMDP email address<ept id=\"p2\">**</ept> and a <bpt id=\"p3\">**</bpt>WMDP password<ept id=\"p3\">**</ept>.","pos":[6714,6849],"source":" After completing this step, you will have **WMDP user credentials**, which consist of a **WMDP email address** and a **WMDP password**."},{"content":"To learn about the basic steps for adding users to Azure AD and Dynamics 365 for Operations, refer to this tutorial: [Sign up for a Microsoft Dynamics 365 for Operations subscription]((/dynamics365/operations/dev-itpro/sign-up-preview-subscription).","pos":[6850,7099]},{"pos":[7104,7180],"content":"Create an Operations user that corresponds to the <bpt id=\"p1\">**</bpt>WMDP user credentials<ept id=\"p1\">**</ept>.","source":"Create an Operations user that corresponds to the **WMDP user credentials**."},{"pos":[7189,7284],"content":"In Dynamics 365 for Operations, go to <bpt id=\"p1\">**</bpt>System administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Common<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Users<ept id=\"p3\">**</ept>.","source":"In Dynamics 365 for Operations, go to **System administration** &gt; **Common** &gt; **Users**."},{"content":"Create a new user.","pos":[7293,7311]},{"content":"Assign the Warehouse mobile device user, as shown in the example screenshot.","pos":[7320,7396]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Create a new user for the WMDP <ept id=\"p1\">](./media/08.png)](./media/08.png)</ept>","pos":[7397,7465],"source":"[![Create a new user for the WMDP ](./media/08.png)](./media/08.png)"},{"content":"Update the Warehouse Mobile Devices Portal web.config file.","pos":[7471,7530]},{"content":"In Internet Information Services (IIS) Manager, find your website.","pos":[7539,7605]},{"pos":[7614,7702],"content":"On the <bpt id=\"p1\">**</bpt>Actions<ept id=\"p1\">**</ept> pane, select <bpt id=\"p2\">**</bpt>Explore<ept id=\"p2\">**</ept> in order to browse the WMDP website sources.","source":"On the **Actions** pane, select **Explore** in order to browse the WMDP website sources."},{"pos":[7711,7775],"content":"Edit the Web.config file and find <bpt id=\"p1\">**</bpt>ServiceConnection<ept id=\"p1\">**</ept> element.","source":"Edit the Web.config file and find **ServiceConnection** element."},{"pos":[7784,7856],"content":"Assign a value to the URI attribute of the <bpt id=\"p1\">**</bpt>ServiceReference<ept id=\"p1\">**</ept> element:","source":"Assign a value to the URI attribute of the **ServiceReference** element:"},{"content":"For example:","pos":[7921,7933]},{"pos":[8019,8091],"content":"Assign values to following attributes of the <bpt id=\"p1\">**</bpt>Authentication<ept id=\"p1\">**</ept> element:","source":"Assign values to following attributes of the **Authentication** element:"},{"content":"For example:","pos":[8508,8520]},{"content":"Even though the Web.config file has an exclusive strong ACL applied to it, for security reasons you should make sure that you remove any credentials from the Web.config file before going live.","pos":[8852,9044]},{"content":"In this step, you will protect the credentials created in the previous step, by saving them in Windows Credentials Manager.","pos":[9045,9168]},{"content":"Open the main page of the Warehouse Mobile Devices Portal.","pos":[9178,9236]},{"content":"Click <bpt id=\"p1\">**</bpt>Load web application configuration<ept id=\"p1\">**</ept>.","pos":[9245,9290],"source":"Click **Load web application configuration**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wmdp-load-config-01<ept id=\"p1\">](./media/wmdp-load-config-01.png)](./media/wmdp-load-config-01.png)</ept>","pos":[9291,9381],"source":"[![wmdp-load-config-01](./media/wmdp-load-config-01.png)](./media/wmdp-load-config-01.png)"},{"content":"After successfully recording your credentials, the following message displays.","pos":[9390,9468]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Web configuration loading success<ept id=\"p1\">](./media/10.png)](./media/10.png)</ept>","pos":[9469,9539],"source":"[![Web configuration loading success](./media/10.png)](./media/10.png)"},{"content":"In the Web.config file, set ServiceUserName and ServiceUserPassword to empty strings:","pos":[9548,9633]},{"content":"Go back to your browser and click <bpt id=\"p1\">**</bpt>Load web application configuration<ept id=\"p1\">**</ept> again.","pos":[9717,9796],"source":"Go back to your browser and click **Load web application configuration** again."},{"content":"You should see following message.","pos":[9797,9830]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Web configuration loading: no changes<ept id=\"p1\">](./media/11.png)](./media/11.png)</ept>","pos":[9831,9905],"source":"[![Web configuration loading: no changes](./media/11.png)](./media/11.png)"},{"content":"You can now log on to Warehouse Mobile Devices Portal pages.","pos":[9910,9970]},{"content":"If your configuration succeeded, you will see the company selection page.","pos":[9971,10044]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>Company selection page<ept id=\"p1\">](./media/12.png)](./media/12.png)</ept>","pos":[10045,10104],"source":"[![Company selection page](./media/12.png)](./media/12.png)"},{"content":"If you see the <bpt id=\"p1\">**</bpt>Select company<ept id=\"p1\">**</ept> screen, you will connect to Dynamics 365 for Operations.","pos":[10106,10196],"source":"If you see the **Select company** screen, you will connect to Dynamics 365 for Operations."},{"content":"Otherwise, visit the “Troubleshooting” section.","pos":[10197,10244]},{"content":"To start using the WMDP menus, you need to complete the remaining setup steps, which are documented for Dynamics AX 2012 here: <bpt id=\"p1\">&lt;</bpt>https://technet.microsoft.com/en-us/library/dn553159.aspx<ept id=\"p1\">&gt;</ept>.","pos":[10245,10432],"source":" To start using the WMDP menus, you need to complete the remaining setup steps, which are documented for Dynamics AX 2012 here: <https://technet.microsoft.com/en-us/library/dn553159.aspx>."},{"pos":[10437,10482],"content":"Servicing the Warehouse Mobile Devices Portal","linkify":"Servicing the Warehouse Mobile Devices Portal","nodes":[{"content":"Servicing the Warehouse Mobile Devices Portal","pos":[0,45]}]},{"content":"Since Warehouse Mobile Devices Portal is released as a standalone component, you need to manually apply hotfixes when they are available.","pos":[10483,10620]},{"content":"When a hotfix is available, a new instance of the WMDP is deployed side-by-side with the old one.","pos":[10621,10718]},{"content":"After it has been properly configured and tested, the administrator can retire the old version and make the new, updated version the live version.","pos":[10719,10865]},{"content":"This hot-swapping servicing model allows minimization of downtime caused by the configuration and testing of the updated environment.","pos":[10866,10999]},{"content":"To apply a hotfix:","pos":[11000,11018]},{"content":"After a new update to the Warehouse Mobile Devices Portal is available on your LCS portal, it can be downloaded to your local environment.","pos":[11024,11162]},{"content":"Follow this tutorial to retrieve the hotfix: <bpt id=\"p1\">[</bpt>Download hotfixes from Lifecycle Services<ept id=\"p1\">](/dynamics365/operations/dev-itpro/migration-upgrade/download-hotfix-lcs)</ept>","pos":[11163,11324],"source":" Follow this tutorial to retrieve the hotfix: [Download hotfixes from Lifecycle Services](/dynamics365/operations/dev-itpro/migration-upgrade/download-hotfix-lcs)"},{"content":"The hotfix package will be available as a zip file.","pos":[11329,11380]},{"content":"If you unpack it, you should be able to find patched version of WarehouseMobileDevicesPortal.msi within SCMSelfService<ph id=\"ph1\">\\\\</ph>Packages.","pos":[11381,11510],"source":" If you unpack it, you should be able to find patched version of WarehouseMobileDevicesPortal.msi within SCMSelfService\\\\Packages."},{"content":"Follow the “Install the Warehouse Mobile Devices Portal” section in this document to install another instance of WMDP on your server machine, under a different TCP port than the original instance.","pos":[11515,11711]},{"content":"Let’s call this instance <bpt id=\"p1\">**</bpt>patched WMDP<ept id=\"p1\">**</ept> and the original instance <bpt id=\"p2\">**</bpt>old WMDP instance<ept id=\"p2\">**</ept>.","pos":[11712,11802],"source":" Let’s call this instance **patched WMDP** and the original instance **old WMDP instance**."},{"content":"As a good security practice, you should consider using a TCP port that is not exposed through your firewall to the production network, as it is still under configuration.","pos":[11803,11973]},{"pos":[11978,12098],"content":"Follow the “Configure the Warehouse Mobile Devices Portal web application” section for configuring the <bpt id=\"p1\">**</bpt>patched WMDP<ept id=\"p1\">**</ept>.","source":"Follow the “Configure the Warehouse Mobile Devices Portal web application” section for configuring the **patched WMDP**."},{"pos":[12103,12209],"content":"Apply any customizations and execute any tests that ensure that your <bpt id=\"p1\">**</bpt>patched WMDP<ept id=\"p1\">**</ept> is ready to go live.","source":"Apply any customizations and execute any tests that ensure that your **patched WMDP** is ready to go live."},{"pos":[12214,12296],"content":"Update the site bindings on <bpt id=\"p1\">**</bpt>patched WMDP<ept id=\"p1\">**</ept> and retire the <bpt id=\"p2\">**</bpt>old WMDP instance<ept id=\"p2\">**</ept>.","source":"Update the site bindings on **patched WMDP** and retire the **old WMDP instance**."},{"content":"In IIS, stop the <bpt id=\"p1\">**</bpt>old WMDP instance<ept id=\"p1\">**</ept>.","pos":[12305,12344],"source":"In IIS, stop the **old WMDP instance**."},{"content":"Note that this will terminate the work user sessions, but will not damage their work in progress, as the work session state is stored in Dynamics 365 for Operations.","pos":[12345,12510]},{"content":"In Internet Information Services (IIS) Manger, open the Bindings for your <bpt id=\"p1\">**</bpt>old WMDP instance<ept id=\"p1\">**</ept>, as shown in the following screenshot.","pos":[12519,12653],"source":"In Internet Information Services (IIS) Manger, open the Bindings for your **old WMDP instance**, as shown in the following screenshot."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>iis-wmdp-02<ept id=\"p1\">](./media/iis-wmdp-02-1024x192.png)](./media/iis-wmdp-02.png)</ept>","pos":[12654,12729],"source":"[![iis-wmdp-02](./media/iis-wmdp-02-1024x192.png)](./media/iis-wmdp-02.png)"},{"pos":[12738,12804],"content":"Remove the default binding and close the <bpt id=\"p1\">**</bpt>Site Bindings<ept id=\"p1\">**</ept> window.","source":"Remove the default binding and close the **Site Bindings** window."},{"pos":[12813,13031],"content":"Select the <bpt id=\"p1\">**</bpt>patched WMDP instance<ept id=\"p1\">**</ept> site in Internet Information Services (IIS) Manger, open <bpt id=\"p2\">**</bpt>Bindings<ept id=\"p2\">**</ept> and create a new https binding for exactly the same port as the binding removed from the <bpt id=\"p3\">**</bpt>old WMDP instance<ept id=\"p3\">**</ept>.","source":"Select the **patched WMDP instance** site in Internet Information Services (IIS) Manger, open **Bindings** and create a new https binding for exactly the same port as the binding removed from the **old WMDP instance**."},{"pos":[13037,13087],"content":"Your <bpt id=\"p1\">**</bpt>patched WMDP instance<ept id=\"p1\">**</ept> should now be live.","source":"Your **patched WMDP instance** should now be live."},{"pos":[13092,13140],"content":"You can now uninstall the <bpt id=\"p1\">**</bpt>old WMDP instance<ept id=\"p1\">**</ept>.","source":"You can now uninstall the **old WMDP instance**."},{"pos":[13149,13323],"content":"On your computer, open the <bpt id=\"p1\">**</bpt>Uninstall or change a program<ept id=\"p1\">**</ept> window (<bpt id=\"p2\">**</bpt>Control Pane<ept id=\"p2\">**</ept>l <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Programs<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Programs and Features<ept id=\"p4\">**</ept>), or open appwiz.cpl as administrator.","source":"On your computer, open the **Uninstall or change a program** window (**Control Pane**l &gt; **Programs** &gt; **Programs and Features**), or open appwiz.cpl as administrator."},{"content":"Find the <bpt id=\"p1\">**</bpt>old WMDP instance<ept id=\"p1\">**</ept> in the list of installed programs.","pos":[13332,13397],"source":"Find the **old WMDP instance** in the list of installed programs."},{"content":"The following screenshot the shows DEFAULT instance in the list.","pos":[13398,13462]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>wmdp-control-panel-01<ept id=\"p1\">](./media/wmdp-control-panel-01-1024x190.png)](./media/wmdp-control-panel-01.png)</ept>","pos":[13463,13568],"source":"[![wmdp-control-panel-01](./media/wmdp-control-panel-01-1024x190.png)](./media/wmdp-control-panel-01.png)"},{"pos":[13577,13654],"content":"Uninstall the <bpt id=\"p1\">**</bpt>old WMDP instance<ept id=\"p1\">**</ept>, either using the UI or the command line.","source":"Uninstall the **old WMDP instance**, either using the UI or the command line."},{"pos":[13659,13674],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"<bpt id=\"p1\">**</bpt>Problem:<ept id=\"p1\">**</ept> You see this generic error: “Sorry, an error occurred while processing your request.","pos":[13675,13772],"source":"**Problem:** You see this generic error: “Sorry, an error occurred while processing your request."},{"content":"Please retry your request or contact your system administrator.”","pos":[13773,13837]},{"content":"<bpt id=\"p1\">**</bpt>Solution:<ept id=\"p1\">**</ept> If you open the Event Viewer and navigate to Application logs, you will find a log sourced by ASP.NET, with exception details, as shown in the following example.","pos":[13838,14013],"source":"**Solution:** If you open the Event Viewer and navigate to Application logs, you will find a log sourced by ASP.NET, with exception details, as shown in the following example."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>ASP.NET log in the Event Viewer Application logs<ept id=\"p1\">](./media/151.png)](./media/151.png)</ept> Some additional information about the errors in the Event Viewer is available in this blog post: <bpt id=\"p2\">[</bpt>Warehouse Mobile Devices Portal for Microsoft Dynamics AX<ept id=\"p2\">](http://community.dynamics.com/ax/b/dynamicsaxseven/archive/2016/03/17/warehouse-mobile-devices-portal-for-microsoft-dynamics-ax)</ept>.","pos":[14014,14388],"source":"[![ASP.NET log in the Event Viewer Application logs](./media/151.png)](./media/151.png) Some additional information about the errors in the Event Viewer is available in this blog post: [Warehouse Mobile Devices Portal for Microsoft Dynamics AX](http://community.dynamics.com/ax/b/dynamicsaxseven/archive/2016/03/17/warehouse-mobile-devices-portal-for-microsoft-dynamics-ax)."}]}