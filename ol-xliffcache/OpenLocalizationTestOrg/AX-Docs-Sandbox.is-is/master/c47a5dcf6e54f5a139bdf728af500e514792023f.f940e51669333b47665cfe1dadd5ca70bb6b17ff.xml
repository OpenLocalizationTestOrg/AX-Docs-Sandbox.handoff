{"content":"---\n# required metadata\n\ntitle: Custom Filter Group subpattern\ndescription: This topic provides information about the Custom Filter Group subpattern.\nauthor: jasongre\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: dynamics-ax-platform\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: annbe\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 28231\nms.assetid: 1838c10d-9172-4853-aa49-17710adf8bc1\nms.search.region: Global\n# ms.search.industry: \nms.author: jasongre\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Custom Filter Group subpattern\n\n[!include[banner](../includes/banner.md)]\n\n\n\n\nUsage\n-----\n\nThis subpattern is used to show a small collection of input controls (no more than five) that apply a custom filter to a grid or form section. Fields in the Custom Filter Group should be limited to the following field types, which have constrained inputs and can be applied to the query:\n\n-   StringEdits with Lookups\n-   Date fields\n-   ReferenceGroup\n-   Comboboxes\n-   Checkboxes\n-   Quick Filter\n\nTwo patterns are described in this document. The only difference between these patterns is whether the Quick Filter control is mandatory or optional:\n\n-   **Custom Filters** – In this subpattern, the QuickFilter control is optional.\n-   **Custom and Quick Filters** – In this subpattern, the QuickFilter control is mandatory.\n\n## Wireframes\n### Custom Filters[![CustomFilterGroup(1)](./media/customfiltergroup1.png)](./media/customfiltergroup1.png)\n\n### Custom and Quick Filters\n\n![CustomFilterGroup(2)](./media/customfiltergroup2.png)\n\n## Model\n### Custom Filters – High-level structure\n\nCustomFilter (Group)\n\n*QuickFilter (QuickFilter) \\[Optional\\]*\n\n*FieldGroups (Group) \\[0..N\\]*\n\nFields ($Field) \\[1..N\\]\n\n*Fields ($Fields) \\[0..N\\]*\n\n### Custom and Quick Filters – High-level structure\n\nCustomFilter (Group)\n\nQuickFilter (QuickFilter)\n\n*FieldGroups (Group) \\[0..N\\]*\n\nFields ($Field) \\[1..N\\]\n\n*Fields ($Fields) \\[0..N\\]*\n\n### Core components\n\n-   Apply a custom filter-container pattern to a Group control.\n-   Address BP Warnings:\n    -   Input controls within the CustomFilterGroup should not have a DataSource or DataField assigned.\n\n### Related container patterns\n\nNone\n\n### Related modeling\n\nUse QueryFilter, not QueryBuildRange, for all custom filters. QueryBuildRange doesn't work correctly with outer-joined fields.\n\n## UX guidelines\nThe verification checklist shows the steps for manually verifying that the form complies with UX guidelines. This checklist doesn't include any guidelines that will be enforced automatically through the development environment. Open the form in a browser, and walk through these steps.\n\n-   **Standard form guidelines:**\n    -   [General form guidelines](general-form-guidelines.md)\n-   **Custom Filter Group guidelines:**\n    -   All controls (except QuickFilter) are constrained input controls. Open-ended controls, such as strings, integers, and reals, should not be used.\n    -   Field labels are turned off to save space. For example, no label is needed for a combobox that has the values **Open**, **Closed**, **Posted**, and All.\n        -   Show labels when the filter values do not provide sufficient context for the user to understand what the filter does. For example, a date field provides no context, and the user requires a label to understand what type of date is specified (for example, **Created date**).\n        -   Either all labels are turned off, or all labels are turned on. Don't mix unlabeled filters and labeled filters.\n        -   **Exception:** When you use a check box–style Boolean, the label can be left on, even though other fields don't show a label.\n    -   There should not be more than five controls in the custom filter group.\n\n## Examples\n### Custom Filters\n\nForm: **LedgerJournalTable (TopFields)** \n\n![CustomFilterGroup(3)](./media/customfiltergroup3.png)\n\n### Custom and Quick Filters\n\nForm: **CustTable** **(CustomFilterGroup)** \n\n[![CustomFilterGroup(4)](./media/customfiltergroup4.png)](./media/customfiltergroup4.png)\n\n## Resources\n### Typically used by form patterns\n\n-   Simple List\n-   Details Master\n-   Details Transaction\n-   List Page\n\n## Appendix\n### Frequently asked questions\n\nThis section will have answers to frequently asked questions that are related to this guideline/pattern.\n\n-   **What do I do with the legal entity?**\n    -   “Legal entity” is a typical custom filter that belongs in the Custom Filter Group.\n-   **Should the custom filter be above the toolbar of a list?**\n    -   We think that the custom filter belongs as close to the grid as possible, because it more directly affects the list, just as the commands in the toolbar do. Additionally, this position makes the logical order of the elements consistent across different page patterns.\n\n### Open issues\n\n-   **Do we allow Show More/Less in the Custom Filter Group? An example is BudgetAnalysisInquiry\\_PSN.**\n    -   No, that will currently be a custom container. If we have enough examples, we might add a new container subpattern.\n-   **Does the pattern limit the possible input types to those that allow constrained input values?**\n    -   The pattern currently allows any input, but it's against guidelines to have inputs that have unconstrained values.\n-   **Do we allow groups to be used as custom filter groups?**\n    -   We do allow them now, to make migration easier and to identify Custom Filter group locations. However, we encourage you to use only a small set of fields in these situations (and we might eventually enforce this).\n\n### AX 2012 content\n\n#### AX 2012 links\n\n-   [MSDN AX 2012 How to Add Controls to the Filter Pane](http://msdn.microsoft.com/EN-US/library/cc577231.aspx)\n-   [MSDN AX 2012 List Page Overview – section Filter Pane](http://msdn.microsoft.com/EN-US/library/cc616937.aspx)\n\n#### AX 2012 example\n\n[![CustomFilterGroup(5)](./media/customfiltergroup5.png)](./media/customfiltergroup5.png)\n\n\n\n","nodes":[{"pos":[32,62],"content":"Custom Filter Group subpattern","needQuote":true,"needEscape":true,"nodes":[{"content":"Custom Filter Group subpattern","pos":[0,30]}]},{"pos":[76,149],"content":"This topic provides information about the Custom Filter Group subpattern.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic provides information about the Custom Filter Group subpattern.","pos":[0,73]}]},{"pos":[647,677],"content":"Custom Filter Group subpattern","linkify":"Custom Filter Group subpattern","nodes":[{"content":"Custom Filter Group subpattern","pos":[0,30]}]},{"pos":[725,730],"content":"Usage","linkify":"Usage","nodes":[{"content":"Usage","pos":[0,5]}]},{"content":"This subpattern is used to show a small collection of input controls (no more than five) that apply a custom filter to a grid or form section.","pos":[738,880]},{"content":"Fields in the Custom Filter Group should be limited to the following field types, which have constrained inputs and can be applied to the query:","pos":[881,1025]},{"content":"StringEdits with Lookups","pos":[1031,1055]},{"content":"Date fields","pos":[1060,1071]},{"content":"ReferenceGroup","pos":[1076,1090]},{"content":"Comboboxes","pos":[1095,1105]},{"content":"Checkboxes","pos":[1110,1120]},{"content":"Quick Filter","pos":[1125,1137]},{"content":"Two patterns are described in this document.","pos":[1139,1183]},{"content":"The only difference between these patterns is whether the Quick Filter control is mandatory or optional:","pos":[1184,1288]},{"pos":[1294,1371],"content":"<bpt id=\"p1\">**</bpt>Custom Filters<ept id=\"p1\">**</ept> – In this subpattern, the QuickFilter control is optional.","source":"**Custom Filters** – In this subpattern, the QuickFilter control is optional."},{"pos":[1376,1464],"content":"<bpt id=\"p1\">**</bpt>Custom and Quick Filters<ept id=\"p1\">**</ept> – In this subpattern, the QuickFilter control is mandatory.","source":"**Custom and Quick Filters** – In this subpattern, the QuickFilter control is mandatory."},{"pos":[1469,1479],"content":"Wireframes","linkify":"Wireframes","nodes":[{"content":"Wireframes","pos":[0,10]}]},{"pos":[1484,1587],"content":"Custom Filters<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>CustomFilterGroup(1)<ept id=\"p1\">](./media/customfiltergroup1.png)](./media/customfiltergroup1.png)</ept>","linkify":"Custom Filters[![CustomFilterGroup(1)](./media/customfiltergroup1.png)](./media/customfiltergroup1.png)","source":"Custom Filters[![CustomFilterGroup(1)](./media/customfiltergroup1.png)](./media/customfiltergroup1.png)"},{"pos":[1593,1617],"content":"Custom and Quick Filters","linkify":"Custom and Quick Filters","nodes":[{"content":"Custom and Quick Filters","pos":[0,24]}]},{"content":"CustomFilterGroup(2)","pos":[1621,1641]},{"pos":[1679,1684],"content":"Model","linkify":"Model","nodes":[{"content":"Model","pos":[0,5]}]},{"pos":[1689,1726],"content":"Custom Filters – High-level structure","linkify":"Custom Filters – High-level structure","nodes":[{"content":"Custom Filters – High-level structure","pos":[0,37]}]},{"content":"CustomFilter (Group)","pos":[1728,1748]},{"pos":[1750,1790],"content":"<bpt id=\"p1\">*</bpt>QuickFilter (QuickFilter) <ph id=\"ph1\">\\[</ph>Optional<ph id=\"ph2\">\\]</ph><ept id=\"p1\">*</ept>","source":"*QuickFilter (QuickFilter) \\[Optional\\]*"},{"pos":[1792,1822],"content":"<bpt id=\"p1\">*</bpt>FieldGroups (Group) <ph id=\"ph1\">\\[</ph>0..N<ph id=\"ph2\">\\]</ph><ept id=\"p1\">*</ept>","source":"*FieldGroups (Group) \\[0..N\\]*"},{"content":"Fields ($Field) <ph id=\"ph1\">\\[</ph>1..N<ph id=\"ph2\">\\]</ph>","pos":[1824,1848],"source":"Fields ($Field) \\[1..N\\]"},{"pos":[1850,1877],"content":"<bpt id=\"p1\">*</bpt>Fields ($Fields) <ph id=\"ph1\">\\[</ph>0..N<ph id=\"ph2\">\\]</ph><ept id=\"p1\">*</ept>","source":"*Fields ($Fields) \\[0..N\\]*"},{"pos":[1883,1930],"content":"Custom and Quick Filters – High-level structure","linkify":"Custom and Quick Filters – High-level structure","nodes":[{"content":"Custom and Quick Filters – High-level structure","pos":[0,47]}]},{"content":"CustomFilter (Group)","pos":[1932,1952]},{"content":"QuickFilter (QuickFilter)","pos":[1954,1979]},{"pos":[1981,2011],"content":"<bpt id=\"p1\">*</bpt>FieldGroups (Group) <ph id=\"ph1\">\\[</ph>0..N<ph id=\"ph2\">\\]</ph><ept id=\"p1\">*</ept>","source":"*FieldGroups (Group) \\[0..N\\]*"},{"content":"Fields ($Field) <ph id=\"ph1\">\\[</ph>1..N<ph id=\"ph2\">\\]</ph>","pos":[2013,2037],"source":"Fields ($Field) \\[1..N\\]"},{"pos":[2039,2066],"content":"<bpt id=\"p1\">*</bpt>Fields ($Fields) <ph id=\"ph1\">\\[</ph>0..N<ph id=\"ph2\">\\]</ph><ept id=\"p1\">*</ept>","source":"*Fields ($Fields) \\[0..N\\]*"},{"pos":[2072,2087],"content":"Core components","linkify":"Core components","nodes":[{"content":"Core components","pos":[0,15]}]},{"content":"Apply a custom filter-container pattern to a Group control.","pos":[2093,2152]},{"content":"Address BP Warnings:","pos":[2157,2177]},{"content":"Input controls within the CustomFilterGroup should not have a DataSource or DataField assigned.","pos":[2186,2281]},{"pos":[2287,2313],"content":"Related container patterns","linkify":"Related container patterns","nodes":[{"content":"Related container patterns","pos":[0,26]}]},{"content":"None","pos":[2315,2319]},{"pos":[2325,2341],"content":"Related modeling","linkify":"Related modeling","nodes":[{"content":"Related modeling","pos":[0,16]}]},{"content":"Use QueryFilter, not QueryBuildRange, for all custom filters.","pos":[2343,2404]},{"content":"QueryBuildRange doesn't work correctly with outer-joined fields.","pos":[2405,2469]},{"pos":[2474,2487],"content":"UX guidelines","linkify":"UX guidelines","nodes":[{"content":"UX guidelines","pos":[0,13]}]},{"content":"The verification checklist shows the steps for manually verifying that the form complies with UX guidelines.","pos":[2488,2596]},{"content":"This checklist doesn't include any guidelines that will be enforced automatically through the development environment.","pos":[2597,2715]},{"content":"Open the form in a browser, and walk through these steps.","pos":[2716,2773]},{"pos":[2779,2808],"content":"<bpt id=\"p1\">**</bpt>Standard form guidelines:<ept id=\"p1\">**</ept>","source":"**Standard form guidelines:**"},{"pos":[2817,2870],"content":"<bpt id=\"p1\">[</bpt>General form guidelines<ept id=\"p1\">](general-form-guidelines.md)</ept>","source":"[General form guidelines](general-form-guidelines.md)"},{"pos":[2875,2910],"content":"<bpt id=\"p1\">**</bpt>Custom Filter Group guidelines:<ept id=\"p1\">**</ept>","source":"**Custom Filter Group guidelines:**"},{"content":"All controls (except QuickFilter) are constrained input controls.","pos":[2919,2984]},{"content":"Open-ended controls, such as strings, integers, and reals, should not be used.","pos":[2985,3063]},{"content":"Field labels are turned off to save space.","pos":[3072,3114]},{"content":"For example, no label is needed for a combobox that has the values <bpt id=\"p1\">**</bpt>Open<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Closed<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Posted<ept id=\"p3\">**</ept>, and All.","pos":[3115,3224],"source":" For example, no label is needed for a combobox that has the values **Open**, **Closed**, **Posted**, and All."},{"content":"Show labels when the filter values do not provide sufficient context for the user to understand what the filter does.","pos":[3237,3354]},{"content":"For example, a date field provides no context, and the user requires a label to understand what type of date is specified (for example, <bpt id=\"p1\">**</bpt>Created date<ept id=\"p1\">**</ept>).","pos":[3355,3509],"source":" For example, a date field provides no context, and the user requires a label to understand what type of date is specified (for example, **Created date**)."},{"content":"Either all labels are turned off, or all labels are turned on.","pos":[3522,3584]},{"content":"Don't mix unlabeled filters and labeled filters.","pos":[3585,3633]},{"pos":[3646,3771],"content":"<bpt id=\"p1\">**</bpt>Exception:<ept id=\"p1\">**</ept> When you use a check box–style Boolean, the label can be left on, even though other fields don't show a label.","source":"**Exception:** When you use a check box–style Boolean, the label can be left on, even though other fields don't show a label."},{"content":"There should not be more than five controls in the custom filter group.","pos":[3780,3851]},{"pos":[3856,3864],"content":"Examples","linkify":"Examples","nodes":[{"content":"Examples","pos":[0,8]}]},{"pos":[3869,3883],"content":"Custom Filters","linkify":"Custom Filters","nodes":[{"content":"Custom Filters","pos":[0,14]}]},{"pos":[3885,3925],"content":"Form: <bpt id=\"p1\">**</bpt>LedgerJournalTable (TopFields)<ept id=\"p1\">**</ept>","source":"Form: **LedgerJournalTable (TopFields)**"},{"content":"CustomFilterGroup(3)","pos":[3930,3950]},{"pos":[3989,4013],"content":"Custom and Quick Filters","linkify":"Custom and Quick Filters","nodes":[{"content":"Custom and Quick Filters","pos":[0,24]}]},{"pos":[4015,4058],"content":"Form: <bpt id=\"p1\">**</bpt>CustTable<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>(CustomFilterGroup)<ept id=\"p2\">**</ept>","source":"Form: **CustTable** **(CustomFilterGroup)**"},{"pos":[4061,4150],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>CustomFilterGroup(4)<ept id=\"p1\">](./media/customfiltergroup4.png)](./media/customfiltergroup4.png)</ept>","source":"[![CustomFilterGroup(4)](./media/customfiltergroup4.png)](./media/customfiltergroup4.png)"},{"pos":[4155,4164],"content":"Resources","linkify":"Resources","nodes":[{"content":"Resources","pos":[0,9]}]},{"pos":[4169,4200],"content":"Typically used by form patterns","linkify":"Typically used by form patterns","nodes":[{"content":"Typically used by form patterns","pos":[0,31]}]},{"content":"Simple List","pos":[4206,4217]},{"content":"Details Master","pos":[4222,4236]},{"content":"Details Transaction","pos":[4241,4260]},{"content":"List Page","pos":[4265,4274]},{"pos":[4279,4287],"content":"Appendix","linkify":"Appendix","nodes":[{"content":"Appendix","pos":[0,8]}]},{"pos":[4292,4318],"content":"Frequently asked questions","linkify":"Frequently asked questions","nodes":[{"content":"Frequently asked questions","pos":[0,26]}]},{"content":"This section will have answers to frequently asked questions that are related to this guideline/pattern.","pos":[4320,4424]},{"pos":[4430,4469],"content":"<bpt id=\"p1\">**</bpt>What do I do with the legal entity?<ept id=\"p1\">**</ept>","source":"**What do I do with the legal entity?**"},{"content":"“Legal entity” is a typical custom filter that belongs in the Custom Filter Group.","pos":[4478,4560]},{"pos":[4565,4625],"content":"<bpt id=\"p1\">**</bpt>Should the custom filter be above the toolbar of a list?<ept id=\"p1\">**</ept>","source":"**Should the custom filter be above the toolbar of a list?**"},{"content":"We think that the custom filter belongs as close to the grid as possible, because it more directly affects the list, just as the commands in the toolbar do.","pos":[4634,4790]},{"content":"Additionally, this position makes the logical order of the elements consistent across different page patterns.","pos":[4791,4901]},{"pos":[4907,4918],"content":"Open issues","linkify":"Open issues","nodes":[{"content":"Open issues","pos":[0,11]}]},{"pos":[4924,5024],"content":"<bpt id=\"p1\">**</bpt>Do we allow Show More/Less in the Custom Filter Group? An example is BudgetAnalysisInquiry<ph id=\"ph1\">\\_</ph>PSN.<ept id=\"p1\">**</ept>","source":"**Do we allow Show More/Less in the Custom Filter Group? An example is BudgetAnalysisInquiry\\_PSN.**"},{"content":"No, that will currently be a custom container.","pos":[5033,5079]},{"content":"If we have enough examples, we might add a new container subpattern.","pos":[5080,5148]},{"pos":[5153,5250],"content":"<bpt id=\"p1\">**</bpt>Does the pattern limit the possible input types to those that allow constrained input values?<ept id=\"p1\">**</ept>","source":"**Does the pattern limit the possible input types to those that allow constrained input values?**"},{"content":"The pattern currently allows any input, but it's against guidelines to have inputs that have unconstrained values.","pos":[5259,5373]},{"pos":[5378,5436],"content":"<bpt id=\"p1\">**</bpt>Do we allow groups to be used as custom filter groups?<ept id=\"p1\">**</ept>","source":"**Do we allow groups to be used as custom filter groups?**"},{"content":"We do allow them now, to make migration easier and to identify Custom Filter group locations.","pos":[5445,5538]},{"content":"However, we encourage you to use only a small set of fields in these situations (and we might eventually enforce this).","pos":[5539,5658]},{"pos":[5664,5679],"content":"AX 2012 content","linkify":"AX 2012 content","nodes":[{"content":"AX 2012 content","pos":[0,15]}]},{"pos":[5686,5699],"content":"AX 2012 links","linkify":"AX 2012 links","nodes":[{"content":"AX 2012 links","pos":[0,13]}]},{"pos":[5705,5813],"content":"<bpt id=\"p1\">[</bpt>MSDN AX 2012 How to Add Controls to the Filter Pane<ept id=\"p1\">](http://msdn.microsoft.com/EN-US/library/cc577231.aspx)</ept>","source":"[MSDN AX 2012 How to Add Controls to the Filter Pane](http://msdn.microsoft.com/EN-US/library/cc577231.aspx)"},{"pos":[5818,5928],"content":"<bpt id=\"p1\">[</bpt>MSDN AX 2012 List Page Overview – section Filter Pane<ept id=\"p1\">](http://msdn.microsoft.com/EN-US/library/cc616937.aspx)</ept>","source":"[MSDN AX 2012 List Page Overview – section Filter Pane](http://msdn.microsoft.com/EN-US/library/cc616937.aspx)"},{"pos":[5935,5950],"content":"AX 2012 example","linkify":"AX 2012 example","nodes":[{"content":"AX 2012 example","pos":[0,15]}]},{"pos":[5952,6041],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>CustomFilterGroup(5)<ept id=\"p1\">](./media/customfiltergroup5.png)](./media/customfiltergroup5.png)</ept>","source":"[![CustomFilterGroup(5)](./media/customfiltergroup5.png)](./media/customfiltergroup5.png)"}]}