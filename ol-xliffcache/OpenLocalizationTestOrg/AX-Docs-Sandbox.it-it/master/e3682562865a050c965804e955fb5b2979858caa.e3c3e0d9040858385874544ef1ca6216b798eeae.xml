{"content":"---\n# required metadata\n\ntitle: Create a Windows installer for a payment connector\ndescription: This topic describes how to create a Windows installer for a payment connector. This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers. \nauthor: MargoC\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \n# ms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations, Retail\n# ms.tgt_pltfrm: \nms.custom: 141573\nms.assetid: 045bb979-989f-4f72-9eb1-6b963680b65e\nms.search.region: Global\n# ms.search.industry: \nms.author: yabinl\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Create a Windows installer for a payment connector\n\n[!include[banner](../includes/banner.md)]\n\n\nThis topic describes how to create a Windows installer for a payment connector. This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers. \n\nAfter you've implemented and tested your payment connector in the development environment, you must create an installer to transfer the payment connector to a retailer IT professional or a value-added reseller (VAR) for production deployment. For more information, see [Implement a payment connector and a payment device](http://download.microsoft.com/download/4/D/7/4D7C6B05-0C23-4C6C-BA13-AB62ED08AA61/The%20Guide%20to%20Implementing%20Payment%20Connector%20and%20Payment%20Device.docx).\n\n## Windows Installer\nMicrosoft Windows Installer (MSI) is the application and configuration service for Microsoft Windows. You must create an installer that contains all the files that are required in order to deploy a payment connector. The installer itself doesn't deploy the payment connector. It just unzips and copies the connector files to a designated folder. The next section of this topic defines the contents of that folder. You can configure the installer to require that customers accept a user agreement before they can continue with the installation. You can also choose your preferred format for the installer. For example, you can have an .exe file.\n\n## Installer contents\nThe installer must install the required files in the following structure:\n\n-   **Payment Connector** – This folder contains up to three subfolders:\n    -   **IPaymentDevice Assemblies** – This folder contains the assembly that implements the IPaymentDevice interface and its dependent assemblies. These assemblies are used in Hardware station and Retail Modern POS to communicate with payment terminal devices, such as VeriFone MX925. If you don’t support a payment terminal device, you can omit this folder.\n    -   **IPaymentProcessor Assemblies** – This folder contains the assembly that implements the IPaymentProcesor interface and its dependent assemblies.\n    -   **Payment Web Files** – This folder contains the callback HTML/JavaScript/CSS files that are required in order to enable the payment accepting page. If the payment accepting web app follows the Microsoft implementation guide, these payment web files aren't required, and you can omit this folder. In some cases, the payment accepting page requires that a callback page be deployed to the host application server. In that case, you must include a folder for the callback page:\n        -   **&lt;Payment\\_Connector\\_Name&gt;** – To avoid file conflicts from different payment connectors, the payment web files must be placed inside subfolders. We recommend that you use the connector name as the name of the subfolder.\n-   **Other utility tools** – If you have other utility tools, such as a configuration utility for a payment terminal device, you can include them here. If you don’t support any payment terminal devices, you can omit these files. The utility tool should be designed to interact only with the payment terminal devices. It should not interact with anything in Hardware station or Modern POS. Hardware station and Modern POS will be packaged together with files from the Payment Connector folder.\n-   **README.txt** – This file describes the contents of the folder and how to use any utilities that are included. The file must also include the payment page URLs that are required in the Cloud POS web.config and Modern POS package.appxmanifest files. If you support any payment terminal devices, the file must also mention the name of the assembly that implements the IPaymentDevice interface. The assembly will be registered in the Hardware Station .config file.\n\nThe following illustration shows the file structure for a connector that is named TestConnector. \n\n[![File structure for TestConnector](./media/paymentconnectorinstaller.png)](./media/paymentconnectorinstaller.png)\n\n\n\n","nodes":[{"pos":[32,82],"content":"Create a Windows installer for a payment connector","needQuote":true,"needEscape":true,"nodes":[{"content":"Create a Windows installer for a payment connector","pos":[0,50]}]},{"pos":[96,429],"content":"This topic describes how to create a Windows installer for a payment connector. This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic describes how to create a Windows installer for a payment connector. This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers.","pos":[0,333],"nodes":[{"content":"This topic describes how to create a Windows installer for a payment connector.","pos":[0,79]},{"content":"This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers.","pos":[80,333]}]}]},{"pos":[937,987],"content":"Create a Windows installer for a payment connector","linkify":"Create a Windows installer for a payment connector","nodes":[{"content":"Create a Windows installer for a payment connector","pos":[0,50]}]},{"content":"This topic describes how to create a Windows installer for a payment connector.","pos":[1033,1112]},{"content":"This topic is targeted at developers working for or with a payment connector provider, for example, MasterCard or Visa, to describe how to package a payment connector, which can then be shared with implementation partners working for specific customers.","pos":[1113,1366]},{"content":"After you've implemented and tested your payment connector in the development environment, you must create an installer to transfer the payment connector to a retailer IT professional or a value-added reseller (VAR) for production deployment.","pos":[1369,1611]},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Implement a payment connector and a payment device<ept id=\"p1\">](http://download.microsoft.com/download/4/D/7/4D7C6B05-0C23-4C6C-BA13-AB62ED08AA61/The%20Guide%20to%20Implementing%20Payment%20Connector%20and%20Payment%20Device.docx)</ept>.","pos":[1612,1858],"source":" For more information, see [Implement a payment connector and a payment device](http://download.microsoft.com/download/4/D/7/4D7C6B05-0C23-4C6C-BA13-AB62ED08AA61/The%20Guide%20to%20Implementing%20Payment%20Connector%20and%20Payment%20Device.docx)."},{"pos":[1863,1880],"content":"Windows Installer","linkify":"Windows Installer","nodes":[{"content":"Windows Installer","pos":[0,17]}]},{"content":"Microsoft Windows Installer (MSI) is the application and configuration service for Microsoft Windows.","pos":[1881,1982]},{"content":"You must create an installer that contains all the files that are required in order to deploy a payment connector.","pos":[1983,2097]},{"content":"The installer itself doesn't deploy the payment connector.","pos":[2098,2156]},{"content":"It just unzips and copies the connector files to a designated folder.","pos":[2157,2226]},{"content":"The next section of this topic defines the contents of that folder.","pos":[2227,2294]},{"content":"You can configure the installer to require that customers accept a user agreement before they can continue with the installation.","pos":[2295,2424]},{"content":"You can also choose your preferred format for the installer.","pos":[2425,2485]},{"content":"For example, you can have an .exe file.","pos":[2486,2525]},{"pos":[2530,2548],"content":"Installer contents","linkify":"Installer contents","nodes":[{"content":"Installer contents","pos":[0,18]}]},{"content":"The installer must install the required files in the following structure:","pos":[2549,2622]},{"pos":[2628,2696],"content":"<bpt id=\"p1\">**</bpt>Payment Connector<ept id=\"p1\">**</ept> – This folder contains up to three subfolders:","source":"**Payment Connector** – This folder contains up to three subfolders:"},{"content":"<bpt id=\"p1\">**</bpt>IPaymentDevice Assemblies<ept id=\"p1\">**</ept> – This folder contains the assembly that implements the IPaymentDevice interface and its dependent assemblies.","pos":[2705,2845],"source":"**IPaymentDevice Assemblies** – This folder contains the assembly that implements the IPaymentDevice interface and its dependent assemblies."},{"content":"These assemblies are used in Hardware station and Retail Modern POS to communicate with payment terminal devices, such as VeriFone MX925.","pos":[2846,2983]},{"content":"If you don’t support a payment terminal device, you can omit this folder.","pos":[2984,3057]},{"pos":[3066,3211],"content":"<bpt id=\"p1\">**</bpt>IPaymentProcessor Assemblies<ept id=\"p1\">**</ept> – This folder contains the assembly that implements the IPaymentProcesor interface and its dependent assemblies.","source":"**IPaymentProcessor Assemblies** – This folder contains the assembly that implements the IPaymentProcesor interface and its dependent assemblies."},{"content":"<bpt id=\"p1\">**</bpt>Payment Web Files<ept id=\"p1\">**</ept> – This folder contains the callback HTML/JavaScript/CSS files that are required in order to enable the payment accepting page.","pos":[3220,3368],"source":"**Payment Web Files** – This folder contains the callback HTML/JavaScript/CSS files that are required in order to enable the payment accepting page."},{"content":"If the payment accepting web app follows the Microsoft implementation guide, these payment web files aren't required, and you can omit this folder.","pos":[3369,3516]},{"content":"In some cases, the payment accepting page requires that a callback page be deployed to the host application server.","pos":[3517,3632]},{"content":"In that case, you must include a folder for the callback page:","pos":[3633,3695]},{"content":"<bpt id=\"p1\">**</bpt><ph id=\"ph1\">&amp;lt;</ph>Payment<ph id=\"ph2\">\\_</ph>Connector<ph id=\"ph3\">\\_</ph>Name<ph id=\"ph4\">&amp;gt;</ph><ept id=\"p1\">**</ept> – To avoid file conflicts from different payment connectors, the payment web files must be placed inside subfolders.","pos":[3708,3861],"source":"**&lt;Payment\\_Connector\\_Name&gt;** – To avoid file conflicts from different payment connectors, the payment web files must be placed inside subfolders."},{"content":"We recommend that you use the connector name as the name of the subfolder.","pos":[3862,3936]},{"content":"<bpt id=\"p1\">**</bpt>Other utility tools<ept id=\"p1\">**</ept> – If you have other utility tools, such as a configuration utility for a payment terminal device, you can include them here.","pos":[3941,4089],"source":"**Other utility tools** – If you have other utility tools, such as a configuration utility for a payment terminal device, you can include them here."},{"content":"If you don’t support any payment terminal devices, you can omit these files.","pos":[4090,4166]},{"content":"The utility tool should be designed to interact only with the payment terminal devices.","pos":[4167,4254]},{"content":"It should not interact with anything in Hardware station or Modern POS.","pos":[4255,4326]},{"content":"Hardware station and Modern POS will be packaged together with files from the Payment Connector folder.","pos":[4327,4430]},{"content":"<bpt id=\"p1\">**</bpt>README.txt<ept id=\"p1\">**</ept> – This file describes the contents of the folder and how to use any utilities that are included.","pos":[4435,4546],"source":"**README.txt** – This file describes the contents of the folder and how to use any utilities that are included."},{"content":"The file must also include the payment page URLs that are required in the Cloud POS web.config and Modern POS package.appxmanifest files.","pos":[4547,4684]},{"content":"If you support any payment terminal devices, the file must also mention the name of the assembly that implements the IPaymentDevice interface.","pos":[4685,4827]},{"content":"The assembly will be registered in the Hardware Station .config file.","pos":[4828,4897]},{"content":"The following illustration shows the file structure for a connector that is named TestConnector.","pos":[4899,4995]},{"pos":[4998,5113],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>File structure for TestConnector<ept id=\"p1\">](./media/paymentconnectorinstaller.png)](./media/paymentconnectorinstaller.png)</ept>","source":"[![File structure for TestConnector](./media/paymentconnectorinstaller.png)](./media/paymentconnectorinstaller.png)"}]}