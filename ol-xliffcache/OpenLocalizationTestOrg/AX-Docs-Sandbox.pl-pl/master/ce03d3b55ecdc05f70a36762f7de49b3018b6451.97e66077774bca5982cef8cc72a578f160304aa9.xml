{"content":"---\n# required metadata\n\ntitle: Number sequence overview\ndescription: Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers. A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>.\nauthor: MargoC\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User, IT Pro\n# ms.devlang: \n# ms.reviewer: 71\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 15461\nms.assetid: 6e19bd1d-192b-4da2-8573-84f6e1ce98ef\nms.search.region: Global\n# ms.search.industry: \nms.author: margoc\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Number sequence overview\n\n[!include[banner](../includes/banner.md)]\n\n\nNumber sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers. A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>.\n\nBefore you can create new records for a reference in Microsoft Dynamics 365 for Operations, you must set up a number sequence and associate it with the reference. We recommend that you use the pages in **Organization administration** to set up number sequences. If module-specific settings are required, you can use the parameters page in a module to specify number sequences for the references in that module. For example, in **Accounts receivable** and **Accounts payable**, you can set up number sequence groups to allocate specific number sequences to specific customers or vendors. When you set up a number sequence, you must specify a scope, which defines which organization uses the number sequence. The scope can be **Shared**, **Company**, **Legal entity**, or **Operating unit**. **Legal entity** and **Company** scopes can be combined with **Fiscal calendar period** to create even more specific number sequences. Number sequence formats consist of segments. Number sequences with a scope other than **Shared** can contain segments that correspond to the scope. For example, a number sequence with a scope of **Legal entity** can contain a legal entity segment. By including a scope segment in the number sequence format, you can identify the scope of a particular record by looking at its number. In addition to segments that correspond to scopes, number sequence formats can contain **Constant** and **Alphanumeric segments**. A **Constant** segment contains a set of letters, numbers, or symbols that does not change. An **Alphanumeric** segment contains a set of letters or numbers that increment every time that a number is used. Use a number sign (\\#) to represent incrementing numbers and an ampersand (&) to represent incrementing letters. For example, the format \\#\\#\\#\\#\\#\\_2017 creates the sequence 00001\\_2017, 00002\\_2017, and so on.\nNumber sequence examples\n------------------------\n\nThe following examples show how to use segments to create number sequence formats. In particular, the examples demonstrate the effects of using scope segments.\n### Expense report numbers\n\nIn the following example, expense report numbers are set up for the legal entity that is titled **CS**. **Area:** Travel and expense **Reference:** Expense report number **Scope:** Legal entity **Legal entity:** CS\n| Segments  | Segment type | Value     |\n|-----------|--------------|-----------|\n| Segment 1 | Legal entity | CS        |\n| Segment 2 | Constant     | -EXPENSE- |\n| Segment 3 | Alphanumeric | \\#\\#\\#\\#  |\n\n**Example of formatted number**: CS-EXPENSE-0039 You can set up a similar number sequence format for other legal entities. For example, for a legal entity that is named **RW**, if you change only the value of the legal entity segment, the formatted number is RW-EXPENSE-0039. You can also change the whole number sequence format for other legal entities. For example, you can omit the legal entity scope segment to create a formatted number such as Exp-0001.\n\n### Sales order numbers\n\nIn the following example, sales order numbers are set up for the company ID **CEU**. **Area:** Sales **Reference:** Sales order **Scope:** Company **Company:** CEU\n| Segments  | Segment type | Value    |\n|-----------|--------------|----------|\n| Segment 1 | Constant     | SO-      |\n| Segment 2 | Alphanumeric | \\#\\#\\#\\# |\n\n**Example of formatted number**: SO-0029 Even though a scope segment is not included in the format, numbering restarts for each company ID. If you use the same format for all company IDs, the same numbers are used in each company. For example, sales order number SO-0029 is used in each company. You can also change the whole number sequence format for other company IDs.\n\n### Purchase requisition numbers\n\nIn the following example, purchase requisition numbers are organization-wide. **Area:** Purchase **Reference:** Purchase requisition **Scope:** Shared\n| Segments  | Segment type | Value    |\n|-----------|--------------|----------|\n| Segment 1 | Constant     | Req      |\n| Segment 2 | Alphanumeric | \\#\\#\\#\\# |\n\n**Example of formatted number**: Req0052 Because the scope is **Shared**, the number sequence format is used across the organization. You cannot set up different number sequence formats for different parts of the organization. \nPerformance considerations for number sequences\n-----------------------------------------------\n\nConsider the following information about how the configuration of number sequences can affect system performance before you set up number sequences.\n### Continuous and non-continuous number sequences\n\nNumber sequences can be continuous or non-continuous. A continuous number sequence does not skip any numbers, but numbers may not be used sequentially. Numbers from a non-continuous number sequence are used sequentially, but the number sequence may skip numbers. For example, if a user cancels a transaction, a number is generated, but not used. In a continuous number sequence, that number is recycled later. In a non-continuous number sequence, the number is not used. Continuous number sequences are typically required for external documents, such as purchase orders, sales orders, and invoices. However, continuous number sequences can adversely affect system response times because the system must request a number from the database every time that a new document or record is created. If you use a non-continuous number sequence, you can enable **Preallocation** on the **Performance** FastTab of the **Number sequences** page. When you specify a quantity of numbers to preallocate, the system selects those numbers and stores them in memory. New numbers are requested from the database only after the preallocated quantity has been used. Unless there is a regulatory requirement that you use continuous number sequences, we recommend that you use non-continuous number sequences for better performance.\n\n### Automatic cleanup of number sequences\n\nIn case of a power failure, an application error, or other unexpected failure, the system cannot recycle numbers automatically for continuous number sequences. You can run the cleanup process manually or automatically to recover the lost numbers. Carefully consider server usage when you plan the cleanup process. We recommend that you perform the cleanup as a batch job during non-peak hours.\n\n\n\n\n\n","nodes":[{"pos":[4,869],"content":"# required metadata\n\ntitle: Number sequence overview\ndescription: Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers. A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>.\nauthor: MargoC\nmanager: AnnBe\nms.date: 04/04/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Application User, IT Pro\n# ms.devlang: \n# ms.reviewer: 71\nms.search.scope: AX 7.0.0, Operations, Core\n# ms.tgt_pltfrm: \nms.custom: 15461\nms.assetid: 6e19bd1d-192b-4da2-8573-84f6e1ce98ef\nms.search.region: Global\n# ms.search.industry: \nms.author: margoc\nms.search.validFrom: 2016-02-28\nms.dyn365.ops.version: AX 7.0.0\n","nodes":[{"content":"Number sequence overview","nodes":[{"pos":[0,24],"content":"Number sequence overview","nodes":[{"content":"Number sequence overview","pos":[0,24]}]}],"path":["title"]},{"content":"Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers. A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>.","nodes":[{"pos":[0,292],"content":"Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers. A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>.","nodes":[{"content":"Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers.","pos":[0,181]},{"content":"A master data record or transaction record that requires an identifier is referred to as a &lt;em&gt;reference&lt;/em&gt;.","pos":[182,292],"source":" A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>."}]}],"path":["description"]}],"header":"# required metadata\n","yml":true},{"pos":[877,901],"content":"Number sequence overview","linkify":"Number sequence overview","nodes":[{"content":"Number sequence overview","pos":[0,24]}]},{"content":"Number sequences in Microsoft Dynamics 365 for Operations are used to generate readable, unique identifiers for master data records and transaction records that require identifiers.","pos":[947,1128]},{"content":"A master data record or transaction record that requires an identifier is referred to as a <bpt id=\"p1\">&lt;em&gt;</bpt>reference<ept id=\"p1\">&lt;/em&gt;</ept>.","pos":[1129,1239],"source":" A master data record or transaction record that requires an identifier is referred to as a <em>reference</em>."},{"content":"Before you can create new records for a reference in Microsoft Dynamics 365 for Operations, you must set up a number sequence and associate it with the reference.","pos":[1241,1403]},{"content":"We recommend that you use the pages in <bpt id=\"p1\">**</bpt>Organization administration<ept id=\"p1\">**</ept> to set up number sequences.","pos":[1404,1502],"source":" We recommend that you use the pages in **Organization administration** to set up number sequences."},{"content":"If module-specific settings are required, you can use the parameters page in a module to specify number sequences for the references in that module.","pos":[1503,1651]},{"content":"For example, in <bpt id=\"p1\">**</bpt>Accounts receivable<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Accounts payable<ept id=\"p2\">**</ept>, you can set up number sequence groups to allocate specific number sequences to specific customers or vendors.","pos":[1652,1827],"source":" For example, in **Accounts receivable** and **Accounts payable**, you can set up number sequence groups to allocate specific number sequences to specific customers or vendors."},{"content":"When you set up a number sequence, you must specify a scope, which defines which organization uses the number sequence.","pos":[1828,1947]},{"content":"The scope can be <bpt id=\"p1\">**</bpt>Shared<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Company<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Legal entity<ept id=\"p3\">**</ept>, or <bpt id=\"p4\">**</bpt>Operating unit<ept id=\"p4\">**</ept>.","pos":[1948,2030],"source":" The scope can be **Shared**, **Company**, **Legal entity**, or **Operating unit**."},{"content":"<bpt id=\"p1\">**</bpt>Legal entity<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Company<ept id=\"p2\">**</ept> scopes can be combined with <bpt id=\"p3\">**</bpt>Fiscal calendar period<ept id=\"p3\">**</ept> to create even more specific number sequences.","pos":[2031,2165],"source":"**Legal entity** and **Company** scopes can be combined with **Fiscal calendar period** to create even more specific number sequences."},{"content":"Number sequence formats consist of segments.","pos":[2166,2210]},{"content":"Number sequences with a scope other than <bpt id=\"p1\">**</bpt>Shared<ept id=\"p1\">**</ept> can contain segments that correspond to the scope.","pos":[2211,2313],"source":" Number sequences with a scope other than **Shared** can contain segments that correspond to the scope."},{"content":"For example, a number sequence with a scope of <bpt id=\"p1\">**</bpt>Legal entity<ept id=\"p1\">**</ept> can contain a legal entity segment.","pos":[2314,2413],"source":" For example, a number sequence with a scope of **Legal entity** can contain a legal entity segment."},{"content":"By including a scope segment in the number sequence format, you can identify the scope of a particular record by looking at its number.","pos":[2414,2549]},{"content":"In addition to segments that correspond to scopes, number sequence formats can contain <bpt id=\"p1\">**</bpt>Constant<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Alphanumeric segments<ept id=\"p2\">**</ept>.","pos":[2550,2680],"source":" In addition to segments that correspond to scopes, number sequence formats can contain **Constant** and **Alphanumeric segments**."},{"content":"A <bpt id=\"p1\">**</bpt>Constant<ept id=\"p1\">**</ept> segment contains a set of letters, numbers, or symbols that does not change.","pos":[2681,2772],"source":" A **Constant** segment contains a set of letters, numbers, or symbols that does not change."},{"content":"An <bpt id=\"p1\">**</bpt>Alphanumeric<ept id=\"p1\">**</ept> segment contains a set of letters or numbers that increment every time that a number is used.","pos":[2773,2886],"source":" An **Alphanumeric** segment contains a set of letters or numbers that increment every time that a number is used."},{"content":"Use a number sign (<ph id=\"ph1\">\\#</ph>) to represent incrementing numbers and an ampersand (&amp;) to represent incrementing letters.","pos":[2887,2999],"source":" Use a number sign (\\#) to represent incrementing numbers and an ampersand (&) to represent incrementing letters."},{"content":"For example, the format <ph id=\"ph1\">\\#</ph><ph id=\"ph2\">\\#</ph><ph id=\"ph3\">\\#</ph><ph id=\"ph4\">\\#</ph><ph id=\"ph5\">\\#</ph><ph id=\"ph6\">\\_</ph>2017 creates the sequence 00001<ph id=\"ph7\">\\_</ph>2017, 00002<ph id=\"ph8\">\\_</ph>2017, and so on.","pos":[3000,3098],"source":" For example, the format \\#\\#\\#\\#\\#\\_2017 creates the sequence 00001\\_2017, 00002\\_2017, and so on."},{"content":"Number sequence examples","pos":[3099,3123],"source":"\nNumber sequence examples"},{"content":"The following examples show how to use segments to create number sequence formats.","pos":[3150,3232]},{"content":"In particular, the examples demonstrate the effects of using scope segments.","pos":[3233,3309]},{"pos":[3314,3336],"content":"Expense report numbers","linkify":"Expense report numbers","nodes":[{"content":"Expense report numbers","pos":[0,22]}]},{"content":"In the following example, expense report numbers are set up for the legal entity that is titled <bpt id=\"p1\">**</bpt>CS<ept id=\"p1\">**</ept>.","pos":[3338,3441],"source":"In the following example, expense report numbers are set up for the legal entity that is titled **CS**."},{"content":"<bpt id=\"p1\">**</bpt>Area:<ept id=\"p1\">**</ept> Travel and expense <bpt id=\"p2\">**</bpt>Reference:<ept id=\"p2\">**</ept> Expense report number <bpt id=\"p3\">**</bpt>Scope:<ept id=\"p3\">**</ept> Legal entity <bpt id=\"p4\">**</bpt>Legal entity:<ept id=\"p4\">**</ept> CS","pos":[3442,3552],"source":"**Area:** Travel and expense **Reference:** Expense report number **Scope:** Legal entity **Legal entity:** CS"},{"content":"Segments","pos":[3555,3563]},{"content":"Segment type","pos":[3567,3579]},{"content":"Value","pos":[3582,3587]},{"content":"Segment 1","pos":[3637,3646]},{"content":"Legal entity","pos":[3649,3661]},{"content":"CS","pos":[3664,3666]},{"content":"Segment 2","pos":[3678,3687]},{"content":"Constant","pos":[3690,3698]},{"content":"-EXPENSE-","pos":[3705,3714]},{"content":"Segment 3","pos":[3719,3728]},{"content":"Alphanumeric","pos":[3731,3743]},{"content":"<bpt id=\"p1\">**</bpt>Example of formatted number<ept id=\"p1\">**</ept>: CS-EXPENSE-0039 You can set up a similar number sequence format for other legal entities.","pos":[3759,3881],"source":"**Example of formatted number**: CS-EXPENSE-0039 You can set up a similar number sequence format for other legal entities."},{"content":"For example, for a legal entity that is named <bpt id=\"p1\">**</bpt>RW<ept id=\"p1\">**</ept>, if you change only the value of the legal entity segment, the formatted number is RW-EXPENSE-0039.","pos":[3882,4034],"source":" For example, for a legal entity that is named **RW**, if you change only the value of the legal entity segment, the formatted number is RW-EXPENSE-0039."},{"content":"You can also change the whole number sequence format for other legal entities.","pos":[4035,4113]},{"content":"For example, you can omit the legal entity scope segment to create a formatted number such as Exp-0001.","pos":[4114,4217]},{"pos":[4223,4242],"content":"Sales order numbers","linkify":"Sales order numbers","nodes":[{"content":"Sales order numbers","pos":[0,19]}]},{"content":"In the following example, sales order numbers are set up for the company ID <bpt id=\"p1\">**</bpt>CEU<ept id=\"p1\">**</ept>.","pos":[4244,4328],"source":"In the following example, sales order numbers are set up for the company ID **CEU**."},{"content":"<bpt id=\"p1\">**</bpt>Area:<ept id=\"p1\">**</ept> Sales <bpt id=\"p2\">**</bpt>Reference:<ept id=\"p2\">**</ept> Sales order <bpt id=\"p3\">**</bpt>Scope:<ept id=\"p3\">**</ept> Company <bpt id=\"p4\">**</bpt>Company:<ept id=\"p4\">**</ept> CEU","pos":[4329,4407],"source":"**Area:** Sales **Reference:** Sales order **Scope:** Company **Company:** CEU"},{"content":"Segments","pos":[4410,4418]},{"content":"Segment type","pos":[4422,4434]},{"content":"Value","pos":[4437,4442]},{"content":"Segment 1","pos":[4490,4499]},{"content":"Constant","pos":[4502,4510]},{"content":"SO-","pos":[4517,4520]},{"content":"Segment 2","pos":[4530,4539]},{"content":"Alphanumeric","pos":[4542,4554]},{"content":"<bpt id=\"p1\">**</bpt>Example of formatted number<ept id=\"p1\">**</ept>: SO-0029 Even though a scope segment is not included in the format, numbering restarts for each company ID.","pos":[4569,4708],"source":"**Example of formatted number**: SO-0029 Even though a scope segment is not included in the format, numbering restarts for each company ID."},{"content":"If you use the same format for all company IDs, the same numbers are used in each company.","pos":[4709,4799]},{"content":"For example, sales order number SO-0029 is used in each company.","pos":[4800,4864]},{"content":"You can also change the whole number sequence format for other company IDs.","pos":[4865,4940]},{"pos":[4946,4974],"content":"Purchase requisition numbers","linkify":"Purchase requisition numbers","nodes":[{"content":"Purchase requisition numbers","pos":[0,28]}]},{"content":"In the following example, purchase requisition numbers are organization-wide.","pos":[4976,5053]},{"content":"<bpt id=\"p1\">**</bpt>Area:<ept id=\"p1\">**</ept> Purchase <bpt id=\"p2\">**</bpt>Reference:<ept id=\"p2\">**</ept> Purchase requisition <bpt id=\"p3\">**</bpt>Scope:<ept id=\"p3\">**</ept> Shared","pos":[5054,5126],"source":"**Area:** Purchase **Reference:** Purchase requisition **Scope:** Shared"},{"content":"Segments","pos":[5129,5137]},{"content":"Segment type","pos":[5141,5153]},{"content":"Value","pos":[5156,5161]},{"content":"Segment 1","pos":[5209,5218]},{"content":"Constant","pos":[5221,5229]},{"content":"Req","pos":[5236,5239]},{"content":"Segment 2","pos":[5249,5258]},{"content":"Alphanumeric","pos":[5261,5273]},{"content":"<bpt id=\"p1\">**</bpt>Example of formatted number<ept id=\"p1\">**</ept>: Req0052 Because the scope is <bpt id=\"p2\">**</bpt>Shared<ept id=\"p2\">**</ept>, the number sequence format is used across the organization.","pos":[5288,5421],"source":"**Example of formatted number**: Req0052 Because the scope is **Shared**, the number sequence format is used across the organization."},{"content":"You cannot set up different number sequence formats for different parts of the organization.","pos":[5422,5514]},{"content":"Performance considerations for number sequences","pos":[5515,5563],"source":" \nPerformance considerations for number sequences"},{"content":"Consider the following information about how the configuration of number sequences can affect system performance before you set up number sequences.","pos":[5613,5761]},{"pos":[5766,5812],"content":"Continuous and non-continuous number sequences","linkify":"Continuous and non-continuous number sequences","nodes":[{"content":"Continuous and non-continuous number sequences","pos":[0,46]}]},{"content":"Number sequences can be continuous or non-continuous.","pos":[5814,5867]},{"content":"A continuous number sequence does not skip any numbers, but numbers may not be used sequentially.","pos":[5868,5965]},{"content":"Numbers from a non-continuous number sequence are used sequentially, but the number sequence may skip numbers.","pos":[5966,6076]},{"content":"For example, if a user cancels a transaction, a number is generated, but not used.","pos":[6077,6159]},{"content":"In a continuous number sequence, that number is recycled later.","pos":[6160,6223]},{"content":"In a non-continuous number sequence, the number is not used.","pos":[6224,6284]},{"content":"Continuous number sequences are typically required for external documents, such as purchase orders, sales orders, and invoices.","pos":[6285,6412]},{"content":"However, continuous number sequences can adversely affect system response times because the system must request a number from the database every time that a new document or record is created.","pos":[6413,6604]},{"content":"If you use a non-continuous number sequence, you can enable <bpt id=\"p1\">**</bpt>Preallocation<ept id=\"p1\">**</ept> on the <bpt id=\"p2\">**</bpt>Performance<ept id=\"p2\">**</ept> FastTab of the <bpt id=\"p3\">**</bpt>Number sequences<ept id=\"p3\">**</ept> page.","pos":[6605,6747],"source":" If you use a non-continuous number sequence, you can enable **Preallocation** on the **Performance** FastTab of the **Number sequences** page."},{"content":"When you specify a quantity of numbers to preallocate, the system selects those numbers and stores them in memory.","pos":[6748,6862]},{"content":"New numbers are requested from the database only after the preallocated quantity has been used.","pos":[6863,6958]},{"content":"Unless there is a regulatory requirement that you use continuous number sequences, we recommend that you use non-continuous number sequences for better performance.","pos":[6959,7123]},{"pos":[7129,7166],"content":"Automatic cleanup of number sequences","linkify":"Automatic cleanup of number sequences","nodes":[{"content":"Automatic cleanup of number sequences","pos":[0,37]}]},{"content":"In case of a power failure, an application error, or other unexpected failure, the system cannot recycle numbers automatically for continuous number sequences.","pos":[7168,7327]},{"content":"You can run the cleanup process manually or automatically to recover the lost numbers.","pos":[7328,7414]},{"content":"Carefully consider server usage when you plan the cleanup process.","pos":[7415,7481]},{"content":"We recommend that you perform the cleanup as a batch job during non-peak hours.","pos":[7482,7561]}]}