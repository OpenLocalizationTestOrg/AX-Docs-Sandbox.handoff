{"content":"---\n# required metadata\n\ntitle: Manage third-party models and runtime packages using source control\ndescription: This topic outlines a recommended strategy for managing, distributing, and deploying third-party solutions.\nauthor: jorisdg\nmanager: AnnBe\nms.date: 05/25/2017\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# ms.search.form: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: robinr\nms.search.scope: AX 7.0.0, Operations\n# ms.tgt_pltfrm: \nms.custom: 26731\nms.assetid:\nms.search.region: Global\n# ms.search.industry: \nms.author: jorisde\nms.search.validFrom: 2017-02-28\nms.dyn365.ops.version: AX 7.0.0\n\n---\n\n# Manage third-party models and runtime packages by using source control\nCustomers that work with solutions from third parties might receive different solution artifacts to use in their solution. Typically, these artifacts are distributed as code (in the form of models) or binaries (in the form of deployable packages). In some cases, third parties might provide some parts of their solution as code and other parts as a binary.\n\nThis topic outlines a recommended strategy for managing, distributing, and deploying these third-party solutions.\n\n## Models from third parties\nAny source code that is received from third parties must be compiled into a binary and included in a deployable package. Models should be installed on a development virtual machine (VM) and added to source control. From there, the build VM can pick up the source code, build it, and include it in a deployable package. Other developers can just synchronize the model from Microsoft Visual Studio Team Services (VSTS) to their development VMs. They don't have to manually install it.\n\nFor information about how to install a model on a development VM, see [Export and import a model](models-export-import.md).\n\nAfter you install the model, follow these steps to add the new model to source control.\n\n1. In Microsoft Visual Studio, on the **Dynamics 365** menu, click **Model Management** > **Refresh Models**.\n2. Open Application Explorer by clicking **View** > **Application Explorer**.\n3. Right-click the **AOT** root node, and then click **Model view**.\n4. In the list of models, find the new model that you installed. Make a note of the name of the package that contains the model. The package name appears in parentheses after the model name. For example, in the following illustration, the **Tax Books**, **Tax Engine Configuration**, and **Tax Engine Interface** models all belong to the package that is named **TaxEngine**.\n\n    ![Package name for each model](media/appexplorer_modelpackagename.png)\n\n5. Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**.\n6. Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**.\n7. In the metadata folder, find the folder for the package that contains the new model. Right-click the package folder, and then click **Add Items to Folder**.\n9. In the **Add to Source Control** dialog box, select the **Descriptor** folder and the folder that has the name of the model, and then click **Next**.\n10. Review the items that will be added, and then, when you're ready, click **Finish**.\n11. Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**.\n12. Review the changes, enter a check-in comment, and then click **Check In**.\n\n## Deployable packages from third parties\nDeployable packages from third parties can be manually installed on a development VM, and the installed artifacts can then be added to source control. Then, by synchronizing their local workspace, other developers can receive the runtime package on their VMs without having to install the deployable package. The build process on the build VM will help guarantee that the runtime packages for any extensions or other dependencies are available on the build VM. In Platform update 6 and later, by default, these runtime packages will be included in the final deployable package that is created from the build VM. For more information, see the  [Deploying third-party code](#deploying-third-party-code) section later in this topic.\n\nFor information about how to install a deployable package on a development VM, see [Install a deployable package](install-deployable-package.md).\n\n> [!NOTE]\n> Don't install a software deployable package directly on the build VM. Use source control as described in this topic. Only binary updates should be installed on build VMs.\n\nAfter you install the deployable package on a development VM, follow these steps to add the runtime package to source control.\n\n1. Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**.\n2. Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**.\n3. Right-click the **Metadata** folder, and then click **Add Items to Folder**.\n4. In the **Add to Source Control** dialog box, double-click the folder that has the package name that you want to add to source control.\n5. Select all the folders except **XppMetadata** and **Descriptor**, if they exist, and then click **Next**.\n6. On the next page, on the **Excluded items** tab, select all files by clicking one of the files and then pressing Ctrl+A. At the bottom of the selection window, click **Include item(s)**. When you're ready, click **Finish**.\n7. Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**.\n8. Review the changes, enter a check-in comment, and then click **Check In**.\n\n## Deploying third-party code\nBecause the models and runtime packages are in source control, other developers who use other development environments can just synchronize the models and packages to their workspace by using the **Get latest** feature of source control.\n\nAs of Platform update 4, the automated build process will also pick up the runtime packages. Therefore, dependencies in packages that are built will be resolved correctly. This feature is also available for Platform update 3 and Platform update 2 through a hotfix.\n\nIn Platform update 6, the build process will include this runtime package in the final deployable package. This allows customers to take the deployable package from the build and have one package to deploy to their environments. The one package includes both custom solutions and all the third party solutions.\n","nodes":[{"pos":[32,99],"content":"Manage third-party models and runtime packages using source control","needQuote":true,"needEscape":true,"nodes":[{"content":"Manage third-party models and runtime packages using source control","pos":[0,67]}]},{"pos":[113,220],"content":"This topic outlines a recommended strategy for managing, distributing, and deploying third-party solutions.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic outlines a recommended strategy for managing, distributing, and deploying third-party solutions.","pos":[0,107]}]},{"pos":[681,751],"content":"Manage third-party models and runtime packages by using source control","linkify":"Manage third-party models and runtime packages by using source control","nodes":[{"content":"Manage third-party models and runtime packages by using source control","pos":[0,70]}]},{"content":"Customers that work with solutions from third parties might receive different solution artifacts to use in their solution.","pos":[752,874]},{"content":"Typically, these artifacts are distributed as code (in the form of models) or binaries (in the form of deployable packages).","pos":[875,999]},{"content":"In some cases, third parties might provide some parts of their solution as code and other parts as a binary.","pos":[1000,1108]},{"content":"This topic outlines a recommended strategy for managing, distributing, and deploying these third-party solutions.","pos":[1110,1223]},{"pos":[1228,1253],"content":"Models from third parties","linkify":"Models from third parties","nodes":[{"content":"Models from third parties","pos":[0,25]}]},{"content":"Any source code that is received from third parties must be compiled into a binary and included in a deployable package.","pos":[1254,1374]},{"content":"Models should be installed on a development virtual machine (VM) and added to source control.","pos":[1375,1468]},{"content":"From there, the build VM can pick up the source code, build it, and include it in a deployable package.","pos":[1469,1572]},{"content":"Other developers can just synchronize the model from Microsoft Visual Studio Team Services (VSTS) to their development VMs.","pos":[1573,1696]},{"content":"They don't have to manually install it.","pos":[1697,1736]},{"pos":[1738,1861],"content":"For information about how to install a model on a development VM, see <bpt id=\"p1\">[</bpt>Export and import a model<ept id=\"p1\">](models-export-import.md)</ept>.","source":"For information about how to install a model on a development VM, see [Export and import a model](models-export-import.md)."},{"content":"After you install the model, follow these steps to add the new model to source control.","pos":[1863,1950]},{"pos":[1955,2061],"content":"In Microsoft Visual Studio, on the <bpt id=\"p1\">**</bpt>Dynamics 365<ept id=\"p1\">**</ept> menu, click <bpt id=\"p2\">**</bpt>Model Management<ept id=\"p2\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p3\">**</bpt>Refresh Models<ept id=\"p3\">**</ept>.","source":"In Microsoft Visual Studio, on the **Dynamics 365** menu, click **Model Management** > **Refresh Models**."},{"pos":[2065,2139],"content":"Open Application Explorer by clicking <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Application Explorer<ept id=\"p2\">**</ept>.","source":"Open Application Explorer by clicking **View** > **Application Explorer**."},{"pos":[2143,2208],"content":"Right-click the <bpt id=\"p1\">**</bpt>AOT<ept id=\"p1\">**</ept> root node, and then click <bpt id=\"p2\">**</bpt>Model view<ept id=\"p2\">**</ept>.","source":"Right-click the **AOT** root node, and then click **Model view**."},{"content":"In the list of models, find the new model that you installed.","pos":[2212,2273]},{"content":"Make a note of the name of the package that contains the model.","pos":[2274,2337]},{"content":"The package name appears in parentheses after the model name.","pos":[2338,2399]},{"content":"For example, in the following illustration, the <bpt id=\"p1\">**</bpt>Tax Books<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>Tax Engine Configuration<ept id=\"p2\">**</ept>, and <bpt id=\"p3\">**</bpt>Tax Engine Interface<ept id=\"p3\">**</ept> models all belong to the package that is named <bpt id=\"p4\">**</bpt>TaxEngine<ept id=\"p4\">**</ept>.","pos":[2400,2583],"source":" For example, in the following illustration, the **Tax Books**, **Tax Engine Configuration**, and **Tax Engine Interface** models all belong to the package that is named **TaxEngine**."},{"content":"Package name for each model","pos":[2591,2618]},{"pos":[2664,2764],"content":"Open Source Control Explorer by clicking <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Other Windows<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Source Control Explorer<ept id=\"p3\">**</ept>.","source":"Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**."},{"pos":[2768,2881],"content":"Navigate to the metadata folder that is mapped on this development VM, such as <bpt id=\"p1\">**</bpt>MyProject/Trunk/Main/Metadata<ept id=\"p1\">**</ept>.","source":"Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**."},{"content":"In the metadata folder, find the folder for the package that contains the new model.","pos":[2885,2969]},{"content":"Right-click the package folder, and then click <bpt id=\"p1\">**</bpt>Add Items to Folder<ept id=\"p1\">**</ept>.","pos":[2970,3041],"source":" Right-click the package folder, and then click **Add Items to Folder**."},{"pos":[3045,3194],"content":"In the <bpt id=\"p1\">**</bpt>Add to Source Control<ept id=\"p1\">**</ept> dialog box, select the <bpt id=\"p2\">**</bpt>Descriptor<ept id=\"p2\">**</ept> folder and the folder that has the name of the model, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.","source":"In the **Add to Source Control** dialog box, select the **Descriptor** folder and the folder that has the name of the model, and then click **Next**."},{"pos":[3199,3282],"content":"Review the items that will be added, and then, when you're ready, click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.","source":"Review the items that will be added, and then, when you're ready, click **Finish**."},{"pos":[3287,3421],"content":"Open the <bpt id=\"p1\">**</bpt>Pending Changes<ept id=\"p1\">**</ept> window from the <bpt id=\"p2\">**</bpt>Team Explorer<ept id=\"p2\">**</ept> pane or by clicking <bpt id=\"p3\">**</bpt>View<ept id=\"p3\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p4\">**</bpt>Other Windows<ept id=\"p4\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p5\">**</bpt>Pending Changes<ept id=\"p5\">**</ept>.","source":"Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**."},{"pos":[3426,3500],"content":"Review the changes, enter a check-in comment, and then click <bpt id=\"p1\">**</bpt>Check In<ept id=\"p1\">**</ept>.","source":"Review the changes, enter a check-in comment, and then click **Check In**."},{"pos":[3505,3543],"content":"Deployable packages from third parties","linkify":"Deployable packages from third parties","nodes":[{"content":"Deployable packages from third parties","pos":[0,38]}]},{"content":"Deployable packages from third parties can be manually installed on a development VM, and the installed artifacts can then be added to source control.","pos":[3544,3694]},{"content":"Then, by synchronizing their local workspace, other developers can receive the runtime package on their VMs without having to install the deployable package.","pos":[3695,3852]},{"content":"The build process on the build VM will help guarantee that the runtime packages for any extensions or other dependencies are available on the build VM.","pos":[3853,4004]},{"content":"In Platform update 6 and later, by default, these runtime packages will be included in the final deployable package that is created from the build VM.","pos":[4005,4155]},{"content":"For more information, see the  <bpt id=\"p1\">[</bpt>Deploying third-party code<ept id=\"p1\">](#deploying-third-party-code)</ept> section later in this topic.","pos":[4156,4273],"source":" For more information, see the  [Deploying third-party code](#deploying-third-party-code) section later in this topic."},{"pos":[4275,4420],"content":"For information about how to install a deployable package on a development VM, see <bpt id=\"p1\">[</bpt>Install a deployable package<ept id=\"p1\">](install-deployable-package.md)</ept>.","source":"For information about how to install a deployable package on a development VM, see [Install a deployable package](install-deployable-package.md)."},{"pos":[4424,4604],"content":"[!NOTE]\nDon't install a software deployable package directly on the build VM. Use source control as described in this topic. Only binary updates should be installed on build VMs.","leadings":["","> "],"nodes":[{"content":"Don't install a software deployable package directly on the build VM. Use source control as described in this topic. Only binary updates should be installed on build VMs.","pos":[8,178],"nodes":[{"content":"Don't install a software deployable package directly on the build VM.","pos":[0,69]},{"content":"Use source control as described in this topic.","pos":[70,116]},{"content":"Only binary updates should be installed on build VMs.","pos":[117,170]}]}]},{"content":"After you install the deployable package on a development VM, follow these steps to add the runtime package to source control.","pos":[4606,4732]},{"pos":[4737,4837],"content":"Open Source Control Explorer by clicking <bpt id=\"p1\">**</bpt>View<ept id=\"p1\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p2\">**</bpt>Other Windows<ept id=\"p2\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p3\">**</bpt>Source Control Explorer<ept id=\"p3\">**</ept>.","source":"Open Source Control Explorer by clicking **View** > **Other Windows** > **Source Control Explorer**."},{"pos":[4841,4954],"content":"Navigate to the metadata folder that is mapped on this development VM, such as <bpt id=\"p1\">**</bpt>MyProject/Trunk/Main/Metadata<ept id=\"p1\">**</ept>.","source":"Navigate to the metadata folder that is mapped on this development VM, such as **MyProject/Trunk/Main/Metadata**."},{"pos":[4958,5034],"content":"Right-click the <bpt id=\"p1\">**</bpt>Metadata<ept id=\"p1\">**</ept> folder, and then click <bpt id=\"p2\">**</bpt>Add Items to Folder<ept id=\"p2\">**</ept>.","source":"Right-click the **Metadata** folder, and then click **Add Items to Folder**."},{"pos":[5038,5172],"content":"In the <bpt id=\"p1\">**</bpt>Add to Source Control<ept id=\"p1\">**</ept> dialog box, double-click the folder that has the package name that you want to add to source control.","source":"In the **Add to Source Control** dialog box, double-click the folder that has the package name that you want to add to source control."},{"pos":[5176,5281],"content":"Select all the folders except <bpt id=\"p1\">**</bpt>XppMetadata<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Descriptor<ept id=\"p2\">**</ept>, if they exist, and then click <bpt id=\"p3\">**</bpt>Next<ept id=\"p3\">**</ept>.","source":"Select all the folders except **XppMetadata** and **Descriptor**, if they exist, and then click **Next**."},{"content":"On the next page, on the <bpt id=\"p1\">**</bpt>Excluded items<ept id=\"p1\">**</ept> tab, select all files by clicking one of the files and then pressing Ctrl+A.","pos":[5285,5405],"source":"On the next page, on the **Excluded items** tab, select all files by clicking one of the files and then pressing Ctrl+A."},{"content":"At the bottom of the selection window, click <bpt id=\"p1\">**</bpt>Include item(s)<ept id=\"p1\">**</ept>.","pos":[5406,5471],"source":" At the bottom of the selection window, click **Include item(s)**."},{"content":"When you're ready, click <bpt id=\"p1\">**</bpt>Finish<ept id=\"p1\">**</ept>.","pos":[5472,5508],"source":" When you're ready, click **Finish**."},{"pos":[5512,5646],"content":"Open the <bpt id=\"p1\">**</bpt>Pending Changes<ept id=\"p1\">**</ept> window from the <bpt id=\"p2\">**</bpt>Team Explorer<ept id=\"p2\">**</ept> pane or by clicking <bpt id=\"p3\">**</bpt>View<ept id=\"p3\">**</ept><ph id=\"ph1\"> &gt; </ph><bpt id=\"p4\">**</bpt>Other Windows<ept id=\"p4\">**</ept><ph id=\"ph2\"> &gt; </ph><bpt id=\"p5\">**</bpt>Pending Changes<ept id=\"p5\">**</ept>.","source":"Open the **Pending Changes** window from the **Team Explorer** pane or by clicking **View** > **Other Windows** > **Pending Changes**."},{"pos":[5650,5724],"content":"Review the changes, enter a check-in comment, and then click <bpt id=\"p1\">**</bpt>Check In<ept id=\"p1\">**</ept>.","source":"Review the changes, enter a check-in comment, and then click **Check In**."},{"pos":[5729,5755],"content":"Deploying third-party code","linkify":"Deploying third-party code","nodes":[{"content":"Deploying third-party code","pos":[0,26]}]},{"pos":[5756,5993],"content":"Because the models and runtime packages are in source control, other developers who use other development environments can just synchronize the models and packages to their workspace by using the <bpt id=\"p1\">**</bpt>Get latest<ept id=\"p1\">**</ept> feature of source control.","source":"Because the models and runtime packages are in source control, other developers who use other development environments can just synchronize the models and packages to their workspace by using the **Get latest** feature of source control."},{"content":"As of Platform update 4, the automated build process will also pick up the runtime packages.","pos":[5995,6087]},{"content":"Therefore, dependencies in packages that are built will be resolved correctly.","pos":[6088,6166]},{"content":"This feature is also available for Platform update 3 and Platform update 2 through a hotfix.","pos":[6167,6259]},{"content":"In Platform update 6, the build process will include this runtime package in the final deployable package.","pos":[6261,6367]},{"content":"This allows customers to take the deployable package from the build and have one package to deploy to their environments.","pos":[6368,6489]},{"content":"The one package includes both custom solutions and all the third party solutions.","pos":[6490,6571]}]}