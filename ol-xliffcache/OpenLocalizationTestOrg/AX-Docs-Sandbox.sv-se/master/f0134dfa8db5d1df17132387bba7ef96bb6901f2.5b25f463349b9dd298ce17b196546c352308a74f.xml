{"nodes":[{"pos":[32,85],"content":"Data entities and packages framework | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Data entities and packages framework | Microsoft Docs","pos":[0,53]}]},{"pos":[99,223],"content":"This topic provides information about using data entities and data entity packages in Microsoft Dynamics 365 for Operations.","needQuote":true,"needEscape":true,"nodes":[{"content":"This topic provides information about using data entities and data entity packages in Microsoft Dynamics 365 for Operations.","pos":[0,124]}]},{"pos":[647,683],"content":"Data entities and packages framework","linkify":"Data entities and packages framework","nodes":[{"content":"Data entities and packages framework","pos":[0,36]}]},{"content":"This topic provides information about using data entities and data entity packages in Microsoft Dynamics 365 for Operations.","pos":[685,809]},{"pos":[812,825],"content":"Data entities","linkify":"Data entities","nodes":[{"content":"Data entities","pos":[0,13]}]},{"content":"Data entities provide conceptual abstraction and encapsulation of underlying table schema that represent data concepts and functionalities.","pos":[841,980]},{"content":"In Microsoft Dynamics AX 2012, most tables, like the Customer and Vendor tables, were de-normalized and split into multiple tables.","pos":[981,1112]},{"content":"This was beneficial from a database design point of view, but made it difficult for implementers and ISV’s to use without a thorough understanding of the physical schema.","pos":[1113,1283]},{"content":"Data entities were introduced as part of data management to be used as a layer of abstraction to easily understand by using business concepts.","pos":[1284,1426]},{"content":"In previous versions of Dynamics AX, there were multiple ways to manage data, such as Microsoft Excel Add-ins, AIF, and DIXF.","pos":[1427,1552]},{"content":"The concept of data entities combines those different concepts into one.","pos":[1553,1625]},{"content":"After data entities are created, you should be able to reuse them for an Excel Add-ins, import/export, or integration.","pos":[1626,1744]},{"content":"The following table shows core data management scenarios.","pos":[1745,1802]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Data Migration<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[1904,1935],"source":"<strong>Data Migration</strong>"},{"content":"Migrate reference, master, and document data from legacy or external systems.","pos":[1954,2031]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Setup and copy configuration<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[2076,2121],"source":"<strong>Setup and copy configuration</strong>"},{"content":"Copy configuration between company/environments.","pos":[2140,2188]},{"content":"Configure processes or modules using the Lifecycle Services (LCS) environment.","pos":[2198,2276]},{"content":"<bpt id=\"p1\">&lt;strong&gt;</bpt>Integration<ept id=\"p1\">&lt;/strong&gt;</ept>","pos":[2320,2348],"source":"<strong>Integration</strong>"},{"content":"Real-time service based integration.","pos":[2367,2403]},{"content":"Asynchronous integration.","pos":[2413,2438]},{"pos":[2483,2497],"content":"Data migration","linkify":"Data migration","nodes":[{"content":"Data migration","pos":[0,14]}]},{"content":"The following pain points can occur during migration:","pos":[2498,2551]},{"content":"Inability to quickly do iterative migration and validations.","pos":[2557,2617]},{"content":"Multiple hops that lead to multiple dependencies and change of errors.","pos":[2622,2692]},{"content":"Complexity due to repeated manual interventions.","pos":[2697,2745]},{"content":"Difficulty in tracing and error troubleshooting.","pos":[2750,2798]},{"content":"Difficulty migrating a large volume of data within a time constraint.","pos":[2803,2872]},{"content":"During migration, you can strategize and choose data entities.","pos":[2877,2939]},{"content":"Data entities also save time during implementation because previous activities required data export from a database, data export validation, and data transformation to files such as Excel or XML.","pos":[2940,3135]},{"content":"In the current version Dynamics 365 for Operations, these hops have been eliminated.","pos":[3136,3220]},{"content":"If an import error occurs, you can skip selected records and choose to proceed with the import using the good data, opting to then fix and import the bad data later.","pos":[3221,3386]},{"content":"You will be allowed to partially continue and bad data will be indicated by using errors.","pos":[3387,3476]},{"content":"Data imports can be easily scheduled using a batch, which offers flexibility when it is required to run.","pos":[3477,3581]},{"content":"For example, you can migrate customer groups, customers, vendors, and other data entities in the system at any time.","pos":[3582,3698]},{"pos":[3703,3732],"content":"Set up and copy configuration","linkify":"Set up and copy configuration","nodes":[{"content":"Set up and copy configuration","pos":[0,29]}]},{"content":"Starting a new implementation can be difficult because the knowledge of the data that needs to be entered can sometimes be limited.","pos":[3733,3864]},{"content":"Data must be entered by module, or it must be configured using business processes.","pos":[3865,3947]},{"content":"It is even more difficult to determine data dependencies and how the data sequencing should be configured in the implementation.","pos":[3948,4076]},{"content":"Re-usability is also a factor as to where and how data can be used across environments.","pos":[4077,4164]},{"content":"These pain points are addressed in the current version of Dynamics 365 for Operations.","pos":[4165,4251]},{"content":"Movement of data becomes easier as it moves from test to staging to production environments.","pos":[4252,4344]},{"content":"Movement of data can occur in any order.","pos":[4345,4385]},{"content":"This is not a movement of the entire database but rather, only the data entities that you have chosen.","pos":[4386,4488]},{"content":"The migration with the new version of Dynamics 365 for Operations allows:","pos":[4489,4562]},{"content":"Moving data between two similar Dynamics 365 for Operations systems.","pos":[4568,4636]},{"content":"Discovering setup entities and any dependency between each entity for a given process or module.","pos":[4641,4737]},{"content":"Maintaining a reusable library of data templates and datasets.","pos":[4742,4804]},{"content":"Data packages is a new concept that allows you to build incremental data entities.","pos":[4809,4891]},{"content":"Data entities can be sequenced inside the packages.","pos":[4892,4943]},{"content":"You can name data packages, which can be easily identifiable during import or export.","pos":[4944,5029]},{"content":"When building data packages, data entities can be mapped on staging tables in a tabular format or by using available visual representation in data management.","pos":[5030,5188]},{"content":"You can also drag-and-drop columns manually, depending on the mapping that you want for an entity.","pos":[5189,5287]},{"content":"During import, data can easily be viewed using data management enabling data comparison.","pos":[5288,5376]},{"pos":[5381,5405],"content":"Data management concepts","linkify":"Data management concepts","nodes":[{"content":"Data management concepts","pos":[0,24]}]},{"content":"The following terms are introduced in current version of Dynamics 365 for Operations.","pos":[5406,5491]},{"content":"Take time to learn these terms, as they will be used in other sections of this document.","pos":[5492,5580]},{"pos":[5996,6012],"content":"<bpt id=\"p1\">**</bpt>Data project<ept id=\"p1\">**</ept>","source":"**Data project**"},{"content":"A project that contains configured data entities, which include mapping and default processing options.","pos":[6015,6118]},{"pos":[6202,6214],"content":"<bpt id=\"p1\">**</bpt>Data job<ept id=\"p1\">**</ept>","source":"**Data job**"},{"content":"A job that contains an execution instance of the data project, uploaded files, schedule (recurrence), and processing options.","pos":[6221,6346]},{"pos":[6408,6423],"content":"<bpt id=\"p1\">**</bpt>Job history<ept id=\"p1\">**</ept>","source":"**Job history**"},{"content":"Histories of source to staging and staging to target.","pos":[6427,6480]},{"pos":[6614,6630],"content":"<bpt id=\"p1\">**</bpt>Data package<ept id=\"p1\">**</ept>","source":"**Data package**"},{"content":"A single compressed file that contains a data project manifest and/or data files.","pos":[6633,6714]},{"content":"This is generated from a data job and used for import or export of multiple files with the manifest.","pos":[6715,6815]},{"pos":[6822,6841],"content":"Using data entities","linkify":"Using data entities","nodes":[{"content":"Using data entities","pos":[0,19]}]},{"content":"The following sections provide quick snapshots of the different functionalities of data management using data entities.","pos":[6842,6961]},{"content":"The goal is to help to you strategize and make effective decisions on how to best utilize the available tools during data migration.","pos":[6962,7094]},{"content":"You will also find tips and tricks on how to effectively use each area during data migration.","pos":[7095,7188]},{"content":"A list of available data entities for each area can also be found with the suggested data sequences, showing data dependencies within Dynamics 365 for Operations.","pos":[7189,7351]},{"content":"Microsoft provides data packages that can be found on Lifecycle Services (LCS) as an initial guide.","pos":[7352,7451]},{"content":"The information in this document can be used as a guide for creating your own packages.","pos":[7452,7539]},{"content":"The description of each data entity shows what the object contains and if it is needed during data migration.","pos":[7540,7649]},{"pos":[7654,7664],"content":"Sequencing","linkify":"Sequencing","nodes":[{"content":"Sequencing","pos":[0,10]}]},{"content":"There are two types of sequencing that should be considered when working with data entities.","pos":[7665,7757]},{"content":"Sequencing data entities within the data packages.","pos":[7763,7813]},{"content":"Sequencing for the order of importing the data packages.","pos":[7818,7874]},{"pos":[7876,7929],"content":"<bpt id=\"p1\">**</bpt>Sequencing data entities within the Data Packages<ept id=\"p1\">**</ept>","source":"**Sequencing data entities within the Data Packages**"},{"content":"When a user adds data entities to a data project, by default, a sequence is set for the order in which the entities will load.","pos":[7935,8061]},{"content":"The first entity added to the project will be set as the first entity to load, the next entity added will be second, the next entity will be third, and so on.","pos":[8062,8220]},{"content":"For example, if a user added two entities in this order, <bpt id=\"p1\">**</bpt>Sales tax codes<ept id=\"p1\">**</ept> and <bpt id=\"p2\">**</bpt>Sales Tax groups<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>Sales tax codes<ept id=\"p3\">**</ept> is assigned an entity sequence of <bpt id=\"p4\">**</bpt>1.1.1<ept id=\"p4\">**</ept>, and <bpt id=\"p5\">**</bpt>Sales tax groups<ept id=\"p5\">**</ept> is assigned an entity sequence of <bpt id=\"p6\">**</bpt>1.1.2<ept id=\"p6\">**</ept>.","pos":[8221,8458],"source":" For example, if a user added two entities in this order, **Sales tax codes** and **Sales Tax groups**, **Sales tax codes** is assigned an entity sequence of **1.1.1**, and **Sales tax groups** is assigned an entity sequence of **1.1.2**."},{"content":"The sequence level indicates that the second entity will not start the import process until the first level has completed.","pos":[8459,8581]},{"content":"To view or edit the sequence, click the <bpt id=\"p1\">**</bpt>Entity sequence<ept id=\"p1\">**</ept> button on the Action Pane of the data project.","pos":[8586,8692],"source":"To view or edit the sequence, click the **Entity sequence** button on the Action Pane of the data project."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages01<ept id=\"p1\">](./media/dataentitiesdatapackages01.png)](./media/dataentitiesdatapackages01.png)</ept>","pos":[8693,8804],"source":"[![DataEntitiesDataPackages01](./media/dataentitiesdatapackages01.png)](./media/dataentitiesdatapackages01.png)"},{"content":"In the definition group entity sequence, you can see the execution units and the sequence.","pos":[8809,8899]},{"content":"The sequence can be changed by selecting the data entity in the list, setting a different Execution unit or Sequence in level, and then clicking <bpt id=\"p1\">**</bpt>Update selected<ept id=\"p1\">**</ept>.","pos":[8904,9069],"source":"The sequence can be changed by selecting the data entity in the list, setting a different Execution unit or Sequence in level, and then clicking **Update selected**."},{"content":"After clicking <bpt id=\"p1\">**</bpt>Update selected<ept id=\"p1\">**</ept>, the entity will be moved up or down in the entity list.","pos":[9070,9161],"source":" After clicking **Update selected**, the entity will be moved up or down in the entity list."},{"content":"To further illustrate, the following screenshot shows the entity sequence that is set for the Sales Tax CodeGroups data package.","pos":[9163,9291]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages02<ept id=\"p1\">](./media/dataentitiesdatapackages02.png)](./media/dataentitiesdatapackages02.png)</ept>In order to successfully import sales tax codes and groups, the sales tax codes and details have to be loaded first, before sales tax groups can be imported.","pos":[9292,9560],"source":"[![DataEntitiesDataPackages02](./media/dataentitiesdatapackages02.png)](./media/dataentitiesdatapackages02.png)In order to successfully import sales tax codes and groups, the sales tax codes and details have to be loaded first, before sales tax groups can be imported."},{"content":"Sales tax codes and groups are all in Execution unit = 1, but the sequences are in the order that they will be imported.","pos":[9561,9681]},{"content":"Other related sales tax entities that are not dependent upon other data entities being loaded are included in the package.","pos":[9682,9804]},{"content":"For example, sales tax exempt numbers, is set in its own Execution unit = 2.","pos":[9805,9881]},{"content":"This data entity will start loading immediately because there are no dependencies on other entities loading before it.","pos":[9882,10000]},{"content":"<bpt id=\"p1\">**</bpt>Sequencing of the data packages<ept id=\"p1\">**</ept> In order to successfully load data, the order of loading the data packages is important because of dependencies that exist within and across modules in Dynamics 365 for Operations.","pos":[10001,10217],"source":"**Sequencing of the data packages** In order to successfully load data, the order of loading the data packages is important because of dependencies that exist within and across modules in Dynamics 365 for Operations."},{"content":"The numbering format that has been created for the data packages within LCS are as follows:","pos":[10218,10309]},{"content":"First segment = Modulearea","pos":[10315,10341]},{"content":"Second segment = Data type (SetupMasterTransaction)","pos":[10346,10397]},{"content":"Third sequence = Sequence number","pos":[10402,10434]},{"content":"The following tables provide more information about the different kinds of numbering.","pos":[10436,10521]},{"content":"<bpt id=\"p1\">**</bpt>ModuleArea numbering<ept id=\"p1\">**</ept><bpt id=\"p2\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages03<ept id=\"p2\">](./media/dataentitiesdatapackages03.png)](./media/dataentitiesdatapackages03.png)</ept><bpt id=\"p3\">**</bpt>Data type numbering<ept id=\"p3\">**</ept> <bpt id=\"p4\">[</bpt><ph id=\"ph2\">![</ph>DataEntitiesDataPackages04<ept id=\"p4\">](./media/dataentitiesdatapackages04.png)](./media/dataentitiesdatapackages04.png)</ept><bpt id=\"p5\">**</bpt>Numbering format<ept id=\"p5\">**</ept> <bpt id=\"p6\">[</bpt><ph id=\"ph3\">![</ph>DataEntitiesDataPackages05<ept id=\"p6\">](./media/dataentitiesdatapackages05.png)](./media/dataentitiesdatapackages05.png)</ept> The data packages will have the numbering format, followed by the module abbreviation, and description.","pos":[10522,11028],"source":"**ModuleArea numbering**[![DataEntitiesDataPackages03](./media/dataentitiesdatapackages03.png)](./media/dataentitiesdatapackages03.png)**Data type numbering** [![DataEntitiesDataPackages04](./media/dataentitiesdatapackages04.png)](./media/dataentitiesdatapackages04.png)**Numbering format** [![DataEntitiesDataPackages05](./media/dataentitiesdatapackages05.png)](./media/dataentitiesdatapackages05.png) The data packages will have the numbering format, followed by the module abbreviation, and description."},{"content":"The following example shows General ledger data packages.","pos":[11029,11086]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages06<ept id=\"p1\">](./media/dataentitiesdatapackages06.png)](./media/dataentitiesdatapackages06.png)</ept>","pos":[11087,11198],"source":"[![DataEntitiesDataPackages06](./media/dataentitiesdatapackages06.png)](./media/dataentitiesdatapackages06.png)"},{"pos":[11203,11210],"content":"Mapping","linkify":"Mapping","nodes":[{"content":"Mapping","pos":[0,7]}]},{"content":"When working with data entities, the mapping of the entity to the source is automatic.","pos":[11211,11297]},{"content":"This mapping of fields can be overridden if needed.","pos":[11298,11349]},{"content":"To view the mapping, locate the tile for the entity in the project, and then click <bpt id=\"p1\">**</bpt>View map<ept id=\"p1\">**</ept>.","pos":[11350,11446],"source":" To view the mapping, locate the tile for the entity in the project, and then click **View map**."},{"content":"When viewing the mapping there are two views: mapping visualization (default view) or mapping details.","pos":[11447,11549]},{"content":"A red asterisk (<ph id=\"ph1\">\\*</ph>) will identify any required fields in the entity.","pos":[11550,11618],"source":" A red asterisk (\\*) will identify any required fields in the entity."},{"content":"These fields need to be mapped in order to work with the entity.","pos":[11619,11683]},{"content":"Other fields can be unmapped as required when working with the entity.","pos":[11684,11754]},{"content":"To unmap a field, highlight the field in either column (<bpt id=\"p1\">**</bpt>Entity<ept id=\"p1\">**</ept> or <bpt id=\"p2\">**</bpt>Source<ept id=\"p2\">**</ept>), and then click <bpt id=\"p3\">**</bpt>Delete selection<ept id=\"p3\">**</ept>.","pos":[11755,11874],"source":" To unmap a field, highlight the field in either column (**Entity** or **Source**), and then click **Delete selection**."},{"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> to save your changes.","pos":[11875,11911],"source":" Click **Save** to save your changes."},{"content":"After saving, close the form to return to the project.","pos":[11912,11966]},{"content":"The field mapping from source to staging can also be edited after import using the same process.","pos":[11967,12063]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages07<ept id=\"p1\">](./media/dataentitiesdatapackages07.png)](./media/dataentitiesdatapackages07.png)</ept> If you have extended an entity (added fields) or if the automatic mapping appears to be incorrect, the mapping of the entity can be regenerated in the <bpt id=\"p2\">**</bpt>Mapping<ept id=\"p2\">**</ept> form.","pos":[12064,12344],"source":"[![DataEntitiesDataPackages07](./media/dataentitiesdatapackages07.png)](./media/dataentitiesdatapackages07.png) If you have extended an entity (added fields) or if the automatic mapping appears to be incorrect, the mapping of the entity can be regenerated in the **Mapping** form."},{"content":"To do this, click <bpt id=\"p1\">**</bpt>Generate source mapping<ept id=\"p1\">**</ept>.","pos":[12345,12391],"source":" To do this, click **Generate source mapping**."},{"content":"A message will display asking, “Do you want to generate the mapping from scratch ?”","pos":[12392,12475]},{"content":"Click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept> to regenerate the mapping.","pos":[12476,12516],"source":" Click **Yes** to regenerate the mapping."},{"pos":[12521,12527],"content":"Export","linkify":"Export","nodes":[{"content":"Export","pos":[0,6]}]},{"content":"Export is the process of pulling data out of a system utilizing data entities.","pos":[12528,12606]},{"content":"The export process is done through a project.","pos":[12607,12652]},{"content":"When creating the process there is a lot of flexibility as to how the export project is defined.","pos":[12653,12749]},{"content":"There is an option to choose not only which data entities to export, but also the number of entities, the file format used (there are 14 different formats to choose for export), and apply a filter to each entity to limit what is exported.","pos":[12750,12988]},{"content":"After the data entities have been pulled into the project, the <bpt id=\"p1\">[</bpt>Sequencing<ept id=\"p1\">](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&amp;p=1105473&amp;preview=true#Sequencing)</ept> and <bpt id=\"p2\">[</bpt>Mapping<ept id=\"p2\">](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&amp;p=1105473&amp;preview=true#Mapping)</ept> described earlier can be performed for each export project.","pos":[12989,13315],"source":" After the data entities have been pulled into the project, the [Sequencing](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=1105473&preview=true#Sequencing) and [Mapping](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=1105473&preview=true#Mapping) described earlier can be performed for each export project."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages08<ept id=\"p1\">](./media/dataentitiesdatapackages08-1024x400.png)](./media/dataentitiesdatapackages08.png)</ept> <bpt id=\"p2\">[</bpt><ph id=\"ph2\">![</ph>DataEntitiesDataPackages09<ept id=\"p2\">](./media/dataentitiesdatapackages09.png)](./media/dataentitiesdatapackages09.png)</ept> After the project is created and saved you can export the project to create a job.","pos":[13316,13631],"source":"[![DataEntitiesDataPackages08](./media/dataentitiesdatapackages08-1024x400.png)](./media/dataentitiesdatapackages08.png) [![DataEntitiesDataPackages09](./media/dataentitiesdatapackages09.png)](./media/dataentitiesdatapackages09.png) After the project is created and saved you can export the project to create a job."},{"content":"During the export process, you can see a graphical view of the status of the job and the record count.","pos":[13632,13734]},{"content":"This view shows multiple records so you can review the status of each record prior to downloading the actual files.","pos":[13735,13850]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages10<ept id=\"p1\">](./media/dataentitiesdatapackages10-1024x280.png)](./media/dataentitiesdatapackages10.png)</ept> <bpt id=\"p2\">[</bpt><ph id=\"ph2\">![</ph>DataEntitiesDataPackages11<ept id=\"p2\">](./media/dataentitiesdatapackages11.png)](./media/dataentitiesdatapackages11.png)</ept> After the job is completed you can choose how to download the files, either as each data entity as a separate file or by combining the files as a package.","pos":[13851,14238],"source":"[![DataEntitiesDataPackages10](./media/dataentitiesdatapackages10-1024x280.png)](./media/dataentitiesdatapackages10.png) [![DataEntitiesDataPackages11](./media/dataentitiesdatapackages11.png)](./media/dataentitiesdatapackages11.png) After the job is completed you can choose how to download the files, either as each data entity as a separate file or by combining the files as a package."},{"content":"If there are multiple data entities in the job, choosing the package option will expedite the upload process.","pos":[14239,14348]},{"content":"The package is a zipped file, containing a data file for each entity as well as a package header and manifest.","pos":[14349,14459]},{"content":"These additional documents are used when importing in order to add the data files to the correct data entities and sequence the import process.","pos":[14460,14603]},{"pos":[14608,14614],"content":"Import","linkify":"Import","nodes":[{"content":"Import","pos":[0,6]}]},{"content":"Import is the process of pulling data into a system utilizing data entities.","pos":[14615,14691]},{"content":"The import process is done through the <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept> tile in the <bpt id=\"p2\">**</bpt>Data Management<ept id=\"p2\">**</ept> workspace.","pos":[14692,14784],"source":" The import process is done through the **Import** tile in the **Data Management** workspace."},{"content":"Data can be imported either for individual entities or for a group of logically related entities that are sequenced in the correct order.","pos":[14785,14922]},{"content":"The file formats vary depending on the type of import.","pos":[14923,14977]},{"content":"For an entity, it can be an Excel file that is comma-separated, tab-separated, text.","pos":[14978,15062]},{"content":"For a data package, it is a .zip file.","pos":[15063,15101]},{"content":"In both cases, the files are exported using the above mentioned export process.","pos":[15102,15181]},{"content":"The detailed steps for importing data using data packages is as follows.","pos":[15182,15254]},{"content":"Log into the Dynamics 365 for Operations environment using a login with sufficient privileges (typically this is the Administrator role).","pos":[15260,15397]},{"pos":[15402,15461],"content":"On the dashboard, select the <bpt id=\"p1\">**</bpt>Data Management<ept id=\"p1\">**</ept> workspace.","source":"On the dashboard, select the **Data Management** workspace."},{"pos":[15466,15513],"content":"To begin importing, select the <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept> tile.","source":"To begin importing, select the **Import** tile."},{"content":"On the next page, do the following:","pos":[15518,15553]},{"pos":[15562,15639],"content":"In the <bpt id=\"p1\">**</bpt>Name<ept id=\"p1\">**</ept> field, provide a logical name for the package being imported.","source":"In the **Name** field, provide a logical name for the package being imported."},{"pos":[15648,15730],"content":"In the <bpt id=\"p1\">**</bpt>Source Data Format<ept id=\"p1\">**</ept> field, select <bpt id=\"p2\">**</bpt>Package<ept id=\"p2\">**</ept> as the source data format.","source":"In the **Source Data Format** field, select **Package** as the source data format."},{"content":"Click the <bpt id=\"p1\">**</bpt>Upload<ept id=\"p1\">**</ept> button and choose the appropriate package file from the location for the data being imported.","pos":[15739,15853],"source":"Click the **Upload** button and choose the appropriate package file from the location for the data being imported."},{"content":"This will import all the files from the package.","pos":[15854,15902]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages12<ept id=\"p1\">](./media/dataentitiesdatapackages12-1024x555.png)](./media/dataentitiesdatapackages12.png)</ept>","pos":[15903,16023],"source":"[![DataEntitiesDataPackages12](./media/dataentitiesdatapackages12-1024x555.png)](./media/dataentitiesdatapackages12.png)"},{"pos":[16032,16093],"content":"Click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>Import<ept id=\"p2\">**</ept> to import the data.","source":"Click **Save**, and then click **Import** to import the data."},{"content":"If multiple data packages need to be imported this can be accomplished in two ways:","pos":[16102,16185]},{"content":"Create new job for each package – Repeat steps 4(a) through 4(d) above, for each package.","pos":[16198,16287]},{"content":"- or-","pos":[16288,16293]},{"content":"Create one job to import multiple packages in a sequence.","pos":[16306,16363]},{"content":"Repeat steps 4(a) through 4(c) above, and then repeat step 4(c) for all the packages that need to be imported.","pos":[16364,16474]},{"content":"After you select the planned packages, execute step 4(d) to import the data from the selected data packages through a single job.","pos":[16475,16604]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages13<ept id=\"p1\">](./media/dataentitiesdatapackages13-1024x555.png)](./media/dataentitiesdatapackages13.png)</ept>","pos":[16605,16725],"source":"[![DataEntitiesDataPackages13](./media/dataentitiesdatapackages13-1024x555.png)](./media/dataentitiesdatapackages13.png)"},{"content":"After you click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>, the data will be imported through staging tables.","pos":[16731,16808],"source":"After you click **Import**, the data will be imported through staging tables."},{"content":"The progress of the import can be tracked using the <bpt id=\"p1\">**</bpt>Refresh<ept id=\"p1\">**</ept> button in the upper-right corner of the screen.","pos":[16809,16920],"source":" The progress of the import can be tracked using the **Refresh** button in the upper-right corner of the screen."},{"content":"<bpt id=\"p1\">**</bpt>Note: Utilizing the auto generated functionality<ept id=\"p1\">**</ept> - If you have fields in entities that you want the system to generate on import, instead of providing the data in the source file, you can use the auto-generated functionality in the mapping details for the entity.","pos":[16921,17188],"source":"**Note: Utilizing the auto generated functionality** - If you have fields in entities that you want the system to generate on import, instead of providing the data in the source file, you can use the auto-generated functionality in the mapping details for the entity."},{"content":"For example, if you want to import customers and customer address information, but the address information was not previously imported with the Global Address Book (GAB) entities, you can have the entity auto-generate the party number upon import and the GAB information will be created.","pos":[17189,17476]},{"content":"To access this functionality, view the map of the entity and click the <bpt id=\"p1\">**</bpt>Mapping details<ept id=\"p1\">**</ept> tab.","pos":[17477,17572],"source":" To access this functionality, view the map of the entity and click the **Mapping details** tab."},{"content":"Select the fields that you want to auto-generate.","pos":[17573,17622]},{"content":"This will change the source field to <bpt id=\"p1\">**</bpt>Auto<ept id=\"p1\">**</ept>.","pos":[17623,17669],"source":" This will change the source field to **Auto**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages18<ept id=\"p1\">](./media/dataentitiesdatapackages18.png)](./media/dataentitiesdatapackages18.png)</ept>","pos":[17670,17781],"source":"[![DataEntitiesDataPackages18](./media/dataentitiesdatapackages18.png)](./media/dataentitiesdatapackages18.png)"},{"pos":[17787,17802],"content":"Troubleshooting","linkify":"Troubleshooting","nodes":[{"content":"Troubleshooting","pos":[0,15]}]},{"content":"This section describes how to troubleshoot during the different stages of data package processing.","pos":[17828,17926]},{"pos":[17936,17950],"content":"Export process","linkify":"Export process","nodes":[{"content":"Export process","pos":[0,14]}]},{"pos":[17960,18114],"content":"If you get an error during the export process, click <bpt id=\"p1\">**</bpt>View execution log<ept id=\"p1\">**</ept> and review the log text, staging log details, and Infolog for more information","source":"If you get an error during the export process, click **View execution log** and review the log text, staging log details, and Infolog for more information"},{"content":"If you get an error during the export process with a note directing you to not skip staging, turn off the <bpt id=\"p1\">**</bpt>Skip staging<ept id=\"p1\">**</ept>, and then add the entity.","pos":[18123,18271],"source":"If you get an error during the export process with a note directing you to not skip staging, turn off the **Skip staging**, and then add the entity."},{"content":"If you are exporting multiple data entities, you can use the <bpt id=\"p1\">**</bpt>Skip staging<ept id=\"p1\">**</ept> button for each data entity.","pos":[18272,18378],"source":" If you are exporting multiple data entities, you can use the **Skip staging** button for each data entity."},{"pos":[18388,18402],"content":"Import process","linkify":"Import process","nodes":[{"content":"Import process","pos":[0,14]}]},{"content":"Upload the data entity files","pos":[18412,18440]},{"content":"If data entities do not display in <bpt id=\"p1\">**</bpt>Selected files and entities<ept id=\"p1\">**</ept> after you click <bpt id=\"p2\">**</bpt>Upload<ept id=\"p2\">**</ept> during the import process, wait a few minutes, then check if the OLEDB driver is still installed.","pos":[18449,18640],"source":"If data entities do not display in **Selected files and entities** after you click **Upload** during the import process, wait a few minutes, then check if the OLEDB driver is still installed."},{"content":"If not, then reinstall the OLEDB driver.","pos":[18641,18681]},{"content":"The driver is Microsoft Access Database Engine 2010 Redistributable – AccessDatabaseEngine<ph id=\"ph1\">\\_</ph>x64.exe.","pos":[18682,18782],"source":" The driver is Microsoft Access Database Engine 2010 Redistributable – AccessDatabaseEngine\\_x64.exe."},{"content":"If data entities display in <bpt id=\"p1\">**</bpt>Selected Files and Entities<ept id=\"p1\">**</ept> with a warning after you click <bpt id=\"p2\">**</bpt>Upload<ept id=\"p2\">**</ept> during the import process, verify and fix the mapping of individual data entities by clicking <bpt id=\"p3\">**</bpt>View map<ept id=\"p3\">**</ept>.","pos":[18791,19000],"source":"If data entities display in **Selected Files and Entities** with a warning after you click **Upload** during the import process, verify and fix the mapping of individual data entities by clicking **View map**."},{"content":"Update the mapping and click <bpt id=\"p1\">**</bpt>Save<ept id=\"p1\">**</ept> for each data entity.","pos":[19001,19060],"source":" Update the mapping and click **Save** for each data entity."},{"content":"Import the data entities","pos":[19069,19093]},{"content":"If data entities fail (shown with a red X or yellow triangle icon on the data entity tile) after you click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>, click <bpt id=\"p2\">**</bpt>View staging data<ept id=\"p2\">**</ept> on each tile under the <bpt id=\"p3\">**</bpt>Execution summary<ept id=\"p3\">**</ept> page to review the errors.","pos":[19102,19320],"source":"If data entities fail (shown with a red X or yellow triangle icon on the data entity tile) after you click **Import**, click **View staging data** on each tile under the **Execution summary** page to review the errors."},{"content":"Sort and scroll through the records with Transfer status = Error to display the errors in the Message section.","pos":[19321,19431]},{"content":"Download the staging table via Microsoft Office.","pos":[19432,19480]},{"content":"Fix a record (or all records) directly in staging by clicking <bpt id=\"p1\">**</bpt>Edit, Validate all, and Copy data to target<ept id=\"p1\">**</ept>,  or fix the import file (not staging file) and reimport the data.","pos":[19481,19657],"source":" Fix a record (or all records) directly in staging by clicking **Edit, Validate all, and Copy data to target**,  or fix the import file (not staging file) and reimport the data."},{"content":"If data entities fail (shown with a red x or yellow triangle icon on the data entity tile) after you click <bpt id=\"p1\">**</bpt>Import<ept id=\"p1\">**</ept>, and <bpt id=\"p2\">**</bpt>View staging data<ept id=\"p2\">**</ept> shows no data, go back to the <bpt id=\"p3\">**</bpt>Execution summary<ept id=\"p3\">**</ept> page.","pos":[19666,19868],"source":"If data entities fail (shown with a red x or yellow triangle icon on the data entity tile) after you click **Import**, and **View staging data** shows no data, go back to the **Execution summary** page."},{"content":"Go to <bpt id=\"p1\">**</bpt>View execution log<ept id=\"p1\">**</ept>, select the data entity, and review the <bpt id=\"p2\">**</bpt>Log text, Staging log details, and Infolog<ept id=\"p2\">**</ept> for more information.","pos":[19869,20006],"source":" Go to **View execution log**, select the data entity, and review the **Log text, Staging log details, and Infolog** for more information."},{"content":"<bpt id=\"p1\">**</bpt>Staging log details<ept id=\"p1\">**</ept> will display <bpt id=\"p2\">**</bpt>Error column<ept id=\"p2\">**</ept> (field) details and <bpt id=\"p3\">**</bpt>Log description<ept id=\"p3\">**</ept> will describe errors in detail.","pos":[20007,20132],"source":"**Staging log details** will display **Error column** (field) details and **Log description** will describe errors in detail."},{"content":"If data entities fail, you can check the import file to see if there’s an extra line in the file with text which displays, “This is a string that is inserted into Excel as a dummy cell to make the column to support more than 255 characters.","pos":[20141,20381]},{"content":"By default, an Excel destination component will not support more than 255 characters.","pos":[20382,20467]},{"content":"The default type of Excel will be set based on the first few rows.","pos":[20468,20534]},{"content":"”.","pos":[20535,20537]},{"content":"This line is added during data export.","pos":[20538,20576]},{"content":"If this line exists, delete this line, re-package the data entity, and try to import.","pos":[20577,20662]},{"pos":[20672,20697],"content":"After exports and imports","linkify":"After exports and imports","nodes":[{"content":"After exports and imports","pos":[0,25]}]},{"pos":[20707,20830],"content":"Status and error details of a scheduled job can be found under the <bpt id=\"p1\">**</bpt>Job history<ept id=\"p1\">**</ept> section in the <bpt id=\"p2\">**</bpt>Data management<ept id=\"p2\">**</ept> form.","source":"Status and error details of a scheduled job can be found under the **Job history** section in the **Data management** form."},{"content":"Status and error details of previous runs for data entities can be displayed by selecting a data project and clicking <bpt id=\"p1\">**</bpt>Job history<ept id=\"p1\">**</ept>.","pos":[20839,20973],"source":"Status and error details of previous runs for data entities can be displayed by selecting a data project and clicking **Job history**."},{"content":"In <bpt id=\"p1\">**</bpt>the Execution history<ept id=\"p1\">**</ept> form, select a job, and click <bpt id=\"p2\">**</bpt>View staging data<ept id=\"p2\">**</ept> and <bpt id=\"p3\">**</bpt>View execution log<ept id=\"p3\">**</ept>.","pos":[20974,21082],"source":" In **the Execution history** form, select a job, and click **View staging data** and **View execution log**."},{"content":"The previous runs include data project runs that were executed as batch jobs or manually.","pos":[21083,21172]},{"pos":[21182,21197],"content":"Number sequence","linkify":"Number sequence","nodes":[{"content":"Number sequence","pos":[0,15]}]},{"content":"Many entities support automatic generation of identifiers based on number sequence setup.","pos":[21203,21292]},{"content":"For example, when creating a product, the product number is automatically generated and the form does not allow you to edit values manually.","pos":[21293,21433]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages15.png<ept id=\"p1\">](./media/dataentitiesdatapackages15.png-300x213.jpg)](./media/dataentitiesdatapackages15.png.jpg)</ept> It is possible to enable manual assignment of number sequences.","pos":[21434,21629],"source":"[![DataEntitiesDataPackages15.png](./media/dataentitiesdatapackages15.png-300x213.jpg)](./media/dataentitiesdatapackages15.png.jpg) It is possible to enable manual assignment of number sequences."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>DataEntitiesDataPackages16<ept id=\"p1\">](./media/dataentitiesdatapackages16-300x153.png)](./media/dataentitiesdatapackages16.png)</ept> In this case, you can manually provide the value and enable manual assignment of product numbers instead.<bpt id=\"p2\">[</bpt><ph id=\"ph2\">![</ph>DataEntitiesDataPackages17<ept id=\"p2\">](./media/dataentitiesdatapackages17-300x214.png)](./media/dataentitiesdatapackages17.png)</ept>","pos":[21630,21974],"source":"[![DataEntitiesDataPackages16](./media/dataentitiesdatapackages16-300x153.png)](./media/dataentitiesdatapackages16.png) In this case, you can manually provide the value and enable manual assignment of product numbers instead.[![DataEntitiesDataPackages17](./media/dataentitiesdatapackages17-300x214.png)](./media/dataentitiesdatapackages17.png)"},{"pos":[21984,22003],"content":"System users entity","linkify":"System users entity","nodes":[{"content":"System users entity","pos":[0,19]}]},{"content":"While importing the system users entity, you may receive a integrity violation error if there is a guest user in the exported package.","pos":[22013,22147]},{"content":"The guest user must be deleted from the package in order for the entity to work.","pos":[22148,22228]},{"pos":[22237,22407],"content":"If a record already exists in the <bpt id=\"p1\">**</bpt>UserInfo<ept id=\"p1\">**</ept> table (the Admin record would most likely always exist), the import will fail for those records but work for other records.","source":"If a record already exists in the **UserInfo** table (the Admin record would most likely always exist), the import will fail for those records but work for other records."},{"pos":[22411,22419],"content":"See also","linkify":"See also","nodes":[{"content":"See also","pos":[0,8]}]},{"pos":[22430,22540],"content":"<bpt id=\"p1\">[</bpt>Data entities<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities)</ept>","source":"[Data entities](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities)"},{"pos":[22542,22672],"content":"<bpt id=\"p1\">[</bpt>Data entities home page<ept id=\"p1\">](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities-home-page)</ept>","source":"[Data entities home page](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities-home-page)"}],"content":"---\n# required metadata\n\ntitle: Data entities and packages framework | Microsoft Docs\ndescription: This topic provides information about using data entities and data entity packages in Microsoft Dynamics 365 for Operations. \nauthor: kfend\nmanager: AnnBe\nms.date: 2016-06-29 14:26:04\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer, IT Pro\n# ms.devlang: \nms.reviewer: 51\nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 96283\nms.assetid: 07a115d0-2b69-4bfa-a13d-4559ef2b7c32\nms.region: Global\n# ms.industry: \nms.author: kfend\n\n---\n\n# Data entities and packages framework\n\nThis topic provides information about using data entities and data entity packages in Microsoft Dynamics 365 for Operations. \n\nData entities\n-------------\n\nData entities provide conceptual abstraction and encapsulation of underlying table schema that represent data concepts and functionalities. In Microsoft Dynamics AX 2012, most tables, like the Customer and Vendor tables, were de-normalized and split into multiple tables. This was beneficial from a database design point of view, but made it difficult for implementers and ISV’s to use without a thorough understanding of the physical schema. Data entities were introduced as part of data management to be used as a layer of abstraction to easily understand by using business concepts. In previous versions of Dynamics AX, there were multiple ways to manage data, such as Microsoft Excel Add-ins, AIF, and DIXF. The concept of data entities combines those different concepts into one. After data entities are created, you should be able to reuse them for an Excel Add-ins, import/export, or integration. The following table shows core data management scenarios.\n\n<table>\n<colgroup>\n<col width=\"50%\" />\n<col width=\"50%\" />\n</colgroup>\n<tbody>\n<tr class=\"odd\">\n<td><strong>Data Migration</strong></td>\n<td><ul>\n<li>Migrate reference, master, and document data from legacy or external systems.</li>\n</ul></td>\n</tr>\n<tr class=\"even\">\n<td><strong>Setup and copy configuration</strong></td>\n<td><ul>\n<li>Copy configuration between company/environments.</li>\n<li>Configure processes or modules using the Lifecycle Services (LCS) environment.</li>\n</ul></td>\n</tr>\n<tr class=\"odd\">\n<td><strong>Integration</strong></td>\n<td><ul>\n<li>Real-time service based integration.</li>\n<li>Asynchronous integration.</li>\n</ul></td>\n</tr>\n</tbody>\n</table>\n\n## Data migration\nThe following pain points can occur during migration:\n\n-   Inability to quickly do iterative migration and validations.\n-   Multiple hops that lead to multiple dependencies and change of errors.\n-   Complexity due to repeated manual interventions.\n-   Difficulty in tracing and error troubleshooting.\n-   Difficulty migrating a large volume of data within a time constraint.\n-   During migration, you can strategize and choose data entities. Data entities also save time during implementation because previous activities required data export from a database, data export validation, and data transformation to files such as Excel or XML. In the current version Dynamics 365 for Operations, these hops have been eliminated. If an import error occurs, you can skip selected records and choose to proceed with the import using the good data, opting to then fix and import the bad data later. You will be allowed to partially continue and bad data will be indicated by using errors. Data imports can be easily scheduled using a batch, which offers flexibility when it is required to run. For example, you can migrate customer groups, customers, vendors, and other data entities in the system at any time.\n\n## Set up and copy configuration\nStarting a new implementation can be difficult because the knowledge of the data that needs to be entered can sometimes be limited. Data must be entered by module, or it must be configured using business processes. It is even more difficult to determine data dependencies and how the data sequencing should be configured in the implementation. Re-usability is also a factor as to where and how data can be used across environments. These pain points are addressed in the current version of Dynamics 365 for Operations. Movement of data becomes easier as it moves from test to staging to production environments. Movement of data can occur in any order. This is not a movement of the entire database but rather, only the data entities that you have chosen. The migration with the new version of Dynamics 365 for Operations allows:\n\n-   Moving data between two similar Dynamics 365 for Operations systems.\n-   Discovering setup entities and any dependency between each entity for a given process or module.\n-   Maintaining a reusable library of data templates and datasets.\n-   Data packages is a new concept that allows you to build incremental data entities. Data entities can be sequenced inside the packages. You can name data packages, which can be easily identifiable during import or export. When building data packages, data entities can be mapped on staging tables in a tabular format or by using available visual representation in data management. You can also drag-and-drop columns manually, depending on the mapping that you want for an entity. During import, data can easily be viewed using data management enabling data comparison.\n\n## Data management concepts\nThe following terms are introduced in current version of Dynamics 365 for Operations. Take time to learn these terms, as they will be used in other sections of this document.\n\n|                  |                                                                                                                                                                                        |\n|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **Data project** | A project that contains configured data entities, which include mapping and default processing options.                                                                                |\n| **Data job**     | A job that contains an execution instance of the data project, uploaded files, schedule (recurrence), and processing options.                                                          |\n| **Job history**  | Histories of source to staging and staging to target.                                                                                                                                  |\n| **Data package** | A single compressed file that contains a data project manifest and/or data files. This is generated from a data job and used for import or export of multiple files with the manifest. |\n\n## Using data entities\nThe following sections provide quick snapshots of the different functionalities of data management using data entities. The goal is to help to you strategize and make effective decisions on how to best utilize the available tools during data migration. You will also find tips and tricks on how to effectively use each area during data migration. A list of available data entities for each area can also be found with the suggested data sequences, showing data dependencies within Dynamics 365 for Operations. Microsoft provides data packages that can be found on Lifecycle Services (LCS) as an initial guide. The information in this document can be used as a guide for creating your own packages. The description of each data entity shows what the object contains and if it is needed during data migration.\n\n## Sequencing\nThere are two types of sequencing that should be considered when working with data entities.\n\n-   Sequencing data entities within the data packages.\n-   Sequencing for the order of importing the data packages.\n\n**Sequencing data entities within the Data Packages**\n\n1.  When a user adds data entities to a data project, by default, a sequence is set for the order in which the entities will load. The first entity added to the project will be set as the first entity to load, the next entity added will be second, the next entity will be third, and so on. For example, if a user added two entities in this order, **Sales tax codes** and **Sales Tax groups**, **Sales tax codes** is assigned an entity sequence of **1.1.1**, and **Sales tax groups** is assigned an entity sequence of **1.1.2**. The sequence level indicates that the second entity will not start the import process until the first level has completed.\n2.  To view or edit the sequence, click the **Entity sequence** button on the Action Pane of the data project. [![DataEntitiesDataPackages01](./media/dataentitiesdatapackages01.png)](./media/dataentitiesdatapackages01.png)\n3.  In the definition group entity sequence, you can see the execution units and the sequence.\n4.  The sequence can be changed by selecting the data entity in the list, setting a different Execution unit or Sequence in level, and then clicking **Update selected**. After clicking **Update selected**, the entity will be moved up or down in the entity list.\n\nTo further illustrate, the following screenshot shows the entity sequence that is set for the Sales Tax CodeGroups data package. [![DataEntitiesDataPackages02](./media/dataentitiesdatapackages02.png)](./media/dataentitiesdatapackages02.png)In order to successfully import sales tax codes and groups, the sales tax codes and details have to be loaded first, before sales tax groups can be imported. Sales tax codes and groups are all in Execution unit = 1, but the sequences are in the order that they will be imported. Other related sales tax entities that are not dependent upon other data entities being loaded are included in the package. For example, sales tax exempt numbers, is set in its own Execution unit = 2. This data entity will start loading immediately because there are no dependencies on other entities loading before it. **Sequencing of the data packages** In order to successfully load data, the order of loading the data packages is important because of dependencies that exist within and across modules in Dynamics 365 for Operations. The numbering format that has been created for the data packages within LCS are as follows:\n\n-   First segment = Modulearea\n-   Second segment = Data type (SetupMasterTransaction)\n-   Third sequence = Sequence number\n\nThe following tables provide more information about the different kinds of numbering. **ModuleArea numbering**[![DataEntitiesDataPackages03](./media/dataentitiesdatapackages03.png)](./media/dataentitiesdatapackages03.png)**Data type numbering** [![DataEntitiesDataPackages04](./media/dataentitiesdatapackages04.png)](./media/dataentitiesdatapackages04.png)**Numbering format** [![DataEntitiesDataPackages05](./media/dataentitiesdatapackages05.png)](./media/dataentitiesdatapackages05.png) The data packages will have the numbering format, followed by the module abbreviation, and description. The following example shows General ledger data packages. [![DataEntitiesDataPackages06](./media/dataentitiesdatapackages06.png)](./media/dataentitiesdatapackages06.png)\n\n## Mapping\nWhen working with data entities, the mapping of the entity to the source is automatic. This mapping of fields can be overridden if needed. To view the mapping, locate the tile for the entity in the project, and then click **View map**. When viewing the mapping there are two views: mapping visualization (default view) or mapping details. A red asterisk (\\*) will identify any required fields in the entity. These fields need to be mapped in order to work with the entity. Other fields can be unmapped as required when working with the entity. To unmap a field, highlight the field in either column (**Entity** or **Source**), and then click **Delete selection**. Click **Save** to save your changes. After saving, close the form to return to the project. The field mapping from source to staging can also be edited after import using the same process. [![DataEntitiesDataPackages07](./media/dataentitiesdatapackages07.png)](./media/dataentitiesdatapackages07.png) If you have extended an entity (added fields) or if the automatic mapping appears to be incorrect, the mapping of the entity can be regenerated in the **Mapping** form. To do this, click **Generate source mapping**. A message will display asking, “Do you want to generate the mapping from scratch ?” Click **Yes** to regenerate the mapping.\n\n## Export\nExport is the process of pulling data out of a system utilizing data entities. The export process is done through a project. When creating the process there is a lot of flexibility as to how the export project is defined. There is an option to choose not only which data entities to export, but also the number of entities, the file format used (there are 14 different formats to choose for export), and apply a filter to each entity to limit what is exported. After the data entities have been pulled into the project, the [Sequencing](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=1105473&preview=true#Sequencing) and [Mapping](https://ax.help.dynamics.com/en/?post_type=incsub_wiki&p=1105473&preview=true#Mapping) described earlier can be performed for each export project. [![DataEntitiesDataPackages08](./media/dataentitiesdatapackages08-1024x400.png)](./media/dataentitiesdatapackages08.png) [![DataEntitiesDataPackages09](./media/dataentitiesdatapackages09.png)](./media/dataentitiesdatapackages09.png) After the project is created and saved you can export the project to create a job. During the export process, you can see a graphical view of the status of the job and the record count. This view shows multiple records so you can review the status of each record prior to downloading the actual files. [![DataEntitiesDataPackages10](./media/dataentitiesdatapackages10-1024x280.png)](./media/dataentitiesdatapackages10.png) [![DataEntitiesDataPackages11](./media/dataentitiesdatapackages11.png)](./media/dataentitiesdatapackages11.png) After the job is completed you can choose how to download the files, either as each data entity as a separate file or by combining the files as a package. If there are multiple data entities in the job, choosing the package option will expedite the upload process. The package is a zipped file, containing a data file for each entity as well as a package header and manifest. These additional documents are used when importing in order to add the data files to the correct data entities and sequence the import process.\n\n## Import\nImport is the process of pulling data into a system utilizing data entities. The import process is done through the **Import** tile in the **Data Management** workspace. Data can be imported either for individual entities or for a group of logically related entities that are sequenced in the correct order. The file formats vary depending on the type of import. For an entity, it can be an Excel file that is comma-separated, tab-separated, text. For a data package, it is a .zip file. In both cases, the files are exported using the above mentioned export process. The detailed steps for importing data using data packages is as follows.\n\n1.  Log into the Dynamics 365 for Operations environment using a login with sufficient privileges (typically this is the Administrator role).\n2.  On the dashboard, select the **Data Management** workspace.\n3.  To begin importing, select the **Import** tile.\n4.  On the next page, do the following:\n    1.  In the **Name** field, provide a logical name for the package being imported.\n    2.  In the **Source Data Format** field, select **Package** as the source data format.\n    3.  Click the **Upload** button and choose the appropriate package file from the location for the data being imported. This will import all the files from the package. [![DataEntitiesDataPackages12](./media/dataentitiesdatapackages12-1024x555.png)](./media/dataentitiesdatapackages12.png)\n    4.  Click **Save**, and then click **Import** to import the data.\n    5.  If multiple data packages need to be imported this can be accomplished in two ways:\n        -   Create new job for each package – Repeat steps 4(a) through 4(d) above, for each package. - or-\n        -   Create one job to import multiple packages in a sequence. Repeat steps 4(a) through 4(c) above, and then repeat step 4(c) for all the packages that need to be imported. After you select the planned packages, execute step 4(d) to import the data from the selected data packages through a single job. [![DataEntitiesDataPackages13](./media/dataentitiesdatapackages13-1024x555.png)](./media/dataentitiesdatapackages13.png)\n\n5.  After you click **Import**, the data will be imported through staging tables. The progress of the import can be tracked using the **Refresh** button in the upper-right corner of the screen. **Note: Utilizing the auto generated functionality** - If you have fields in entities that you want the system to generate on import, instead of providing the data in the source file, you can use the auto-generated functionality in the mapping details for the entity. For example, if you want to import customers and customer address information, but the address information was not previously imported with the Global Address Book (GAB) entities, you can have the entity auto-generate the party number upon import and the GAB information will be created. To access this functionality, view the map of the entity and click the **Mapping details** tab. Select the fields that you want to auto-generate. This will change the source field to **Auto**. [![DataEntitiesDataPackages18](./media/dataentitiesdatapackages18.png)](./media/dataentitiesdatapackages18.png)\n\n    Troubleshooting\n    ---------------\n\n    This section describes how to troubleshoot during the different stages of data package processing.\n\n    ### Export process\n\n    -   If you get an error during the export process, click **View execution log** and review the log text, staging log details, and Infolog for more information\n    -   If you get an error during the export process with a note directing you to not skip staging, turn off the **Skip staging**, and then add the entity. If you are exporting multiple data entities, you can use the **Skip staging** button for each data entity.\n\n    ### Import process\n\n    -   Upload the data entity files\n    -   If data entities do not display in **Selected files and entities** after you click **Upload** during the import process, wait a few minutes, then check if the OLEDB driver is still installed. If not, then reinstall the OLEDB driver. The driver is Microsoft Access Database Engine 2010 Redistributable – AccessDatabaseEngine\\_x64.exe.\n    -   If data entities display in **Selected Files and Entities** with a warning after you click **Upload** during the import process, verify and fix the mapping of individual data entities by clicking **View map**. Update the mapping and click **Save** for each data entity.\n    -   Import the data entities\n    -   If data entities fail (shown with a red X or yellow triangle icon on the data entity tile) after you click **Import**, click **View staging data** on each tile under the **Execution summary** page to review the errors. Sort and scroll through the records with Transfer status = Error to display the errors in the Message section. Download the staging table via Microsoft Office. Fix a record (or all records) directly in staging by clicking **Edit, Validate all, and Copy data to target**,  or fix the import file (not staging file) and reimport the data.\n    -   If data entities fail (shown with a red x or yellow triangle icon on the data entity tile) after you click **Import**, and **View staging data** shows no data, go back to the **Execution summary** page. Go to **View execution log**, select the data entity, and review the **Log text, Staging log details, and Infolog** for more information. **Staging log details** will display **Error column** (field) details and **Log description** will describe errors in detail.\n    -   If data entities fail, you can check the import file to see if there’s an extra line in the file with text which displays, “This is a string that is inserted into Excel as a dummy cell to make the column to support more than 255 characters. By default, an Excel destination component will not support more than 255 characters. The default type of Excel will be set based on the first few rows. ”. This line is added during data export. If this line exists, delete this line, re-package the data entity, and try to import.\n\n    ### After exports and imports\n\n    -   Status and error details of a scheduled job can be found under the **Job history** section in the **Data management** form.\n    -   Status and error details of previous runs for data entities can be displayed by selecting a data project and clicking **Job history**. In **the Execution history** form, select a job, and click **View staging data** and **View execution log**. The previous runs include data project runs that were executed as batch jobs or manually.\n\n    ### Number sequence\n\n    Many entities support automatic generation of identifiers based on number sequence setup. For example, when creating a product, the product number is automatically generated and the form does not allow you to edit values manually. [![DataEntitiesDataPackages15.png](./media/dataentitiesdatapackages15.png-300x213.jpg)](./media/dataentitiesdatapackages15.png.jpg) It is possible to enable manual assignment of number sequences. [![DataEntitiesDataPackages16](./media/dataentitiesdatapackages16-300x153.png)](./media/dataentitiesdatapackages16.png) In this case, you can manually provide the value and enable manual assignment of product numbers instead.[![DataEntitiesDataPackages17](./media/dataentitiesdatapackages17-300x214.png)](./media/dataentitiesdatapackages17.png)\n\n    ### System users entity\n\n    -   While importing the system users entity, you may receive a integrity violation error if there is a guest user in the exported package. The guest user must be deleted from the package in order for the entity to work.\n    -   If a record already exists in the **UserInfo** table (the Admin record would most likely always exist), the import will fail for those records but work for other records.\n\n\n\nSee also\n--------\n\n[Data entities](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities)\n\n[Data entities home page](https://docs.microsoft.com/en-us/dynamics365/operations/dev-itpro/data-entities/data-entities-home-page)\n\n"}