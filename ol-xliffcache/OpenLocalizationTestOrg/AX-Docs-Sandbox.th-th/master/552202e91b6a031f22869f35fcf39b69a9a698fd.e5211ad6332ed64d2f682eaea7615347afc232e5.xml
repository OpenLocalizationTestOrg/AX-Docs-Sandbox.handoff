{"nodes":[{"pos":[32,69],"content":"Add BI to workspaces | Microsoft Docs","needQuote":true,"needEscape":true,"nodes":[{"content":"Add BI to workspaces | Microsoft Docs","pos":[0,37]}]},{"pos":[83,167],"content":"In this tutorial, you’ll add BI controls such as KPI tiles to an existing workspace.","needQuote":true,"needEscape":true,"nodes":[{"content":"In this tutorial, you’ll add BI controls such as KPI tiles to an existing workspace.","pos":[0,84]}]},{"pos":[591,611],"content":"Add BI to workspaces","linkify":"Add BI to workspaces","nodes":[{"content":"Add BI to workspaces","pos":[0,20]}]},{"content":"In this tutorial, you’ll add BI controls such as KPI tiles to an existing workspace.","pos":[613,697]},{"pos":[700,712],"content":"Key concepts","linkify":"Key concepts","nodes":[{"content":"Key concepts","pos":[0,12]}]},{"pos":[731,863],"content":"<bpt id=\"p1\">*</bpt>Aggregate measurements<ept id=\"p1\">*</ept>, similar to <bpt id=\"p2\">*</bpt>perspectives and cubes<ept id=\"p2\">*</ept> from earlier versions, enable you to model and consume aggregate data.","source":"*Aggregate measurements*, similar to *perspectives and cubes* from earlier versions, enable you to model and consume aggregate data."},{"content":"<bpt id=\"p1\">*</bpt>Key Performance Indicators<ept id=\"p1\">*</ept> (KPIs) are a form of analytic controls that track organizational performance against the current status.","pos":[868,1001],"source":"*Key Performance Indicators* (KPIs) are a form of analytic controls that track organizational performance against the current status."},{"content":"KPIs are represented as tiles in a <bpt id=\"p1\">*</bpt>workspace<ept id=\"p1\">*</ept> or the <bpt id=\"p2\">*</bpt>dashboard<ept id=\"p2\">*</ept>.","pos":[1002,1068],"source":" KPIs are represented as tiles in a *workspace* or the *dashboard*."},{"content":"In this tutorial, you’ll model a KPI in Visual Studio.","pos":[1069,1123]},{"content":"KPIs that are modeled in Visual Studio can be modified in the client.","pos":[1128,1197]},{"content":"A user also has the ability to model new KPIs using the client.","pos":[1198,1261]},{"content":"A <bpt id=\"p1\">*</bpt>workspace<ept id=\"p1\">*</ept> is an overview page that is specific to a particular subject area.","pos":[1266,1346],"source":"A *workspace* is an overview page that is specific to a particular subject area."},{"content":"Workspaces are common to all users.","pos":[1347,1382]},{"content":"In this tutorial, you’ll add content into an existing workspace.","pos":[1383,1447]},{"pos":[1452,1507],"content":"The <bpt id=\"p1\">*</bpt>dashboard<ept id=\"p1\">*</ept> is the default home page for each user.","source":"The *dashboard* is the default home page for each user."},{"content":"<bpt id=\"p1\">*</bpt>Tiles<ept id=\"p1\">*</ept> are securable objects that can be pinned to a workspace or the dashboard.","pos":[1512,1593],"source":"*Tiles* are securable objects that can be pinned to a workspace or the dashboard."},{"content":"KPIs and aggregate data that are shown on the dashboard or a workspace can be secured by using menu items.","pos":[1594,1700]},{"content":"Aggregate data can be consumed in building charts and other controls.","pos":[1705,1774]},{"content":"Using the model driven approach, you have the ability to create data entities by directly referencing aggregate measurements and aggregate dimensions.","pos":[1775,1925]},{"content":"These entities are referred to as <bpt id=\"p1\">*</bpt>aggregate data entities<ept id=\"p1\">*</ept>.","pos":[1926,1986],"source":" These entities are referred to as *aggregate data entities*."},{"content":"Aggregate data entities are read-only data entities used for reporting purposes.","pos":[1987,2067]},{"content":"<bpt id=\"p1\">*</bpt>Aggregate programming model<ept id=\"p1\">*</ept> enables a developer to consume aggregate data programmatically using either X++ or C<ph id=\"ph1\">\\#</ph> code.","pos":[2072,2194],"source":"*Aggregate programming model* enables a developer to consume aggregate data programmatically using either X++ or C\\# code."},{"content":"Data retrieved using the aggregate programming model can be used as a data source in forms.","pos":[2195,2286]},{"content":"<bpt id=\"p1\">*</bpt>Method expressions<ept id=\"p1\">*</ept> enable a developer to build rich expressions using aggregate data.","pos":[2291,2378],"source":"*Method expressions* enable a developer to build rich expressions using aggregate data."},{"content":"Method expressions are written in X++.","pos":[2379,2417]},{"content":"KPIs can be modeled using method expressions thereby eliminating the need to build MDX expressions.","pos":[2418,2517]},{"pos":[2522,2739],"content":"<bpt id=\"p1\">*</bpt>Contextual BI<ept id=\"p1\">*</ept> refers to providing required insights as part of the user experience such that the user has relevant insights to not only achieve the task at hand but be highly productive during the course of the day.","source":"*Contextual BI* refers to providing required insights as part of the user experience such that the user has relevant insights to not only achieve the task at hand but be highly productive during the course of the day."},{"content":"<bpt id=\"p1\">*</bpt>Embedded BI<ept id=\"p1\">*</ept> refers to analytic content being embedded in the user experience.","pos":[2744,2823],"source":"*Embedded BI* refers to analytic content being embedded in the user experience."},{"content":"Contextual BI and embedded BI teams are closely related – contextual BI implies the added notion that the context of analytic context revolves around the data or the task at hand.","pos":[2824,3003]},{"pos":[3008,3144],"content":"<bpt id=\"p1\">*</bpt>Self service BI<ept id=\"p1\">*</ept> refers to enabling to user to tweak existing and/or create new analytic content such as reports, KPIs, and dashboards.","source":"*Self service BI* refers to enabling to user to tweak existing and/or create new analytic content such as reports, KPIs, and dashboards."},{"pos":[3149,3154],"content":"Setup","linkify":"Setup","nodes":[{"content":"Setup","pos":[0,5]}]},{"pos":[3159,3291],"content":"If this is the first tutorial you’re working on, you must complete the steps in \"Installing demo data\" in the <bpt id=\"p1\">[</bpt>Appendix<ept id=\"p1\">](#appendix)</ept>.","source":"If this is the first tutorial you’re working on, you must complete the steps in \"Installing demo data\" in the [Appendix](#appendix)."},{"pos":[3296,3382],"content":"Import the project <bpt id=\"p1\">**</bpt>Adding BI to workspaces.axpp<ept id=\"p1\">**</ept> in the <bpt id=\"p2\">**</bpt>C:FMLabLab 10-1<ept id=\"p2\">**</ept> folder.","source":"Import the project **Adding BI to workspaces.axpp** in the **C:FMLabLab 10-1** folder."},{"pos":[3391,3503],"content":"Download the Fleet Management sample from <bpt id=\"p1\">&lt;</bpt>https://github.com/Microsoft/FMLab<ept id=\"p1\">&gt;</ept>, save it to <bpt id=\"p2\">**</bpt>C:<ept id=\"p2\">**</ept>, and unzip it.","source":"Download the Fleet Management sample from <https://github.com/Microsoft/FMLab>, save it to **C:**, and unzip it."},{"pos":[3512,3588],"content":"In Visual Studio, from the <bpt id=\"p1\">**</bpt>Dynamics 365<ept id=\"p1\">**</ept> menu, select <bpt id=\"p2\">**</bpt>Import project<ept id=\"p2\">**</ept>.","source":"In Visual Studio, from the **Dynamics 365** menu, select **Import project**."},{"pos":[3597,3694],"content":"Go to the <bpt id=\"p1\">**</bpt>C:<ph id=\"ph1\">\\\\</ph>FMLab<ph id=\"ph2\">\\\\</ph>Lab 10-1<ept id=\"p1\">**</ept> folder and select the <bpt id=\"p2\">**</bpt>Adding BI to workspaces.axpp<ept id=\"p2\">**</ept> project.","source":"Go to the **C:\\\\FMLab\\\\Lab 10-1** folder and select the **Adding BI to workspaces.axpp** project."},{"content":"Select the overwrite option.","pos":[3703,3731]},{"content":"Select new solution.","pos":[3740,3760]},{"pos":[3769,3782],"content":"Click <bpt id=\"p1\">**</bpt>OK<ept id=\"p1\">**</ept>.","source":"Click **OK**."},{"content":"You should see the project in the solution explorer in Visual Studio, and the FMRentalCalculations class is shown.","pos":[3788,3902]},{"pos":[3907,3942],"content":"Model a KPI definition with a range","linkify":"Model a KPI definition with a range","nodes":[{"content":"Model a KPI definition with a range","pos":[0,35]}]},{"pos":[3947,3983],"content":"Model a KPI using Aggregate measures","linkify":"Model a KPI using Aggregate measures","nodes":[{"content":"Model a KPI using Aggregate measures","pos":[0,36]}]},{"content":"Let’s assume that we want to monitor <bpt id=\"p1\">**</bpt>Revenue per rental for Vehicles with Automatic transmission<ept id=\"p1\">**</ept>.","pos":[3985,4086],"source":"Let’s assume that we want to monitor **Revenue per rental for Vehicles with Automatic transmission**."},{"content":"As you may recall, we have a measure that calculates revenue per rental.","pos":[4087,4159]},{"content":"However, we want revenue per rental only from vehicles with automatic transmission.","pos":[4160,4243]},{"content":"In order to achieve this scenario, we’ll define a range expression to filter the value expression.","pos":[4244,4342]},{"content":"Select the project node.","pos":[4348,4372]},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[4373,4404],"source":" Right-click and select **Add**."},{"content":"Select <bpt id=\"p1\">**</bpt>Analytics <ph id=\"ph1\">&amp;gt;</ph> Key performance indicator<ept id=\"p1\">**</ept> from the list of items.","pos":[4409,4484],"source":"Select **Analytics &gt; Key performance indicator** from the list of items."},{"content":"Enter <bpt id=\"p1\">**</bpt>FMRevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> as the name of the KPI.","pos":[4485,4553],"source":" Enter **FMRevenuePerRentalAutoTransmission** as the name of the KPI."},{"pos":[4558,4639],"content":"KPI designer will be displayed with the KPI <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept>.","source":"KPI designer will be displayed with the KPI **RevenuePerRentalAutoTransmission**."},{"content":"Right-click the <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> node and select <bpt id=\"p2\">**</bpt>Properties<ept id=\"p2\">**</ept>.","pos":[4644,4728],"source":"Right-click the **RevenuePerRentalAutoTransmission** node and select **Properties**."},{"content":"Enter the following properties.","pos":[4729,4760]},{"pos":[4866,4878],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[4890,4899],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Measurement","pos":[4917,4928]},{"content":"FMAggregateMeasurement","pos":[4941,4963]},{"content":"Threshold Short Label","pos":[4968,4989]},{"content":"Auto Transmissions","pos":[4992,5010]},{"pos":[5073,5111],"content":"Define Ranges to filter value and goal","linkify":"Define Ranges to filter value and goal","nodes":[{"content":"Define Ranges to filter value and goal","pos":[0,38]}]},{"content":"Define the expression for the KPI value.","pos":[5117,5157]},{"content":"Under <bpt id=\"p1\">**</bpt>FMRevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept>, select the <bpt id=\"p2\">**</bpt>Value<ept id=\"p2\">**</ept> node and specify the following properties (the values must be entered in the order they appear in the table below).","pos":[5158,5340],"source":" Under **FMRevenuePerRentalAutoTransmission**, select the **Value** node and specify the following properties (the values must be entered in the order they appear in the table below)."},{"pos":[5429,5441],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[5445,5454],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Measure Group","pos":[5470,5483]},{"content":"FMRentalCharges","pos":[5486,5501]},{"content":"Measure","pos":[5511,5518]},{"content":"RevenuePerRental","pos":[5527,5543]},{"content":"Because we want to filter vehicles with auto transmission, let’s define a range expression.","pos":[5551,5642]},{"content":"Expand <bpt id=\"p1\">**</bpt>Value <ph id=\"ph1\">&amp;gt;</ph> Ranges<ept id=\"p1\">**</ept>  and then select the <bpt id=\"p2\">**</bpt>Ranges<ept id=\"p2\">**</ept> node.","pos":[5643,5709],"source":" Expand **Value &gt; Ranges**  and then select the **Ranges** node."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>New Range<ept id=\"p1\">**</ept>.","pos":[5710,5747],"source":" Right-click and select **New Range**."},{"content":"Select the newly created range.","pos":[5752,5783]},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>properties<ept id=\"p1\">**</ept>.","pos":[5784,5822],"source":" Right-click and select **properties**."},{"content":"Enter following property values (the values must be entered in the order they appear in the table below).","pos":[5823,5928]},{"pos":[6023,6035],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[6039,6048],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[6067,6071]},{"content":"AutoTransmission","pos":[6083,6099]},{"content":"Filter Type","pos":[6111,6122]},{"content":"Value","pos":[6127,6132]},{"content":"Dimension","pos":[6155,6164]},{"content":"FMVehicle","pos":[6171,6180]},{"content":"Attribute","pos":[6199,6208]},{"content":"VehicleTransmission","pos":[6215,6234]},{"content":"Default value","pos":[6243,6256]},{"content":"1 (designates Auto)","pos":[6259,6278]},{"content":"Hidden","pos":[6287,6293]},{"content":"No","pos":[6303,6305]},{"content":"<bpt id=\"p1\">**</bpt>Note:<ept id=\"p1\">**</ept> When defining value based filters, the system does not validate the string of numeric value entered for the default value property.","pos":[6330,6471],"source":"**Note:** When defining value based filters, the system does not validate the string of numeric value entered for the default value property."},{"content":"You’re expected to enter the data value as it would appear in data.","pos":[6472,6539]},{"content":"This is similar to specifying a range expression in general.","pos":[6540,6600]},{"content":"If the range expression isn’t hidden, the user can change this filter value or the filter definition in the client.","pos":[6601,6716]},{"content":"Define the expression for the KPI Goal.","pos":[6721,6760]},{"content":"Select the <bpt id=\"p1\">**</bpt>Goal<ept id=\"p1\">**</ept> node and specify the following properties.","pos":[6761,6823],"source":" Select the **Goal** node and specify the following properties."},{"pos":[6891,6903],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[6906,6915],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Goal Type","pos":[6923,6932]},{"content":"BasedOnValue","pos":[6938,6950]},{"content":"Value","pos":[6955,6960]},{"content":"250","pos":[6970,6973]},{"pos":[6995,7042],"content":"Create a wide KPI tile using the KPI definition","linkify":"Create a wide KPI tile using the KPI definition","nodes":[{"content":"Create a wide KPI tile using the KPI definition","pos":[0,47]}]},{"content":"Tiles are user interface elements that can be defined as buttons to take the user to a different location in the product.","pos":[7043,7164]},{"content":"In that regard, they are similar to menu item buttons.","pos":[7165,7219]},{"content":"However, tiles can also display business data like counts and KPIs.","pos":[7220,7287]},{"content":"Next you’ll create a KPI tile by creating a new tile element and associating it with the KPI that we defined previously.","pos":[7288,7408]},{"content":"Create a new tile.","pos":[7414,7432]},{"content":"In Solution Explorer, right-click the project node, point to <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>New Item<ept id=\"p2\">**</ept>.","pos":[7433,7531],"source":" In Solution Explorer, right-click the project node, point to **Add**, and then click **New Item**."},{"pos":[7536,7606],"content":"Select <bpt id=\"p1\">**</bpt>Operations Artifacts<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>User Interface<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>Tile<ept id=\"p3\">**</ept>.","source":"Select **Operations Artifacts** &gt; **User Interface** &gt; **Tile**."},{"content":"In name, enter <bpt id=\"p1\">**</bpt>FMRevenuePerRentalAutoTransmissionTile<ept id=\"p1\">**</ept>.","pos":[7611,7669],"source":"In name, enter **FMRevenuePerRentalAutoTransmissionTile**."},{"content":"This is the name of the tile that will be created.","pos":[7670,7720]},{"content":"The name must be unique across tiles.","pos":[7721,7758]},{"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[7763,7777],"source":"Click **Add**."},{"content":"The new tile will appear in Visual Studio.","pos":[7778,7820]},{"content":"Drag and drop the <bpt id=\"p1\">**</bpt>FMRevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> KPI definition from Solution Explorer onto the tile in the designer.","pos":[7825,7950],"source":"Drag and drop the **FMRevenuePerRentalAutoTransmission** KPI definition from Solution Explorer onto the tile in the designer."},{"content":"This will automatically specify a few properties.","pos":[7951,8000]},{"content":"Enter following properties.","pos":[8001,8028]},{"pos":[8133,8145],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[8148,8157],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Label","pos":[8182,8187]},{"content":"Revenue per Rental - Auto","pos":[8197,8222]},{"content":"Size","pos":[8231,8235]},{"content":"Wide","pos":[8246,8250]},{"content":"Save the tile","pos":[8279,8292]},{"pos":[8298,8361],"content":"Modify the workspace by adding the newly created KPI tile to it","linkify":"Modify the workspace by adding the newly created KPI tile to it","nodes":[{"content":"Modify the workspace by adding the newly created KPI tile to it","pos":[0,63]}]},{"content":"Now that you defined a KPI tile, you can put it in the interface so the user can take advantage of it.","pos":[8363,8465]},{"content":"First, add it to a workspace that you want to extend.","pos":[8466,8519]},{"content":"In the Application Explorer, locate <bpt id=\"p1\">**</bpt>Fleet Management <ph id=\"ph1\">&amp;gt;</ph> User Interface <ph id=\"ph2\">&amp;gt;</ph> Forms <ph id=\"ph3\">&amp;gt;</ph> FMClerkWorkspace<ept id=\"p1\">**</ept>.","pos":[8525,8635],"source":"In the Application Explorer, locate **Fleet Management &gt; User Interface &gt; Forms &gt; FMClerkWorkspace**."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Add to project<ept id=\"p1\">**</ept>.","pos":[8636,8678],"source":" Right-click and select **Add to project**."},{"content":"In Solution Explorer, double-click <bpt id=\"p1\">**</bpt>FMClerkWorkspace<ept id=\"p1\">**</ept>.","pos":[8683,8739],"source":"In Solution Explorer, double-click **FMClerkWorkspace**."},{"content":"Form Designer will be launched for the selected form.","pos":[8740,8793]},{"content":"You’ll place the tile at the end of the first section (TabPage) of the panorama (Tab) on the form.","pos":[8798,8896]},{"content":"This section is named TileContainer.","pos":[8897,8933]},{"content":"In the design window, expand <bpt id=\"p1\">**</bpt>FMClerkWorkspace<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Design<ept id=\"p2\">**</ept> <ph id=\"ph2\">&amp;gt;</ph><bpt id=\"p3\">**</bpt>PanoramaBody (Tab)<ept id=\"p3\">**</ept> <ph id=\"ph3\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>SummaryTileSection (TabPage)<ept id=\"p4\">**</ept>.","pos":[8934,9065],"source":" In the design window, expand **FMClerkWorkspace** &gt; **Design** &gt;**PanoramaBody (Tab)** &gt; **SummaryTileSection (TabPage)**."},{"pos":[9070,9155],"content":"Right-click <bpt id=\"p1\">**</bpt>SummaryTileSection<ept id=\"p1\">**</ept>, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Tile Button<ept id=\"p3\">**</ept>.","source":"Right-click **SummaryTileSection**, point to **New**, and then click **Tile Button**."},{"content":"Specify the following values for the new tile button.","pos":[9160,9213]},{"pos":[9344,9356],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[9359,9368],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[9406,9410]},{"content":"FMRevenuePerRentalAutoTransmission","pos":[9421,9455]},{"content":"Tile","pos":[9468,9472]},{"content":"FMRevenuePerRentalAutoTransmissionTile","pos":[9483,9521]},{"content":"Save and rebuild the project:","pos":[9529,9558]},{"content":"Ensure that you have enabled DBSync on build.","pos":[9567,9612]},{"pos":[9621,9765],"content":"To enable, select the project node, right-click<ph id=\"ph1\">&amp;gt;</ph>choose properties, and select the <bpt id=\"p1\">**</bpt>Set Synchronize Database on build<ept id=\"p1\">**</ept> property to <bpt id=\"p2\">**</bpt>True<ept id=\"p2\">**</ept>.","source":"To enable, select the project node, right-click&gt;choose properties, and select the **Set Synchronize Database on build** property to **True**."},{"content":"Let’s run the form to see the tile that we created.","pos":[9771,9822]},{"content":"Select the <bpt id=\"p1\">**</bpt>FMClerkWorkspace<ept id=\"p1\">**</ept> form in Solution Explorer.","pos":[9823,9881],"source":" Select the **FMClerkWorkspace** form in Solution Explorer."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Set as startup project<ept id=\"p1\">**</ept>.","pos":[9882,9932],"source":" Right-click and select **Set as startup project**."},{"pos":[9937,9971],"content":"Click <bpt id=\"p1\">**</bpt>Ctrl+F5<ept id=\"p1\">**</ept> to run the form.","source":"Click **Ctrl+F5** to run the form."},{"content":"You’ll see the modified workspace with the tile definition.","pos":[9976,10035]},{"content":"Select the <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> KPI tile to go to the KPI details page.","pos":[10040,10127],"source":"Select the **RevenuePerRentalAutoTransmission** KPI tile to go to the KPI details page."},{"content":"Scroll and see the trends created by default.","pos":[10128,10173]},{"pos":[10175,10217],"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>BI8<ept id=\"p1\">](./media/bi8.png)](./media/bi8.png)</ept>","source":"[![BI8](./media/bi8.png)](./media/bi8.png)"},{"pos":[10222,10269],"content":"Modify default trend charts shown in the client","linkify":"Modify default trend charts shown in the client","nodes":[{"content":"Modify default trend charts shown in the client","pos":[0,47]}]},{"content":"Trend analysis is vital to the KPI experience and the KPI details page provides the user with 3 pre-build trend charts.","pos":[10270,10389]},{"content":"These charts can be used to answer the following business questions.","pos":[10390,10458]},{"content":"<bpt id=\"p1\">**</bpt>Time trend:<ept id=\"p1\">**</ept> When did the change occur?","pos":[10464,10506],"source":"**Time trend:** When did the change occur?"},{"content":"Has it always been this way?","pos":[10507,10535]},{"pos":[10540,10599],"content":"<bpt id=\"p1\">**</bpt>Top contributors:<ept id=\"p1\">**</ept> Who or what are biggest contributors?","source":"**Top contributors:** Who or what are biggest contributors?"},{"pos":[10604,10664],"content":"<bpt id=\"p1\">**</bpt>Bottom contributors:<ept id=\"p1\">**</ept> Who or what are contributing least?","source":"**Bottom contributors:** Who or what are contributing least?"},{"content":"When you define a new KPI, you get the these trends by default – the system tries to guess which trends may be relevant.","pos":[10666,10786]},{"content":"This happens, even if the developer does not specify these trends when defining the KPI.","pos":[10787,10875]},{"content":"As a developer who is aware of the business context, you may wish to identify specific trends that need to be shown to the user – not the default trends shown.","pos":[10876,11035]},{"content":"In the following example, let’s build specific trend charts to the KPI so that users can quickly diagnose the problem.","pos":[11036,11154]},{"pos":[11160,11195],"content":"Modify the default time trend chart","linkify":"Modify the default time trend chart","nodes":[{"content":"Modify the default time trend chart","pos":[0,35]}]},{"content":"You’ll modify the default time trend chart so that it only shows the trend for the last 6 months.","pos":[11197,11294]},{"content":"Select the KPI <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> in Solution Explorer and double-click.","pos":[11300,11390],"source":"Select the KPI **RevenuePerRentalAutoTransmission** in Solution Explorer and double-click."},{"content":"KPI designer will be displayed.","pos":[11391,11422]},{"content":"Select <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission <ph id=\"ph1\">&amp;gt;</ph> Trends<ept id=\"p1\">**</ept> node.","pos":[11427,11488],"source":"Select **RevenuePerRentalAutoTransmission &gt; Trends** node."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>New Trend<ept id=\"p1\">**</ept>.","pos":[11489,11526],"source":" Right-click and select **New Trend**."},{"content":"Right-click the newly created node and select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[11531,11592],"source":"Right-click the newly created node and select **Properties**."},{"content":"Modify following property values.","pos":[11593,11626]},{"pos":[11711,11723],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[11726,11735],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[11750,11754]},{"content":"MyTimeTrend","pos":[11765,11776]},{"content":"Trend Type","pos":[11789,11799]},{"content":"Time trend","pos":[11804,11814]},{"content":"Item Count","pos":[11828,11838]},{"content":"6","pos":[11843,11844]},{"content":"Dimension","pos":[11867,11876]},{"content":"RentalStartDate","pos":[11882,11897]},{"content":"Attribute","pos":[11906,11915]},{"content":"Month","pos":[11921,11926]},{"content":"Label","pos":[11945,11950]},{"content":"Past 6 months","pos":[11960,11973]},{"content":"Save the KPI.","pos":[11983,11996]},{"pos":[12002,12049],"content":"Modify the default top contributors trend chart","linkify":"Modify the default top contributors trend chart","nodes":[{"content":"Modify the default top contributors trend chart","pos":[0,47]}]},{"content":"You’ll modify the default top contributors chart to reflect the top auto transmission rentals by vehicle model.","pos":[12051,12162]},{"content":"Select <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission <ph id=\"ph1\">&amp;gt;</ph><ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>Trends<ept id=\"p2\">**</ept>.","pos":[12168,12228],"source":"Select **RevenuePerRentalAutoTransmission &gt;** **Trends**."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>New Trend<ept id=\"p1\">**</ept>.","pos":[12229,12266],"source":" Right-click and select **New Trend**."},{"content":"Select the newly created bode.","pos":[12271,12301]},{"content":"Right-click and select properties.","pos":[12302,12336]},{"content":"Modify following property value.","pos":[12337,12369]},{"pos":[12466,12478],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[12481,12490],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[12511,12515]},{"content":"TopModels","pos":[12526,12535]},{"content":"Dimension","pos":[12556,12565]},{"content":"FMVehicle","pos":[12571,12580]},{"content":"Attribute","pos":[12601,12610]},{"content":"VehicleModel","pos":[12616,12628]},{"content":"Item Count","pos":[12646,12656]},{"content":"5","pos":[12661,12662]},{"content":"Trend Type","pos":[12691,12701]},{"content":"Top trend","pos":[12706,12715]},{"content":"Label","pos":[12736,12741]},{"content":"Top performing models","pos":[12751,12772]},{"content":"Next, you’ll define another top contributor chart in addition to the default one.","pos":[12780,12861]},{"content":"Select the <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission <ph id=\"ph1\">&amp;gt;</ph> Trends<ept id=\"p1\">**</ept> node.","pos":[12862,12927],"source":" Select the **RevenuePerRentalAutoTransmission &gt; Trends** node."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>New Trend<ept id=\"p1\">**</ept>.","pos":[12928,12965],"source":" Right-click and select **New Trend**."},{"content":"Select the newly created trend node.","pos":[12970,13006]},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Properties<ept id=\"p1\">**</ept>.","pos":[13007,13045],"source":" Right-click and select **Properties**."},{"content":"Enter the following property values (you must enter property values in the following order).","pos":[13046,13138]},{"pos":[13229,13241],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[13244,13253],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[13271,13275]},{"content":"TopCustomers","pos":[13286,13298]},{"content":"Trend Type","pos":[13313,13323]},{"content":"Top trend","pos":[13328,13337]},{"content":"Dimension","pos":[13355,13364]},{"content":"FMCustomerProfile","pos":[13370,13387]},{"content":"Attribute","pos":[13397,13406]},{"content":"Customer Last Name","pos":[13412,13430]},{"content":"Item Count","pos":[13439,13449]},{"content":"5","pos":[13454,13455]},{"content":"Label","pos":[13481,13486]},{"content":"Top Customers","pos":[13496,13509]},{"content":"Save the KPI.","pos":[13522,13535]},{"content":"Rebuild the project.","pos":[13536,13556]},{"pos":[13562,13603],"content":"Preview the trending experience in client","linkify":"Preview the trending experience in client","nodes":[{"content":"Preview the trending experience in client","pos":[0,41]}]},{"content":"Preview the KPI definition in the client.","pos":[13605,13646]},{"content":"Click <bpt id=\"p1\">**</bpt>Ctrl+F5<ept id=\"p1\">**</ept> to run the form in Visual Studio.","pos":[13652,13703],"source":"Click **Ctrl+F5** to run the form in Visual Studio."},{"content":"You’ll see the modified workspace with the tile definition","pos":[13704,13762]},{"content":"Select the <bpt id=\"p1\">**</bpt>RevenuePerRentalAutoTransmission<ept id=\"p1\">**</ept> KPI tile to go to the KPI details page.","pos":[13767,13854],"source":"Select the **RevenuePerRentalAutoTransmission** KPI tile to go to the KPI details page."},{"content":"Notice that the trend definitions are shown in the KPI details UI.","pos":[13855,13921]},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>BI9<ept id=\"p1\">](./media/bi9.png)](./media/bi9.png)</ept> Scroll to the right and select the top contributors trend.","pos":[13923,14024],"source":"[![BI9](./media/bi9.png)](./media/bi9.png) Scroll to the right and select the top contributors trend."},{"content":"In the drop-down select the <bpt id=\"p1\">**</bpt>Top Customers<ept id=\"p1\">**</ept> trend chart.","pos":[14025,14083],"source":" In the drop-down select the **Top Customers** trend chart."},{"content":"Notice that the chart changes to reflect the trend chart selected by the user.","pos":[14084,14162]},{"pos":[14167,14204],"content":"Model a KPI using a method expression","linkify":"Model a KPI using a method expression","nodes":[{"content":"Model a KPI using a method expression","pos":[0,37]}]},{"content":"Defining a KPI expression using pre-defined measures is the easiest approach toward building KPIs.","pos":[14205,14303]},{"content":"However, it requires that the developer models all the required measures into the aggregate measurement.","pos":[14304,14408]},{"content":"It’s a good practice to ship frequently used calculations within the aggregate measurement.","pos":[14409,14500]},{"content":"This way, users can define new KPIs within the client.","pos":[14501,14555]},{"content":"However, there is another way to ship calculations without crowding the aggregate measurement with many calculated measures.","pos":[14556,14680]},{"content":"Developer has the ability to build a calculated expression by referencing existing measures and dimension attributes and to reuse that expression in a KPI definition.","pos":[14681,14847]},{"content":"These expressions are called Method expressions.","pos":[14848,14896]},{"content":"Method expressions can be thought of as the equivalent of MDX expressions in Dynamics AX 2012.","pos":[14897,14991]},{"content":"But as you’ll discover in following sections, writing method expressions is both easy and quick.","pos":[14992,15088]},{"pos":[15094,15128],"content":"Review the first method expression","linkify":"Review the first method expression","nodes":[{"content":"Review the first method expression","pos":[0,34]}]},{"content":"Let’s write a simple method expression that multiplies a measure by a constant.","pos":[15130,15209]},{"content":"Let’s use that method expression and define a KPI.","pos":[15210,15260]},{"content":"First, let’s examine the code you’re going to write.","pos":[15261,15313]},{"content":"Let’s examine the method in detail.","pos":[16261,16296]},{"content":"This is the first attribute.","pos":[16297,16325]},{"content":"This specifies that the calculations in the class refer to the aggregate measurement <bpt id=\"p1\">**</bpt>FMAggregateMeasurement<ept id=\"p1\">**</ept>.","pos":[16397,16509],"source":"This specifies that the calculations in the class refer to the aggregate measurement **FMAggregateMeasurement**."},{"content":"Notice that you can write a method expression class scoped to a specific aggregate measurement so that the expressions can be shared across KPIs, calculations, and other classes.","pos":[16510,16688]},{"content":"Each method becomes an expression that can be referenced by value or the goal property of a KPI definition.","pos":[16689,16796]},{"content":"Consider the following method.","pos":[16797,16827]},{"content":"The first line designates the EDT of the value returned by the method.","pos":[17262,17332]},{"content":"Notice that a method expression must always return a NumericExpression type.","pos":[17405,17481]},{"content":"A NumericExpression is a super type that refers to a number that can be bound to a value or a goal expression in a KPI.","pos":[17482,17601]},{"content":"The following line is the core of the calculation.","pos":[17602,17652]},{"content":"A MeasureExpression is an object that evaluates measures from an aggregate measurement defined in the AOT.","pos":[17745,17851]},{"content":"A measure expression can be manipulated using common operators as well as using aggregate expressions.","pos":[17852,17954]},{"pos":[17960,18014],"content":"Define a new KPI using a pre-defined method expression","linkify":"Define a new KPI using a pre-defined method expression","nodes":[{"content":"Define a new KPI using a pre-defined method expression","pos":[0,54]}]},{"content":"You’ll define a KPI with a pre-defined method expression present in the class <bpt id=\"p1\">**</bpt>FMRentalCalculations<ept id=\"p1\">**</ept>.","pos":[18020,18123],"source":"You’ll define a KPI with a pre-defined method expression present in the class **FMRentalCalculations**."},{"content":"Select the project node.","pos":[18124,18148]},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[18149,18180],"source":" Right-click and select **Add**."},{"content":"Select <bpt id=\"p1\">**</bpt>Analytics <ph id=\"ph1\">&amp;gt;</ph> Key performance indicator<ept id=\"p1\">**</ept> from the list of items.","pos":[18185,18260],"source":"Select **Analytics &gt; Key performance indicator** from the list of items."},{"content":"Provide <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept> as the name of the KPI.","pos":[18261,18321],"source":" Provide **FMRevenuePerRentalMargin** as the name of the KPI."},{"pos":[18326,18399],"content":"KPI designer will be displayed with the KPI <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept>.","source":"KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin**."},{"content":"Select <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept>.","pos":[18404,18440],"source":"Select **FMRevenuePerRentalMargin**."},{"content":"Right-click and select properties.","pos":[18441,18475]},{"content":"Specify following property values.","pos":[18476,18510]},{"pos":[18609,18621],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[18624,18633],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Measurement","pos":[18655,18666]},{"content":"FMAggregateMeasurement","pos":[18670,18692]},{"content":"Select the <bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept> node.","pos":[18700,18726],"source":"Select the **Value** node."},{"content":"Right-click and select properties.","pos":[18727,18761]},{"content":"Enter following property values (you must enter them in the order shown below).","pos":[18762,18841]},{"pos":[18964,18976],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[18989,18998],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Value Type","pos":[19022,19032]},{"content":"Based on Expression","pos":[19047,19066]},{"content":"Expression Class name","pos":[19080,19101]},{"content":"FMRentalCalculations","pos":[19105,19125]},{"content":"Expression method name","pos":[19138,19160]},{"content":"FMRevenuePerRentalMargin","pos":[19163,19187]},{"content":"Define the expression for the KPI goal.","pos":[19195,19234]},{"content":"Select the <bpt id=\"p1\">**</bpt>Goal<ept id=\"p1\">**</ept> node and specify the following properties.","pos":[19235,19297],"source":" Select the **Goal** node and specify the following properties."},{"pos":[19376,19388],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[19391,19400],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Goal Type","pos":[19412,19421]},{"content":"BasedOnValue","pos":[19427,19439]},{"content":"Value","pos":[19448,19453]},{"content":"250","pos":[19463,19466]},{"content":"Save the KPI definition.","pos":[19483,19507]},{"content":"Build the project.","pos":[19508,19526]},{"content":"You can preview the KPI definition.","pos":[19531,19566]},{"pos":[19571,19613],"content":"Create a count tile using a KPI definition","linkify":"Create a count tile using a KPI definition","nodes":[{"content":"Create a count tile using a KPI definition","pos":[0,42]}]},{"content":"<bpt id=\"p1\">*</bpt>Tiles<ept id=\"p1\">*</ept> are user interface elements that can be defined as buttons to take the user to a different location in the product.","pos":[19614,19737],"source":"*Tiles* are user interface elements that can be defined as buttons to take the user to a different location in the product."},{"content":"In that regard, they are similar to menu item buttons.","pos":[19738,19792]},{"content":"However, tiles can also display business data like counts and KPIs.","pos":[19793,19860]},{"content":"You have the ability to draw KPI tile into different styles using properties defined within the KPI.","pos":[19861,19961]},{"content":"Next, you’ll modify KPI properties so that it renders as a count tile.","pos":[19962,20032]},{"pos":[20038,20059],"content":"Modify KPI properties","linkify":"Modify KPI properties","nodes":[{"content":"Modify KPI properties","pos":[0,21]}]},{"content":"Select the KPI <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept> in Solution Explorer and double-click.","pos":[20065,20147],"source":"Select the KPI **FMRevenuePerRentalMargin** in Solution Explorer and double-click."},{"content":"KPI designer will be displayed with the KPI <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept>.","pos":[20148,20221],"source":" KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin**."},{"content":"Select <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept>.","pos":[20226,20262],"source":"Select **FMRevenuePerRentalMargin**."},{"content":"Right-click and select properties.","pos":[20263,20297]},{"content":"Modify the following property values.","pos":[20298,20335]},{"pos":[20426,20438],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[20450,20459],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Show Goal","pos":[20468,20477]},{"content":"No","pos":[20492,20494]},{"content":"Show Status and Trend","pos":[20510,20531]},{"content":"No","pos":[20534,20536]},{"content":"Save the KPI definition.","pos":[20551,20575]},{"pos":[20581,20619],"content":"Create a tile using the KPI definition","linkify":"Create a tile using the KPI definition","nodes":[{"content":"Create a tile using the KPI definition","pos":[0,38]}]},{"content":"Next, you’ll create a tile using the KPI definition.","pos":[20621,20673]},{"content":"Create a new tile.","pos":[20679,20697]},{"content":"In Solution Explorer, right-click the project node, point to <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>, and then click <bpt id=\"p2\">**</bpt>New Item<ept id=\"p2\">**</ept>.","pos":[20698,20796],"source":" In Solution Explorer, right-click the project node, point to **Add**, and then click **New Item**."},{"pos":[20801,20875],"content":"Select <bpt id=\"p1\">**</bpt>Operations<ept id=\"p1\">**</ept> <bpt id=\"p2\">**</bpt>Artifacts<ept id=\"p2\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p3\">**</bpt>User Interface<ept id=\"p3\">**</ept> <ph id=\"ph2\">&amp;gt;</ph> <bpt id=\"p4\">**</bpt>Tile<ept id=\"p4\">**</ept>.","source":"Select **Operations** **Artifacts** &gt; **User Interface** &gt; **Tile**."},{"content":"For the name, enter <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMarginTile<ept id=\"p1\">**</ept>.","pos":[20880,20933],"source":"For the name, enter **FMRevenuePerRentalMarginTile**."},{"content":"This is the name of the tile that will be created.","pos":[20934,20984]},{"content":"The name must be unique across tiles.","pos":[20985,21022]},{"content":"Click <bpt id=\"p1\">**</bpt>Add<ept id=\"p1\">**</ept>.","pos":[21027,21041],"source":"Click **Add**."},{"content":"The new tile will appear in Visual Studio.","pos":[21042,21084]},{"content":"Drag and drop the <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept> KPI definition from Solution Explorer onto the <bpt id=\"p2\">**</bpt>FMRevenuePerRentalMarginTile<ept id=\"p2\">**</ept> tile definition in the designer.","pos":[21089,21248],"source":"Drag and drop the **FMRevenuePerRentalMargin** KPI definition from Solution Explorer onto the **FMRevenuePerRentalMarginTile** tile definition in the designer."},{"content":"This will automatically specify following properties:","pos":[21249,21302]},{"pos":[21413,21425],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[21428,21437],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Size","pos":[21465,21469]},{"content":"Wide","pos":[21480,21484]},{"content":"Label","pos":[21517,21522]},{"content":"Margin on Revenue per Rental","pos":[21532,21560]},{"content":"Type","pos":[21569,21573]},{"content":"KPI","pos":[21584,21587]},{"content":"KPI","pos":[21621,21624]},{"content":"FMRevenuePerRentalMargin","pos":[21636,21660]},{"content":"Save the tile definition.","pos":[21672,21697]},{"pos":[21703,21766],"content":"Modify the workspace by adding the newly created KPI tile to it","linkify":"Modify the workspace by adding the newly created KPI tile to it","nodes":[{"content":"Modify the workspace by adding the newly created KPI tile to it","pos":[0,63]}]},{"content":"Now that you defined a KPI tile, you can put it in the interface so the user can take advantage of it.","pos":[21768,21870]},{"content":"First, add it to a workspace that you want to extend.","pos":[21871,21924]},{"content":"If you haven’t done so already, launch Application Explorer and locate <bpt id=\"p1\">**</bpt>Fleet Management <ph id=\"ph1\">&amp;gt;</ph> User Interface <ph id=\"ph2\">&amp;gt;</ph> Forms <ph id=\"ph3\">&amp;gt;</ph> FMClerkWorkspace<ept id=\"p1\">**</ept>.","pos":[21930,22075],"source":"If you haven’t done so already, launch Application Explorer and locate **Fleet Management &gt; User Interface &gt; Forms &gt; FMClerkWorkspace**."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Add to current project<ept id=\"p1\">**</ept>.","pos":[22076,22126],"source":" Right-click and select **Add to current project**."},{"pos":[22131,22220],"content":"In Solution Explorer, expand the Forms folder and then double-click <bpt id=\"p1\">**</bpt>FMClerkWorkspace<ept id=\"p1\">**</ept>.","source":"In Solution Explorer, expand the Forms folder and then double-click **FMClerkWorkspace**."},{"content":"Decide where the KPI should appear in the workspace.","pos":[22225,22277]},{"content":"For this tutorial, you’ll place it at the end of the first section (TabPage) of the panorama (Tab) on the form.","pos":[22278,22389]},{"content":"This section is named TileContainer.","pos":[22390,22426]},{"content":"Expand <bpt id=\"p1\">**</bpt>FMClerkWorkspace <ph id=\"ph1\">&amp;gt;</ph> <ept id=\"p1\">**</ept>Design<bpt id=\"p2\">**</bpt> <ph id=\"ph2\">&amp;gt;</ph><ept id=\"p2\">**</ept>PanoramaBody (Tab)<bpt id=\"p3\">**</bpt> <ph id=\"ph3\">&amp;gt;</ph> <ept id=\"p3\">**</ept>SummaryTileSection (TabPage)****.","pos":[22427,22536],"source":" Expand **FMClerkWorkspace &gt; **Design** &gt;**PanoramaBody (Tab)** &gt; **SummaryTileSection (TabPage)****."},{"pos":[22541,22626],"content":"Right-click <bpt id=\"p1\">**</bpt>SummaryTileSection<ept id=\"p1\">**</ept>, point to <bpt id=\"p2\">**</bpt>New<ept id=\"p2\">**</ept>, and then click <bpt id=\"p3\">**</bpt>Tile Button<ept id=\"p3\">**</ept>.","source":"Right-click **SummaryTileSection**, point to **New**, and then click **Tile Button**."},{"content":"Specify the following values for the new tile button.","pos":[22631,22684]},{"pos":[22795,22807],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[22810,22819],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Name","pos":[22847,22851]},{"content":"RevenuePerRentalKPITile","pos":[22862,22885]},{"content":"Tile","pos":[22899,22903]},{"content":"FMRevenuePerRentalMarginTile","pos":[22914,22942]},{"content":"Save and rebuild the project","pos":[22950,22978]},{"content":"Let’s run the form to see the tile we created above.","pos":[22983,23035]},{"content":"Select the <bpt id=\"p1\">**</bpt>FMClerkWorkspace<ept id=\"p1\">**</ept> form in the Solution Explorer.","pos":[23036,23098],"source":" Select the **FMClerkWorkspace** form in the Solution Explorer."},{"content":"Right-click and select <bpt id=\"p1\">**</bpt>Set as startup project<ept id=\"p1\">**</ept>.","pos":[23099,23149],"source":" Right-click and select **Set as startup project**."},{"pos":[23154,23188],"content":"Click <bpt id=\"p1\">**</bpt>Ctrl+F5<ept id=\"p1\">**</ept> to run the form.","source":"Click **Ctrl+F5** to run the form."},{"content":"You’ll see the modified workspace with the tile definition.","pos":[23193,23252]},{"pos":[23257,23313],"content":"Add a drillthru link from a KPI tile to a different form","linkify":"Add a drillthru link from a KPI tile to a different form","nodes":[{"content":"Add a drillthru link from a KPI tile to a different form","pos":[0,56]}]},{"content":"KPI tiles drill-down to the <bpt id=\"p1\">**</bpt>KPIDetails<ept id=\"p1\">**</ept> form by default.","pos":[23314,23373],"source":"KPI tiles drill-down to the **KPIDetails** form by default."},{"content":"So, unless you change the drill-thru destination within the KPI definition, KPI tiles will always take the user to the details page for that KPI.","pos":[23374,23519]},{"content":"In this exercise, you’ll modify the default drill-thru destination.","pos":[23520,23587]},{"content":"Select the KPI <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept> in Solution Explorer and double-click.","pos":[23593,23675],"source":"Select the KPI **FMRevenuePerRentalMargin** in Solution Explorer and double-click."},{"content":"KPI designer will be displayed with the KPI <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin.<ept id=\"p1\">**</ept>","pos":[23676,23749],"source":" KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin.**"},{"content":"Select <bpt id=\"p1\">**</bpt>FMRevenuePerRentalMargin<ept id=\"p1\">**</ept>.","pos":[23754,23790],"source":"Select **FMRevenuePerRentalMargin**."},{"content":"Right-click and select properties.","pos":[23791,23825]},{"content":"Modify following property values.","pos":[23826,23859]},{"pos":[23970,23982],"content":"<bpt id=\"p1\">**</bpt>Property<ept id=\"p1\">**</ept>","source":"**Property**"},{"pos":[23993,24002],"content":"<bpt id=\"p1\">**</bpt>Value<ept id=\"p1\">**</ept>","source":"**Value**"},{"content":"Drill thru Link type","pos":[24022,24042]},{"content":"Menu item","pos":[24045,24054]},{"content":"Menu item name","pos":[24074,24088]},{"content":"FMReservationsReport","pos":[24097,24117]},{"content":"Menu item type","pos":[24126,24140]},{"content":"Display","pos":[24149,24156]},{"content":"Save the KPI definition.","pos":[24177,24201]},{"pos":[24206,24240],"content":"Click <bpt id=\"p1\">**</bpt>Ctrl+F5<ept id=\"p1\">**</ept> to run the form.","source":"Click **Ctrl+F5** to run the form."},{"content":"You’ll see the modified workspace with the tile definition.","pos":[24245,24304]},{"content":"Click the tile.","pos":[24305,24320]},{"pos":[24325,24355],"content":"Preview the enriched workspace","linkify":"Preview the enriched workspace","nodes":[{"content":"Preview the enriched workspace","pos":[0,30]}]},{"content":"After making the above modifications to the clerk workspace, you can reload the workspace to view the updated content.","pos":[24356,24474]},{"content":"You can access the workspace from the newly created link in the navigation pane.","pos":[24475,24555]},{"content":"Your updated workspace will show the added charts and KPI tile.","pos":[24556,24619]},{"pos":[24624,24632],"content":"Appendix","linkify":"Appendix","nodes":[{"content":"Appendix","pos":[0,8]}]},{"pos":[24643,24667],"content":"Installing the demo data","linkify":"Installing the demo data","nodes":[{"content":"Installing the demo data","pos":[0,24]}]},{"content":"To work with the sample, you must install the provided demo data.","pos":[24669,24734]},{"content":"Open Internet Explorer, and go to your instance base URL.","pos":[24740,24797]},{"content":"In the cloud environment, the base URL is obtained from LCS","pos":[24806,24865]},{"pos":[24874,25014],"content":"On a local VM, the base URL is <bpt id=\"p1\">[</bpt>https://usnconeboxax1aos.cloud.onebox.dynamics.com<ept id=\"p1\">](https://usnconeboxax1aos.cloud.onebox.dynamics.com/en/)</ept>.","source":"On a local VM, the base URL is [https://usnconeboxax1aos.cloud.onebox.dynamics.com](https://usnconeboxax1aos.cloud.onebox.dynamics.com/en/)."},{"content":"Sign in.","pos":[25020,25028]},{"pos":[25033,25144],"content":"On the dashboard, scroll to the right, and in the <bpt id=\"p1\">**</bpt>Fleet Management<ept id=\"p1\">**</ept> section, click the <bpt id=\"p2\">**</bpt>Fleet setup<ept id=\"p2\">**</ept> tile.","source":"On the dashboard, scroll to the right, and in the **Fleet Management** section, click the **Fleet setup** tile."},{"pos":[25149,25197],"content":"On the <bpt id=\"p1\">**</bpt>Setup<ept id=\"p1\">**</ept> form, click <bpt id=\"p2\">**</bpt>Load demo data<ept id=\"p2\">**</ept>.","source":"On the **Setup** form, click **Load demo data**."},{"pos":[25202,25257],"content":"If you’re asked to reload the base data, click <bpt id=\"p1\">**</bpt>Yes<ept id=\"p1\">**</ept>.","source":"If you’re asked to reload the base data, click **Yes**."},{"pos":[25262,25313],"content":"When the data is finished loading, click <bpt id=\"p1\">**</bpt>Close<ept id=\"p1\">**</ept>.","source":"When the data is finished loading, click **Close**."},{"content":"Click <bpt id=\"p1\">**</bpt>Show navigation pane<ept id=\"p1\">**</ept> in the application bar.","pos":[25318,25372],"source":"Click **Show navigation pane** in the application bar."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>BI10<ept id=\"p1\">](./media/bi10.png)](./media/bi10.png)</ept>","pos":[25373,25418],"source":"[![BI10](./media/bi10.png)](./media/bi10.png)"},{"content":"Click on <bpt id=\"p1\">**</bpt>App links<ept id=\"p1\">**</ept>.","pos":[25423,25446],"source":"Click on **App links**."},{"content":"<bpt id=\"p1\">[</bpt><ph id=\"ph1\">![</ph>BI11<ept id=\"p1\">](./media/bi11.png)](./media/bi11.png)</ept>","pos":[25447,25492],"source":"[![BI11](./media/bi11.png)](./media/bi11.png)"},{"content":"Click <bpt id=\"p1\">**</bpt>System Administration<ept id=\"p1\">**</ept> <ph id=\"ph1\">&amp;gt;</ph> <bpt id=\"p2\">**</bpt>Maintain aggregate measurements<ept id=\"p2\">**</ept>.","pos":[25497,25570],"source":"Click **System Administration** &gt; **Maintain aggregate measurements**."},{"content":"Select <bpt id=\"p1\">**</bpt>FMAggregateMeasurements<ept id=\"p1\">**</ept>.","pos":[25571,25606],"source":" Select **FMAggregateMeasurements**."},{"content":"On the application bar, click <bpt id=\"p1\">**</bpt>Refresh now<ept id=\"p1\">**</ept>.","pos":[25611,25657],"source":"On the application bar, click **Refresh now**."},{"content":"Wait until the processing completes.","pos":[25658,25694]},{"content":"Processing is indicated at top of the page by a series of moving dots.","pos":[25695,25765]},{"content":"The processing is completed when the indicator disappears.","pos":[25766,25824]}],"content":"---\n# required metadata\n\ntitle: Add BI to workspaces | Microsoft Docs\ndescription: In this tutorial, you’ll add BI controls such as KPI tiles to an existing workspace. \nauthor: sericks007\nmanager: AnnBe\nms.date: 2015-12-12 19:09:49\nms.topic: article\nms.prod: \nms.service: Dynamics365Operations\nms.technology: \n\n# optional metadata\n\n# keywords: \n# ROBOTS: \naudience: Developer\n# ms.devlang: \nms.reviewer: 61\nms.suite: Released- Dynamics AX 7.0.0\n# ms.tgt_pltfrm: \nms.custom: 24551\nms.assetid: e97db1d6-20d3-4918-a51d-e057bd629cb3\nms.region: Global\n# ms.industry: \nms.author: milindav\n\n---\n\n# Add BI to workspaces\n\nIn this tutorial, you’ll add BI controls such as KPI tiles to an existing workspace. \n\nKey concepts\n------------\n\n-   *Aggregate measurements*, similar to *perspectives and cubes* from earlier versions, enable you to model and consume aggregate data.\n-   *Key Performance Indicators* (KPIs) are a form of analytic controls that track organizational performance against the current status. KPIs are represented as tiles in a *workspace* or the *dashboard*. In this tutorial, you’ll model a KPI in Visual Studio.\n-   KPIs that are modeled in Visual Studio can be modified in the client. A user also has the ability to model new KPIs using the client.\n-   A *workspace* is an overview page that is specific to a particular subject area. Workspaces are common to all users. In this tutorial, you’ll add content into an existing workspace.\n-   The *dashboard* is the default home page for each user.\n-   *Tiles* are securable objects that can be pinned to a workspace or the dashboard. KPIs and aggregate data that are shown on the dashboard or a workspace can be secured by using menu items.\n-   Aggregate data can be consumed in building charts and other controls. Using the model driven approach, you have the ability to create data entities by directly referencing aggregate measurements and aggregate dimensions. These entities are referred to as *aggregate data entities*. Aggregate data entities are read-only data entities used for reporting purposes.\n-   *Aggregate programming model* enables a developer to consume aggregate data programmatically using either X++ or C\\# code. Data retrieved using the aggregate programming model can be used as a data source in forms.\n-   *Method expressions* enable a developer to build rich expressions using aggregate data. Method expressions are written in X++. KPIs can be modeled using method expressions thereby eliminating the need to build MDX expressions.\n-   *Contextual BI* refers to providing required insights as part of the user experience such that the user has relevant insights to not only achieve the task at hand but be highly productive during the course of the day.\n-   *Embedded BI* refers to analytic content being embedded in the user experience. Contextual BI and embedded BI teams are closely related – contextual BI implies the added notion that the context of analytic context revolves around the data or the task at hand.\n-   *Self service BI* refers to enabling to user to tweak existing and/or create new analytic content such as reports, KPIs, and dashboards.\n\n## Setup\n1.  If this is the first tutorial you’re working on, you must complete the steps in \"Installing demo data\" in the [Appendix](#appendix).\n2.  Import the project **Adding BI to workspaces.axpp** in the **C:FMLabLab 10-1** folder.\n    -   Download the Fleet Management sample from <https://github.com/Microsoft/FMLab>, save it to **C:**, and unzip it.\n    -   In Visual Studio, from the **Dynamics 365** menu, select **Import project**.\n    -   Go to the **C:\\\\FMLab\\\\Lab 10-1** folder and select the **Adding BI to workspaces.axpp** project.\n    -   Select the overwrite option.\n    -   Select new solution.\n    -   Click **OK**.\n\n3.  You should see the project in the solution explorer in Visual Studio, and the FMRentalCalculations class is shown.\n\n## Model a KPI definition with a range\n### Model a KPI using Aggregate measures\n\nLet’s assume that we want to monitor **Revenue per rental for Vehicles with Automatic transmission**. As you may recall, we have a measure that calculates revenue per rental. However, we want revenue per rental only from vehicles with automatic transmission. In order to achieve this scenario, we’ll define a range expression to filter the value expression.\n\n1.  Select the project node. Right-click and select **Add**.\n2.  Select **Analytics &gt; Key performance indicator** from the list of items. Enter **FMRevenuePerRentalAutoTransmission** as the name of the KPI.\n3.  KPI designer will be displayed with the KPI **RevenuePerRentalAutoTransmission**.\n4.  Right-click the **RevenuePerRentalAutoTransmission** node and select **Properties**. Enter the following properties.\n\n|                       |                        |\n|-----------------------|------------------------|\n| **Property**          | **Value**              |\n| Measurement           | FMAggregateMeasurement |\n| Threshold Short Label | Auto Transmissions     |\n|                       |                        |\n\n### Define Ranges to filter value and goal\n\n1.  Define the expression for the KPI value. Under **FMRevenuePerRentalAutoTransmission**, select the **Value** node and specify the following properties (the values must be entered in the order they appear in the table below).\n    |               |                  |\n    |---------------|------------------|\n    | **Property**  | **Value**        |\n    | Measure Group | FMRentalCharges  |\n    | Measure       | RevenuePerRental |\n\n2.  Because we want to filter vehicles with auto transmission, let’s define a range expression. Expand **Value &gt; Ranges**  and then select the **Ranges** node. Right-click and select **New Range**.\n3.  Select the newly created range. Right-click and select **properties**. Enter following property values (the values must be entered in the order they appear in the table below).\n    |               |                     |\n    |---------------|---------------------|\n    | **Property**  | **Value**           |\n    | Name          | AutoTransmission    |\n    | Filter Type   | Value               |\n    | Dimension     | FMVehicle           |\n    | Attribute     | VehicleTransmission |\n    | Default value | 1 (designates Auto) |\n    | Hidden        | No                  |\n\n    **Note:** When defining value based filters, the system does not validate the string of numeric value entered for the default value property. You’re expected to enter the data value as it would appear in data. This is similar to specifying a range expression in general. If the range expression isn’t hidden, the user can change this filter value or the filter definition in the client.\n4.  Define the expression for the KPI Goal. Select the **Goal** node and specify the following properties.\n\n|              |              |\n|--------------|--------------|\n| **Property** | **Value**    |\n| Goal Type    | BasedOnValue |\n| Value        | 250          |\n\n### \n\n## Create a wide KPI tile using the KPI definition\nTiles are user interface elements that can be defined as buttons to take the user to a different location in the product. In that regard, they are similar to menu item buttons. However, tiles can also display business data like counts and KPIs. Next you’ll create a KPI tile by creating a new tile element and associating it with the KPI that we defined previously.\n\n1.  Create a new tile. In Solution Explorer, right-click the project node, point to **Add**, and then click **New Item**.\n2.  Select **Operations Artifacts** &gt; **User Interface** &gt; **Tile**.\n3.  In name, enter **FMRevenuePerRentalAutoTransmissionTile**. This is the name of the tile that will be created. The name must be unique across tiles.\n4.  Click **Add**. The new tile will appear in Visual Studio.\n5.  Drag and drop the **FMRevenuePerRentalAutoTransmission** KPI definition from Solution Explorer onto the tile in the designer. This will automatically specify a few properties. Enter following properties.\n    |              |                           |\n    |--------------|---------------------------|\n    | **Property** | **Value**                 |\n    | Label        | Revenue per Rental - Auto |\n    | Size         | Wide                      |\n\n6.  Save the tile\n\n### Modify the workspace by adding the newly created KPI tile to it\n\nNow that you defined a KPI tile, you can put it in the interface so the user can take advantage of it. First, add it to a workspace that you want to extend.\n\n1.  In the Application Explorer, locate **Fleet Management &gt; User Interface &gt; Forms &gt; FMClerkWorkspace**. Right-click and select **Add to project**.\n2.  In Solution Explorer, double-click **FMClerkWorkspace**. Form Designer will be launched for the selected form.\n3.  You’ll place the tile at the end of the first section (TabPage) of the panorama (Tab) on the form. This section is named TileContainer. In the design window, expand **FMClerkWorkspace** &gt; **Design** &gt;**PanoramaBody (Tab)** &gt; **SummaryTileSection (TabPage)**.\n4.  Right-click **SummaryTileSection**, point to **New**, and then click **Tile Button**.\n5.  Specify the following values for the new tile button.\n    |              |                                        |\n    |--------------|----------------------------------------|\n    | **Property** | **Value**                              |\n    | Name         | FMRevenuePerRentalAutoTransmission     |\n    | Tile         | FMRevenuePerRentalAutoTransmissionTile |\n\n6.  Save and rebuild the project:\n    -   Ensure that you have enabled DBSync on build.\n    -   To enable, select the project node, right-click&gt;choose properties, and select the **Set Synchronize Database on build** property to **True**.\n\n7.  Let’s run the form to see the tile that we created. Select the **FMClerkWorkspace** form in Solution Explorer. Right-click and select **Set as startup project**.\n8.  Click **Ctrl+F5** to run the form.\n9.  You’ll see the modified workspace with the tile definition.\n10. Select the **RevenuePerRentalAutoTransmission** KPI tile to go to the KPI details page. Scroll and see the trends created by default.\n\n[![BI8](./media/bi8.png)](./media/bi8.png)\n\n## Modify default trend charts shown in the client\nTrend analysis is vital to the KPI experience and the KPI details page provides the user with 3 pre-build trend charts. These charts can be used to answer the following business questions.\n\n-   **Time trend:** When did the change occur? Has it always been this way?\n-   **Top contributors:** Who or what are biggest contributors?\n-   **Bottom contributors:** Who or what are contributing least?\n\nWhen you define a new KPI, you get the these trends by default – the system tries to guess which trends may be relevant. This happens, even if the developer does not specify these trends when defining the KPI. As a developer who is aware of the business context, you may wish to identify specific trends that need to be shown to the user – not the default trends shown. In the following example, let’s build specific trend charts to the KPI so that users can quickly diagnose the problem.\n\n### Modify the default time trend chart\n\nYou’ll modify the default time trend chart so that it only shows the trend for the last 6 months.\n\n1.  Select the KPI **RevenuePerRentalAutoTransmission** in Solution Explorer and double-click. KPI designer will be displayed.\n2.  Select **RevenuePerRentalAutoTransmission &gt; Trends** node. Right-click and select **New Trend**.\n3.  Right-click the newly created node and select **Properties**. Modify following property values.\n    |              |                 |\n    |--------------|-----------------|\n    | **Property** | **Value**       |\n    | Name         | MyTimeTrend     |\n    | Trend Type   | Time trend      |\n    | Item Count   | 6               |\n    | Dimension    | RentalStartDate |\n    | Attribute    | Month           |\n    | Label        | Past 6 months   |\n\n4.  Save the KPI.\n\n### Modify the default top contributors trend chart\n\nYou’ll modify the default top contributors chart to reflect the top auto transmission rentals by vehicle model.\n\n1.  Select **RevenuePerRentalAutoTransmission &gt;** **Trends**. Right-click and select **New Trend**.\n2.  Select the newly created bode. Right-click and select properties. Modify following property value.\n    |              |                       |\n    |--------------|-----------------------|\n    | **Property** | **Value**             |\n    | Name         | TopModels             |\n    | Dimension    | FMVehicle             |\n    | Attribute    | VehicleModel          |\n    | Item Count   | 5                     |\n    | Trend Type   | Top trend             |\n    | Label        | Top performing models |\n\n3.  Next, you’ll define another top contributor chart in addition to the default one. Select the **RevenuePerRentalAutoTransmission &gt; Trends** node. Right-click and select **New Trend**.\n4.  Select the newly created trend node. Right-click and select **Properties**. Enter the following property values (you must enter property values in the following order).\n    |              |                    |\n    |--------------|--------------------|\n    | **Property** | **Value**          |\n    | Name         | TopCustomers       |\n    | Trend Type   | Top trend          |\n    | Dimension    | FMCustomerProfile  |\n    | Attribute    | Customer Last Name |\n    | Item Count   | 5                  |\n    | Label        | Top Customers      |\n\n5.  Save the KPI. Rebuild the project.\n\n### Preview the trending experience in client\n\nPreview the KPI definition in the client.\n\n1.  Click **Ctrl+F5** to run the form in Visual Studio. You’ll see the modified workspace with the tile definition\n2.  Select the **RevenuePerRentalAutoTransmission** KPI tile to go to the KPI details page. Notice that the trend definitions are shown in the KPI details UI.\n\n[![BI9](./media/bi9.png)](./media/bi9.png) Scroll to the right and select the top contributors trend. In the drop-down select the **Top Customers** trend chart. Notice that the chart changes to reflect the trend chart selected by the user.\n\n## Model a KPI using a method expression\nDefining a KPI expression using pre-defined measures is the easiest approach toward building KPIs. However, it requires that the developer models all the required measures into the aggregate measurement. It’s a good practice to ship frequently used calculations within the aggregate measurement. This way, users can define new KPIs within the client. However, there is another way to ship calculations without crowding the aggregate measurement with many calculated measures. Developer has the ability to build a calculated expression by referencing existing measures and dimension attributes and to reuse that expression in a KPI definition. These expressions are called Method expressions. Method expressions can be thought of as the equivalent of MDX expressions in Dynamics AX 2012. But as you’ll discover in following sections, writing method expressions is both easy and quick.\n\n### Review the first method expression\n\nLet’s write a simple method expression that multiplies a measure by a constant. Let’s use that method expression and define a KPI. First, let’s examine the code you’re going to write.\n\n    using  Microsoft.Dynamics.AX.Framework.Analytics.AggregateQuery.QueryModel.Core;\n\n    [BIAggregateQueryExpressionAttribute(\"FMAggregateMeasurements\")]\n    class FMRentalCalculations\n    {\n\n        // Provide the EDT of the value returned\n        [BIAggregateQueryMethodExpression(extendedtypestr(AmountMST))]\n        public static NumericExpression FMRevenuePerRentalMargin()\n        {\n            // Margin ratio is a value derived using a function\n            NumericExpression marginRatio = FMFleetMetodExpressions::RentalMarginRatio();\n           \n            NumericExpression calculation = new MeasureExpression(\"FMAggregateMeasurements/RevenuePerRental\").Multiply( marginRatio);\n\n            return calculation;\n        }\n\n        // Provides a constant that gets the margin ratio\n        private static NumericConstantExpression RentalMarginRatio()\n        {\n            return new NumericConstantExpression(\"0.30\");\n        }\n    }\n\nLet’s examine the method in detail. This is the first attribute.\n\n    [BIAggregateQueryExpressionAttribute(\"FMAggregateMeasurements\")]\n\nThis specifies that the calculations in the class refer to the aggregate measurement **FMAggregateMeasurement**. Notice that you can write a method expression class scoped to a specific aggregate measurement so that the expressions can be shared across KPIs, calculations, and other classes. Each method becomes an expression that can be referenced by value or the goal property of a KPI definition. Consider the following method.\n\n    [BIAggregateQueryMethodExpression(extendedtypestr(AmountMST))]\n    public static NumericExpression FMRevenuePerRentalMargin()\n        {\n            \n            NumericExpression marginRatio = FMFleetMetodExpressions::RentalMarginRatio();\n            NumericExpression calculation = new MeasureExpression(\"FMAggregateMeasurementpreview\n    s/RevenuePerRental\").Multiply( marginRatio);\n\n            return calculation;\n        }\n\nThe first line designates the EDT of the value returned by the method.\n\n       [BIAggregateQueryMethodExpression(extendedtypestr(AmountMST))]\n\nNotice that a method expression must always return a NumericExpression type. A NumericExpression is a super type that refers to a number that can be bound to a value or a goal expression in a KPI. The following line is the core of the calculation.\n\n    MeasureExpression(\"FMAggregateMeasurements/RevenuePerRental\").Multiply( marginRatio);\n\nA MeasureExpression is an object that evaluates measures from an aggregate measurement defined in the AOT. A measure expression can be manipulated using common operators as well as using aggregate expressions.\n\n### Define a new KPI using a pre-defined method expression\n\n1.  You’ll define a KPI with a pre-defined method expression present in the class **FMRentalCalculations**. Select the project node. Right-click and select **Add**.\n2.  Select **Analytics &gt; Key performance indicator** from the list of items. Provide **FMRevenuePerRentalMargin** as the name of the KPI.\n3.  KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin**.\n4.  Select **FMRevenuePerRentalMargin**. Right-click and select properties. Specify following property values.\n    |              |                        |\n    |--------------|------------------------|\n    | **Property** | **Value**              |\n    | Measurement  | FMAggregateMeasurement |\n\n5.  Select the **Value** node. Right-click and select properties. Enter following property values (you must enter them in the order shown below).\n    |                        |                          |\n    |------------------------|--------------------------|\n    | **Property**           | **Value**                |\n    | Value Type             | Based on Expression      |\n    | Expression Class name  | FMRentalCalculations     |\n    | Expression method name | FMRevenuePerRentalMargin |\n\n6.  Define the expression for the KPI goal. Select the **Goal** node and specify the following properties.\n    |              |              |\n    |--------------|--------------|\n    | **Property** | **Value**    |\n    | Goal Type    | BasedOnValue |\n    | Value        | 250          |\n\n7.  Save the KPI definition. Build the project.\n8.  You can preview the KPI definition.\n\n## Create a count tile using a KPI definition\n*Tiles* are user interface elements that can be defined as buttons to take the user to a different location in the product. In that regard, they are similar to menu item buttons. However, tiles can also display business data like counts and KPIs. You have the ability to draw KPI tile into different styles using properties defined within the KPI. Next, you’ll modify KPI properties so that it renders as a count tile.\n\n### Modify KPI properties\n\n1.  Select the KPI **FMRevenuePerRentalMargin** in Solution Explorer and double-click. KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin**.\n2.  Select **FMRevenuePerRentalMargin**. Right-click and select properties. Modify the following property values.\n    |                       |           |\n    |-----------------------|-----------|\n    | **Property**          | **Value** |\n    | Show Goal             | No        |\n    | Show Status and Trend | No        |\n\n3.  Save the KPI definition.\n\n### Create a tile using the KPI definition\n\nNext, you’ll create a tile using the KPI definition.\n\n1.  Create a new tile. In Solution Explorer, right-click the project node, point to **Add**, and then click **New Item**.\n2.  Select **Operations** **Artifacts** &gt; **User Interface** &gt; **Tile**.\n3.  For the name, enter **FMRevenuePerRentalMarginTile**. This is the name of the tile that will be created. The name must be unique across tiles.\n4.  Click **Add**. The new tile will appear in Visual Studio.\n5.  Drag and drop the **FMRevenuePerRentalMargin** KPI definition from Solution Explorer onto the **FMRevenuePerRentalMarginTile** tile definition in the designer. This will automatically specify following properties:\n    |              |                              |\n    |--------------|------------------------------|\n    | **Property** | **Value**                    |\n    | Size         | Wide                         |\n    | Label        | Margin on Revenue per Rental |\n    | Type         | KPI                          |\n    | KPI          | FMRevenuePerRentalMargin     |\n\n6.  Save the tile definition.\n\n### Modify the workspace by adding the newly created KPI tile to it\n\nNow that you defined a KPI tile, you can put it in the interface so the user can take advantage of it. First, add it to a workspace that you want to extend.\n\n1.  If you haven’t done so already, launch Application Explorer and locate **Fleet Management &gt; User Interface &gt; Forms &gt; FMClerkWorkspace**. Right-click and select **Add to current project**.\n2.  In Solution Explorer, expand the Forms folder and then double-click **FMClerkWorkspace**.\n3.  Decide where the KPI should appear in the workspace. For this tutorial, you’ll place it at the end of the first section (TabPage) of the panorama (Tab) on the form. This section is named TileContainer. Expand **FMClerkWorkspace &gt; **Design** &gt;**PanoramaBody (Tab)** &gt; **SummaryTileSection (TabPage)****.\n4.  Right-click **SummaryTileSection**, point to **New**, and then click **Tile Button**.\n5.  Specify the following values for the new tile button.\n    |              |                              |\n    |--------------|------------------------------|\n    | **Property** | **Value**                    |\n    | Name         | RevenuePerRentalKPITile      |\n    | Tile         | FMRevenuePerRentalMarginTile |\n\n6.  Save and rebuild the project\n7.  Let’s run the form to see the tile we created above. Select the **FMClerkWorkspace** form in the Solution Explorer. Right-click and select **Set as startup project**.\n8.  Click **Ctrl+F5** to run the form.\n9.  You’ll see the modified workspace with the tile definition.\n\n## Add a drillthru link from a KPI tile to a different form\nKPI tiles drill-down to the **KPIDetails** form by default. So, unless you change the drill-thru destination within the KPI definition, KPI tiles will always take the user to the details page for that KPI. In this exercise, you’ll modify the default drill-thru destination.\n\n1.  Select the KPI **FMRevenuePerRentalMargin** in Solution Explorer and double-click. KPI designer will be displayed with the KPI **FMRevenuePerRentalMargin.**\n2.  Select **FMRevenuePerRentalMargin**. Right-click and select properties. Modify following property values.\n    |                      |                      |\n    |----------------------|----------------------|\n    | **Property**         | **Value**            |\n    | Drill thru Link type | Menu item            |\n    | Menu item name       | FMReservationsReport |\n    | Menu item type       | Display              |\n\n3.  Save the KPI definition.\n4.  Click **Ctrl+F5** to run the form.\n5.  You’ll see the modified workspace with the tile definition. Click the tile.\n\n## Preview the enriched workspace\nAfter making the above modifications to the clerk workspace, you can reload the workspace to view the updated content. You can access the workspace from the newly created link in the navigation pane. Your updated workspace will show the added charts and KPI tile.\n\n## Appendix\n[]()\n\n### Installing the demo data\n\nTo work with the sample, you must install the provided demo data.\n\n1.  Open Internet Explorer, and go to your instance base URL.\n    -   In the cloud environment, the base URL is obtained from LCS\n    -   On a local VM, the base URL is [https://usnconeboxax1aos.cloud.onebox.dynamics.com](https://usnconeboxax1aos.cloud.onebox.dynamics.com/en/).\n\n2.  Sign in.\n3.  On the dashboard, scroll to the right, and in the **Fleet Management** section, click the **Fleet setup** tile.\n4.  On the **Setup** form, click **Load demo data**.\n5.  If you’re asked to reload the base data, click **Yes**.\n6.  When the data is finished loading, click **Close**.\n7.  Click **Show navigation pane** in the application bar. [![BI10](./media/bi10.png)](./media/bi10.png)\n8.  Click on **App links**. [![BI11](./media/bi11.png)](./media/bi11.png)\n9.  Click **System Administration** &gt; **Maintain aggregate measurements**. Select **FMAggregateMeasurements**.\n10. On the application bar, click **Refresh now**. Wait until the processing completes. Processing is indicated at top of the page by a series of moving dots. The processing is completed when the indicator disappears.\n\n \n\n"}